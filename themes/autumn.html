<!----------------------------------------------------

    TUMBLR THEME: Autumn - Â© Flipse / @mournstera
    - Version 2.2.0

    
    RELEASED:   30 September 2022
    UPDATED:    04 April 2025
    
    CREDITS:        mournstera.tumblr.com/credit
    TERMS OF USE:   mournstera.tumblr.com/themes

----------------------------------------------------->
<!DOCTYPE html>
<html lang="en" {block:ifDarkMode}data-theme="light"{/block:ifDarkMode}> 
<head>

<title>{title}{block:PermalinkPage}{block:PostSummary}: {PostSummary}{/block:PostSummary}{/block:PermalinkPage} {block:TagPage}/ #{Tag}{/block:TagPage} {block:SearchPage}| search: {SearchQuery}{/block:SearchPage}</title>

<link rel="shortcut icon" href="{Favicon}"/>
<link rel="alternate" type="application/rss+xml" href="{RSS}"/>

{block:Description}
<meta name="description" content="{MetaDescription}"/>
{/block:Description}

{NewPostStyles} 

<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">

{block:ifDarkMode}
    <script> 
        const storedTheme = localStorage.getItem("theme") || (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");
        if (storedTheme) {
          document.documentElement.setAttribute("data-theme", storedTheme); 
        }
    </script>
{/block:ifDarkMode}

{block:Options}
<meta name="image:Sidebar image" content=""/>
<meta name="image:Sidebar image dark mode" content=""/>

<meta name="color:Text" content="#454545"/> 
<meta name="color:Link" content="#b0b0b0"/>
<meta name="color:Background" content="#ffffff"/>
<meta name="color:Background 2" content="#f9f9f9"/>
<meta name="color:Borders" content="#e5e5e5"/>
<meta name="color:Accent" content="#c9b7ac"/>

<meta name="color:Dark mode Text" content="#fcfcfc"/>
<meta name="color:Dark mode Link" content="#b1b1b1"/>
<meta name="color:Dark mode Background" content="#181818"/>
<meta name="color:Dark mode Background 2" content="#212121"/>
<meta name="color:Dark mode Borders" content="#3b3b3b"/>
<meta name="color:Dark mode Accent" content="#bb9175"/>

<meta name="select:Font size" content="1.1rem" title="1.1rem (11px)"/>
<meta name="select:Font size" content="1.2rem" title="1.2rem (12px)"/> 
<meta name="select:Font size" content="1.3rem" title="1.3rem (13px)"/> 
<meta name="select:Font size" content="1.4rem" title="1.4rem (14px)"/>
<meta name="select:Font size" content="1.5rem" title="1.5rem (15px)"/>
<meta name="select:Font size" content="1.6rem" title="1.6rem (16px)"/>
<meta name="select:Font size" content="1.7rem" title="1.7rem (17px)"/>
<meta name="select:Font size" content="1.8rem" title="1.8rem (18px)"/>

<meta name="select:Blog Layout" content="head" title="Header"/>
<meta name="select:Blog Layout" content="left" title="Left sidebar"/>
<meta name="select:Blog Layout" content="right" title="Right sidebar"/>

<meta name="select:Border type" content="solid" title="Solid"/>
<meta name="select:Border type" content="dashed" title="Dashed"/>
<meta name="select:Border type" content="dotted" title="Dotted"/>

<meta name="select:Post width" content="350px"/>
<meta name="select:Post width" content="400px"/>
<meta name="select:Post width" content="450px"/>
<meta name="select:Post width" content="500px"/>
<meta name="select:Post width" content="540px"/>

<meta name="select:Sidebar image size" content="80px">
<meta name="select:Sidebar image size" content="100px">
<meta name="select:Sidebar image size" content="120px">

<meta name="select:Sidebar image shape" content="square" title="Square">
<meta name="select:Sidebar image shape" content="rounded" title="Rounded">
<meta name="select:Sidebar image shape" content="circle" title="Circle">
<meta name="select:Sidebar image shape" content="blob" title="Blob">

<meta name="select:Photoset gutter" content="1px" title="1px"/>
<meta name="select:Photoset gutter" content="2px" title="2px"/>
<meta name="select:Photoset gutter" content="3px" title="3px"/>
<meta name="select:Photoset gutter" content="4px" title="4px"/>

<meta name="select:Post info" content="post-icons" title="Icons">
<meta name="select:Post info" content="post-text" title="Text">

<meta name="select:Display tags" content="tags-always" title="Always">
<meta name="select:Display tags" content="tags-upon-toggle" title="Behind toggle">

<meta name="if:Dark mode" content=""/>
<meta name="if:Center post column" content=""/>
<meta name="if:Round content corners" content=""/>
<meta name="if:Round photoset corners" content=""/>
<meta name="if:Search bar" content=""/>
<meta name="if:Update tab" content=""/>

<meta name="text:Body font"  content="Karla"/>
<meta name="text:Accent font"  content="Reddit Mono"/>

<meta name="text:Post margin" content="13rem"/>

<meta name="text:Accent icon" content="cloud-rain"/>

<meta name="text:Custom title"  content="title"/>
<meta name="text:Custom description" content="This is where your description text goes. Links and html is allowed."/>

<meta name="text:Home Link Icon" content="home"/>
<meta name="text:Home Link Label" content="Home"/>

<meta name="text:Ask Link Icon" content="message-circle"/>
<meta name="text:Ask Link Label" content="Ask"/>

<meta name="text:Navigation Toggle Icon" content="folder-heart"/>
<meta name="text:Navigation toggle Label" content="explore"/>

<meta name="text:Archive Link Label" content="Archive"/>

<meta name="text:Activity 1 icon" content="bell"/>
<meta name="text:Activity 1" content="update text"/>
<meta name="text:Activity 2 icon" content="device-tv"/>
<meta name="text:Activity 2" content="watching"/>
<meta name="text:Activity 3 icon" content="headphones"/>
<meta name="text:Activity 3" content="listening"/>
<meta name="text:Activity 4 icon" content="books"/>
<meta name="text:Activity 4" content="reading"/>
<meta name="text:Activity 5 icon" content="device-gamepad-2"/>
<meta name="text:Activity 5" content="playing"/>

{/block:Options} 

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/dist/tabler-icons.min.css" />

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family={text:Body font}:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family={text:Accent font}:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap">
<style>
:root {
    --font1: '{text:Body font}', sans-serif;
    --font2: '{text:Accent font}', sans-serif;
    --font-size: {select:Font size};
    --line-height: 1.8;
    --post-width: {select:Post width};
    --right-width: 6rem;
    --sb-width: 200px;
    --sb-icon: {select:Sidebar image size};
    --gutter: {select:Photoset gutter};
    --gap1: 1.2rem;
    --gap2: 1.5rem;
    --gap3: 2.5rem;
    --gap4: 3.5rem;
    --gap5: 4.5rem;
    --gap-top-bottom: 10rem; 
    --gap-post-margin: {text:Post margin};
    --text-margin: 1.8rem; 
{block:ifRoundPhotosetCorners}
    --photo-corners: 0.8rem;
{/block:ifRoundPhotosetCorners}
{block:ifRoundContentCorners}
    --round1: 0.5rem;
    --round2: 0.8rem;
    --round3: 1.2rem; 
    --circle: 100%;
{/block:ifRoundContentCorners}
    --border: {select:Border type};
}
:root{block:ifDarkMode}, html[data-theme='light']{/block:ifDarkMode} {
    --light-on: block;
    --light-off: none;
    --c-text: {RGBcolor:Text};
    --c-link: {RGBcolor:Link};
    --c-bg1: {RGBcolor:Background};
    --c-bg2: {RGBcolor:Background 2};
    --c-border: {RGBcolor:Borders};
    --c-acc1: {RGBcolor:Accent};
    --c-shadow: {RGBcolor:Shadow};
}
{block:ifDarkMode}
html[data-theme='dark'] {
    --light-on: none;
    --light-off: block;
    --c-text: {RGBcolor:Dark mode Text};
    --c-link: {RGBcolor:Dark mode Link};
    --c-bg1: {RGBcolor:Dark mode Background};
    --c-bg2: {RGBcolor:Dark mode Background 2};
    --c-border: {RGBcolor:Dark mode Borders};
    --c-acc1: {RGBcolor:Dark mode Accent};
    --c-shadow: {RGBcolor:Dark mode Shadow};
}
html.theme-transition,
html.theme-transition *,
html.theme-transition *:before,
html.theme-transition *:after {
    transition: 0.0s !important;
    transition-delay: 0 !important;
}
{/block:ifDarkMode}
/* -------------------------------------  css resets*/
*,*::before,*::after {
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    -moz-osx-font-smoothing: grayscale;
    box-sizing: border-box;
}
* {
    margin: 0;
}
html {
    height: 100%;
    font-size: 62.5%; 
    scroll-behavior: smooth;
}
button,
textarea,
select {
    font: inherit;
}
button {
    outline: none;
    border: 0;
    background: transparent;
    padding: 0;
    display: inherit;
    cursor: pointer;
    color: inherit;
}
input{
    font: inherit;
    border: none;
    outline: 0;
    padding: 0;
    background-color: transparent;
}
p,h1,h2,h3,h4,h5,h6 {
    overflow-wrap: break-word;
}
ul,ol {
    padding: 0;
    margin: 0;
    list-style: none;
}
.tmblr-iframe-pushdown {
    padding-top: 0!important;
}
.iframe-controls--phone-mobile {
    display: none!important; 
}
/* --------------------------------------------------------- SCROLLBARS   */
@supports selector(::-webkit-scrollbar) {
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }
    ::-webkit-scrollbar-track {
        background-clip: padding-box;
        background-color: rgb(var(--c-bg1));
        border-left: 1px solid rgb(var(--c-border));
    }
    ::-webkit-scrollbar-thumb {
        background-color: rgb(var(--c-acc1));
    }
    ::-webkit-scrollbar-button {
        display: none;
    }
    ::-webkit-scrollbar-corner {
        background-color: rgb(var(--c-bg1));
    }
}

@-moz-document url-prefix() {
  * {
    scrollbar-width: thin;
    scrollbar-color: rgb(var(--c-acc1)) rgb(var(--c-bg1));
  }
}
/* ------------------------------------- selection */
::-moz-selection {
    background-color: rgb(var(--c-acc1));
    color:rgb(var(--c-text));
}
::selection {
    background-color: rgb(var(--c-acc1));
    color:rgb(var(--c-text)); 
}
/* ------------------------------------- tooltips */
.tippy-box[data-theme~='custom'] {
    font-size: var(--font-size);
    font-weight: 400;
    text-align:center;
    padding: 9px;
    color: rgb(var(--c-bg1));
    border: 0px solid rgb(var(--c-border));
    border-radius: var(--round1);
    background-color: rgb(var(--c-text));
    text-transform: lowercase;
    margin: 1.5rem;
    z-index: 9999999;
}
.tippy-box[data-theme~='credit'] {
    font-size: var(--font-size);
    font-weight: 400;
    text-align:center;
    padding: var(--gap1);
    color: rgb(var(--c-bg1));
    border: 0px solid rgb(var(--c-border));
    border-radius: var(--round1);
    background-color: rgb(var(--c-text));
    margin: 1.5rem;
    z-index: 9999999;
}
@keyframes smooth-fade {
    from {
        opacity: 0;
        transform: scale(0.9) translateY(2px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

.tippy-box[data-animation='smooth-fade'] {
    animation: smooth-fade 0.25s ease-out;
}
.tippy-box[data-theme~='credit'][data-placement^='left'] > .tippy-arrow::before {
    border-left-color: rgb(var(--c-text));
}
/* ------------------------------------- tumblr lightbox */
.vignette, #vignette {
    opacity:0;
}
.lightbox-image, #tumblr_lightbox img {
    box-shadow:none !important;
    border-radius:0 !important;
    max-width:none;
}
.tmblr-lightbox, #tumblr_lightbox {
    background-color: rgb(var(--c-bg1),.90)!important;
}
.tmblr-iframe--gdpr-banner,
.tmblr-iframe--app-cta-button,
.gdpr-banner {
    display: none !important;
}
/* ------------------------------------- general */
body {
    font-family: var(--font1);
    font-size: var(--font-size);
    color: rgb(var(--c-text));
    background-color: rgb(var(--c-bg1));
    height: 100%;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    line-height: 1;
    font-weight: 400;
    overflow: hidden;
}
a {
    color:rgb(var(--c-link));
    text-decoration: none;
    transition: all 0.2s ease;
}
a:hover {
    color: rgb(var(--c-acc1)); 
    transition: all 0.2s ease;
}

.flex {
	display: flex;
} 
.centered {
	align-items: center;
	justify-content: center;
}
.align-center {
	align-items: center;
}
.justify-center {
	justify-content: center;
}
.between {
	justify-content: space-between;
}
.column {
    flex-direction: column;
}
.wrap {
    flex-wrap: wrap;
}
.gap1 {
    gap: var(--gap1);
}
.gap2 {
    gap: var(--gap2);
}
.gap3 {
    gap: var(--gap3);
}
.gap4 {
    gap: var(--gap4);
}
.gap5 {
    gap: var(--gap5);
}
.light-on {
    display: var(--light-on);
}
.light-off{
    display: var(--light-off); 
}

/* -------------------------------------  containers */
.page-container {
    display: flex;
    flex-direction: column;
    height: 100vh;
    justify-content: space-between;
    margin-right: var(--right-width);
    overflow-x: hidden;
    overflow-y: scroll;
}
main {
    display: grid;
    gap: 6rem;
    margin: var(--gap-top-bottom) 0;
    transition: margin .5s ease;
    justify-content: center;
    justify-items: center;
}
.head main {
    grid-template-areas: "sb" "post";
    margin-left: var(--right-width);
}
.left main {
    grid-template-areas: "sb post";
{block:ifCenterPostColumn}
    margin-right: calc( var(--sb-width) - var(--right-width) + 6rem);
{/block:ifCenterPostColumn}
}

.right main {
    grid-template-areas: "post sb";
{block:ifCenterPostColumn}
    margin-left: calc( var(--sb-width) - var(--right-width) + 6rem);
{/block:ifCenterPostColumn}
}

/* -------------------------------------  footer */
footer.footer-bottom {
    margin-top: var(--gap-top-bottom);
    padding-bottom: var(--gap3);
    line-height: 1.6;
    text-align: center;
    width: 100%;
}
/* -------------------------------------  sidebar */
aside.sb {
    width: var(--sb-width);
    grid-area: sb;
}
.head aside.sb {
    width: var(--post-width);
}
.left .sb-inner, .right .sb-inner {
    position: sticky;
    top: var(--gap-top-bottom);
    width: var(--sb-width);
}
 .head .sb-inner {
    width: var(--post-width);
    border-bottom: 1px var(--border) rgb(var(--c-border));
    padding-bottom: var(--gap2);
}
.left .sb-wrap, .right .sb-wrap {
    flex-direction: column;
    align-items: center;
    gap: var(--gap2);
}
/* sidebar image */
.sidebar-icon {
    justify-content: flex-end;
    align-items: flex-end;
    position: relative;
    width: var(--sb-icon);
    height: var(--sb-icon);
}
.sidebar-icon img {
    width: var(--sb-icon);
    height: var(--sb-icon);
    overflow: hidden;
    object-fit: cover;
}
.sidebar-icon.rounded img{
    border-radius: 0.4em;
}
.sidebar-icon.circle img {
    border-radius: 100%;
}
.sidebar-icon.blob img{
    -webkit-clip-path: url(#blob); 
    clip-path: url("#blob"); 
}
img.sb-image-light {
    display: var(--light-on);
}
img.sb-image-dark {
    display: var(--light-off);
}
.accent-icon {
    position: absolute;
    font-size: calc(var(--font-size) + 8px);
    display: flex;
    background: rgb(var(--c-bg1));
    border: 1px solid rgb(var(--c-border));
    border-radius: var(--circle);
    padding: 5px;
    color: rgb(var(--c-acc1));
}
.sb-bottom {
    width: 100%;
}
.sb-title {
    font-size: calc(var(--font-size) + 3px);
    font-weight: 700;
}
.sb-description {
    line-height: 1.4;
    margin-top: var(--gap1);
    font-family: var(--font2);
}
:where(.left, .right) .sb-title,
:where(.left, .right) .sb-description {
    text-align: center;
}
nav.menu {
    margin-top: var(--gap2);
}
.left nav.menu, .right nav.menu{
    justify-content: center;
}
nav.menu a, button.toggle-nav {
    border-radius: var(--round1);
    border: 1px var(--border) rgb(var(--c-border));
    display: flex;
    padding: 0.5rem;
    font-size: calc(var(--font-size) + 6px);
    color: rgb(var(--c-text));
}
nav.menu a:hover, button.toggle-nav:hover {
    color: rgb(var(--c-acc1));
}
.switch-nav.hide {
    display: none;
}
{block:ifNavigationToggleLabel}
.nav-wrap {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease-out;
}
{/block:ifNavigationToggleLabel}
nav.menu2 {
    margin: var(--gap3) 0 0.5rem 0;
    justify-content: center;
}
/* -------------------------------------  pagination */
nav.pagi {
    display: grid;
    grid-template-columns: auto auto 1fr;
    font-family: var(--font2);
}
nav.pagi a[class*="page"] {
    color: rgb(var(--c-text));
    cursor: default;
}
nav.pagi a.has_page {
    cursor: pointer;
}
svg.pagi-icon {
    width: calc(var(--font-size) + 5px);
    height: calc(var(--font-size) + 5px);
    fill: currentColor;
}
nav.pagi a[class*="page"] .pagi-icon {
    opacity: 0.2;
}
nav.pagi a.has_page .pagi-icon {
    opacity: 1;
}
nav.pagi a.has_page:hover {
    color: rgb(var(--c-acc1));
}
span.current_page {
    font-weight: 500;
    text-align: right;
}

/* -------------------------------------  sections */
  
section.content {
    width: var(--post-width);
    grid-area: post;
}
.post-content {

}
article {
    width: 100%;
{block:IndexPage}
    margin-bottom: var(--gap-post-margin);
{/block:IndexPage}
}

:is(article h1, article h2, article h3, article p, article ul, article ol, article blockquote, article .question, ol.notes) {
    line-height: var(--line-height); 
}
/* -------------------------------------  captions and others */
article .poll-post a.poll-row,
article div.npf-link-block,
article figcaption.audio-caption, /* o.g. npf tumblr audio */
article figcaption.npf-audio-wrapper,
article figcaption.legacy-audio-wrapper,
article h1,
article h2,
article h3,
article ul,
article ol,
article pre,
article blockquote,
article .caption p,
article .replies p,
article .question p {
	margin: var(--text-margin) 0;
}

article ul, article ol {
    padding-left: var(--text-margin);
}
article ul {
    list-style: outside;
}
article ol {
    list-style: decimal;
}
article ul li:hover::marker,
article ol li:hover::marker {
    color: rgb(var(--c-acc1));
}
article ol li, article ul li {
    padding-left: var(--gap1);
}
article h1, .poll-post .poll-question {
    font-size: 1.5em;
    font-weight: 700;
}
article h2 {
    font-size: 1.3em;
    font-weight: 700;
}
article h3 {
    font-size: 1.1em;
    font-weight: 700;
}
article h1:first-of-type {
    margin-top: 0;
}
/* ------------  blockquotes, quote posts, legacy quotes */
article blockquote {
    border-left: 1px solid rgb(var(--c-border));
    padding-left: var(--text-margin);
    margin-left: var(--text-margin);
}
article blockquote p {
    margin: 0!important;
}
article .caption p.npf_quote {
    border-left: 1px solid rgb(var(--c-border));
    padding-left: var(--text-margin);
    margin-left: var(--text-margin);
}
/*  user original  */
.reblog-header {
    margin: var(--text-margin) 0;
}
.reblog-header:is(:not(.original)) {

}
.reblog-header img {
    max-width: 1.8em;
    height: auto;
    border-radius: var(--circle);
}
.reblog-header .user {
    color: rgb(var(--c-text));
    font-weight: 600;
}
.reblog-header a.user:hover {
    color: rgb(var(--c-acc1));
}
span.deactivated:after {
    content:'deactivated';
    opacity:0;
    transition: all 0.2s ease;
    margin-left: 10px;
}
.reblog-header:hover span.deactivated:after {
    opacity:0.7;
}
p:empty {
	display: none;
}
.post-content div.npf_row .npf_col figure p.tmblr-attribution,
.post div.npf_row .npf_col figure p.tmblr-attribution,
body div.npf_row .npf_col figure p.tmblr-attribution {
    width: auto;
}
/* -------------------------------------  npf photoset stuff. */

figure.tmblr-full:is(:not(:last-of-type)) {
    margin-bottom: var(--gutter);
}
figure:is(:not(:last-of-type)) {
    margin-bottom: var(--gutter);
}
article img {
	display: block;
}
article iframe,
article img {
    max-width: 100%;
    height: auto;
}
.post-content div.npf_row {
    margin-bottom: calc(var(--gutter) - 4px);
}
.post-content div.npf_row:last-child {
    margin-bottom: 0;
}
.post-content div.npf_row .npf_col {
    margin-right: calc(var(--gutter) - 4px); 
}
.post-content div.npf_row .npf_col:last-child {
    margin-right: 0;
}
.npf_row:only-of-type,
.npf-photos,
.more_photoset,
.legacy-photo img,
.photoset {
    border-radius: var(--photo-corners);
    overflow:hidden;
    margin: auto;
}
.npf-photos:has(+figure) {
    border-radius: var(--photo-corners) var(--photo-corners) 0 0;
    max-width: fit-content;
}
.npf-photos + figure {
    overflow: hidden;
    border-radius: 0 0 var(--photo-corners) var(--photo-corners);
    margin: var(--gutter) auto auto;
    max-width: fit-content;
}

/* -------------------------------------  legacy photoset stuff. */
.photo-row {
    padding: calc(var(--gutter) / 2) 0; 
    display:flex;
}
.photo-row:first-child {
	padding-top:0;
}
.photo-row:last-child {
	padding-bottom:0;
}
.legacy-photoset-inner {
    cursor:pointer;
    padding: 0 calc(var(--gutter) / 2); 
    flex-grow:1;
}
.legacy-photoset-inner:first-child {
    padding-left:0;
}
.legacy-photoset-inner:last-child {
    padding-right:0;
}
.image {
    width:100%;
    height:100%;
	display:block;
	object-fit:cover;
}
.photo-row-1 .legacy-photoset-inner {
    width:100%;
}
.photo-row-2 .legacy-photoset-inner {
    width:50%;
}
.photo-row-3 .legacy-photoset-inner {
    width:33.3333333%;
}
.photo-single {
    cursor: pointer;
}

/* -------------------------------------  link style in posts*/
:where(.post-content p, .post-content ul, .post-content ol, .post-content blockquote, .sb-description, footer.footer-bottom) a {
    border-bottom: 1px solid rgb(var(--c-acc1));
    padding-bottom: 2px;
}

/* ------------------------------------ alt. description */
.popover.tutorial {
    padding: var(--gap3)!important;
    background-color: rgb(var(--c-text))!important;
    color: rgb(var(--c-bg1))!important;
}
.popover {
    border-radius: var(--round1)!important;
    font: inherit!important;
    box-shadow: none!important;
}
.popover.tutorial .content, .popover.tutorial .title {
    color: rgb(var(--c-bg1))!important;
}
.popover.tutorial .title {
    font-weight: 700!important;
    font-size: 1.2em!important;
}
.popover.tutorial .content {
    font-size: inherit!important;
}
.popover.tutorial .ok_button {
    color: rgb(var(--c-bg1))!important;
    cursor: pointer!important;
}
/* ------------ styling different stuff */
small, sup, sub, big, p.npf_quote {
    font-size: inherit;
    font-family: inherit;
    vertical-align: inherit;
}
p.npf_quirky {
    line-height: inherit;
    font-size: 1.6em;
}
pre {
    white-space: initial;
    margin: 0;
}
code {
    line-height: inherit !important;
    background: transparent;
    font-size: inherit !important;
    word-wrap: break-word;
}
/* -------------------------------------  post footer */
footer.info {
    margin-top: var(--text-margin);
    padding: var(--text-margin) 0;
    border-top: 1px var(--border) rgb(var(--c-border));
}
.pinned-container svg {
    width: calc(var(--font-size) + 6px)!important;
    height: calc(var(--font-size) + 6px)!important;
    fill: rgb(var(--c-acc1))
}
.pinned-container .post-text.info-text {
    font-weight: 700;
}
.info-inner a {
    display: inline-flex;
    color: rgb(var(--c-text));
}
.info-inner a:hover, .toggle-tags:hover {
    color: rgb(var(--c-acc1));
}

a.date {
    font-family: var(--font2);
    font-weight: 600;
}
span.notecount {
    display: flex;
    gap: var(--gap1);
    align-items: center;
}
span.notecount::before {
    content: '';
    width: 10px;
    height: 1px;
    background-color: rgb(var(--c-text));
}
.interact {
    gap: 0.5rem;
}

/*  like */
a.custom-like-container {
    position: relative;
}
a.custom-like-container .like_button {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
}
a.custom-like-container .like_button iframe {
    width: 100%!important;
    height: 100%!important;
}
a.custom-like-container .liked + .custom-like-icon {
    color: rgb(var(--c-acc1))!important;
}
a.custom-like-container .liked + .custom-like-icon+.custom-like-text {
   color: rgb(var(--c-acc1))!important;
}
a.custom-like-container .liked + .custom-like-icon+.custom-like-text:after {
   content:'d';
}
.post-icons.info-icon,
.post-text.info-text {
    display: flex;
}
.post-icons.info-text,
.post-text.info-icon {
    display: none!important;
}
.info-icon svg {
    width: calc(var(--font-size) + 7px);
    height: calc(var(--font-size) + 7px);
}
/*  tags */
.toggle-tags {
    cursor: pointer;
    transition: all 0.2s ease;
    display: inline-flex;
}
.toggle-tags:hover {
    color: rgb(var(--c-acc1));
}
.toggle-tags.tags-always {
    display:none;
}
.tags-container.tags-upon-toggle {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.6s ease;
}

.tags {
    margin: var(--gap2) 0 0.2rem 0;
}
.tags a {
    color: rgb(var(--c-link));
}
.tags a:hover {
    color: rgb(var(--c-acc1));
}
/* ---------  on permalink pages */
.permalink-container {
    margin-bottom: var(--gap3);
}
.permalink-ago {
    font-weight: 700;
    font-size: 1.1em;
}
.permalink-date {
    line-height: 1.6;
    margin-top: 0.4em;
}
.permalink-reblogged {
    flex-direction: column;
    margin-top: var(--gap3);
    gap: 10px;
}
.permalink-source {
    margin-top: var(--gap1);
    display: block;
}
.tags-perma {
    margin-top: var(--gap3);
}
/* -------------------------------------  notes */
.notes-container {
    overflow: hidden;
    border-top: 1px var(--border) rgb(var(--c-border));
    padding-top: var(--gap3);
}
span.note-counter {
    display: block;
    font-weight: 600;
    margin-bottom: var(--gap3);
    text-align: left;
}
ol.notes li.note {
    padding: 0.8rem 0;
    position: relative;
}
ol.notes li.note:first-of-type {
    padding-top: 0;
}
ol.notes li.note:last-of-type {
    padding-bottom: 0;
}
ol.notes li.note img.avatar {
    margin-right: var(--gap1);
    vertical-align: middle;
    max-width: 1.8em;
    height: auto;
    border-radius: var(--circle);
}
a.more_notes_link {
    color: rgb(var(--c-text));
    display: block;
    font-weight: 500;
}
/* -------------------------------------  POST-TYPE: poll */
.poll-post a.poll-row {
    color: rgb(var(--c-text));
    line-height: inherit !important;
    font-size: var(--font-size);
    border-radius: var(--round1);
    padding: 8px var(--gap1);
    font-weight: 600;
    border: 1px solid rgb(var(--c-border));
    background-color: rgb(var(--c-bg1));
    width: auto!important;
    text-align: center;
    min-height: auto;
}
.poll-post a.poll-row:hover {
    color: rgb(var(--c-acc1))!important;
}
a.poll-row p {
    margin: 0!important;
}
.poll-post .poll-see-results {
    margin-top: 0;
    margin-bottom: var(--text-margin);
}
/* -------------------------------------  POST-TYPE: ask*/
.ask-container.rb-answer {
    margin-top: var(--gap3);
}
.ask-user-info {
    gap: 0.4rem;
    line-height: 1;
}
.ask-user-info span:first-child {
    font-weight: 600;
    text-transform: lowercase;
}
.ask-user-info a {
    color: rgb(var(--c-text));
} 
.ask-user-info a:hover {
    color: rgb(var(--c-acc1));
}
.asking-icon {
    color: rgb(var(--c-acc1));
    border-radius: var(--circle);
    display: flex;
}
.asking-icon svg {
    width: calc(var(--font-size) + 10px);
    height: calc(var(--font-size) + 10px);
    stroke-width: 2;
}
.question {
    padding: var(--text-margin);
    background-color: rgb(var(--c-bg2));
    border-radius: var(--round2);
    width: 100%;
    margin-top: var(--gap2);
    border: 1px var(--border) rgb(var(--c-border));
}
.question p {
    margin-right: 0!important;
    margin-left: 0!important;
}
.question p:first-of-type {
    margin-top: 0;
}
.question p:last-of-type {
    margin-bottom: 0;
}
.question .npf_inst {
    max-width: 100%;
    margin: 0;
}
:where(.question, .replies, .rb-answer) img {
    width: auto!important;
    max-width: 100%;
    border-radius: var(--photo-corners);
}
.replies {
    margin-top: var(--text-margin);
}
/* -------------------------------------  POST-TYPE: chat */
p.npf_chat span.label {
    font-weight: 600;
}
p.npf_chat {
    font-family: inherit!important;
}
/* -------------------------------------  video /audio responsiveness */

article iframe:not(iframe.bandcamp_audio_player,.spotify_audio_player, iframe.soundcloud_audio_player, iframe.tumblr_audio_player) {
    max-width: 100%;
    aspect-ratio: 16/9;
    height: auto;
}

iframe.soundcloud_audio_player,
.tumblr_video_container {
    width: 100%!important;
    height: auto!important;
}
figure iframe.spotify_audio_player,
iframe.spotify_audio_player {
    max-height: 90px;
    width: 100%;
}
article iframe[src*='soundcloud'] {
    max-height: 130px;
    width: 100%;
}
figure iframe.bandcamp_audio_player {
    max-height: 120px;
    width: 100%;
}
iframe.tumblr_audio_player {
    max-height: 85px;
    width: 100%;
}

/* -----------------------------------------------------  POST TYPE: audio */
.tmblr-full>.audio-caption {
    display: block!important;
}
figcaption.audio-caption {
    background: rgb(var(--c-bg2));
    border: 1px solid rgb(var(--c-border));
    border-radius: var(--round1);
}
.audio-info {
    display: flex;
    align-items: center;
    gap: var(--gap2);
    padding: var(--gap2);
}
.tmblr-full>.audio-caption .audio-details {
    max-width: 100%;
    padding: 0;
    flex: auto;
}
.tmblr-full>.audio-caption .album-cover {
    width: 80px;
    height: 80px;
    border-radius: var(--round1);
    object-fit: cover;
}
.custom-audio-player-container .play-pause {
    display: flex;
}
.custom-audio-player-container .play-pause svg {
    width: 26px;
    height: 26px;
    color: rgb(var(--c-text));
}
.tmblr-full>.audio-caption .album, .tmblr-full>.audio-caption .artist {
    font-size: 1em;
    line-height: 1.5;
}
.progress-bar-container {
    display: flex;
    align-items: center;
    gap: var(--gap2);
    border-top: 1px solid rgb(var(--c-border));
    padding: var(--gap2);
}
 
/* Style the track (actually range input itself but it's only for chrome) */
.progress-bar {
    width: 100%;
    height: 10px;
    -webkit-appearance: none;  /* Removes the default styling in most browsers */
    background: rgb(var(--c-bg1));
    border-radius: var(--round2);
    border: 1px solid rgb(var(--c-border));
}

/* Style the track for both WebKit and Mozilla browsers */
.progress-bar::-webkit-slider-runnable-track,
.progress-bar::-moz-range-track {
    width: 100%;
    height: 10px;
    background: rgb(var(--c-bg1));
    border-radius: var(--round2);
    border: 1px solid rgb(var(--c-border));
}

/* Style the thumb for WebKit (Chrome, Safari, etc.) */
.progress-bar::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 14px;
    height: 14px;
    background: rgb(var(--c-acc1));
    border-radius: 50%;
    cursor: pointer;
}

/* Style the thumb for Mozilla (Firefox) */
.progress-bar::-moz-range-thumb {
    width: 14px;
    height: 14px;
    background: rgb(var(--c-acc1));
    border:0; /* remove weird border in firefox */
    border-radius: 50%;
    cursor: pointer;
}
.time-display {
    flex-shrink: 0;
}
/* -------------------------------------  POST TYPE: link */

div.npf-link-block {
    align-items: flex-start;
    border: 1px var(--border) rgb(var(--c-border));
    background-color: rgb(var(--c-bg2));
    border-radius: var(--round2);
    flex-direction: column;
}
.question div.npf-link-block {
    background-color: rgb(var(--c-bg1));
}
div.npf-link-block .poster {
    border-bottom: 1px solid rgb(var(--c-bg1));
    height: 250px;
}
div.npf-link-block .title {
    font-size: 1.5em;
    line-height: var(--line-height);
    max-height: 136px;
    overflow: hidden;
    overflow-wrap: anywhere;
    text-overflow: ellipsis;
    font-weight: 500;
    padding: var(--gap2) var(--gap2) 0;
}
div.npf-link-block .poster .title {
    color: #fff;
    padding: var(--gap3);
}
div.npf-link-block .bottom {
    line-height: var(--line-height);
    padding: var(--gap2);
}
div.npf-link-block .bottom .description {
    color: inherit;
    font-size: inherit;
    line-height: inherit;
    margin: 0;
    max-height: 80px;
    overflow: hidden;
    overflow-wrap: anywhere;
    text-overflow: ellipsis;
}
div.npf-link-block .bottom .site-name {
    color: rgb(var(--c-link));
    font-size: inherit;
    line-height: var(--line-height);
    margin-top: 10px;
    opacity: 1;
}

/* -------------------------------------  corners */
.right-bar {
    position: fixed;
    right: 0;
    top: 0;
    background: rgb(var(--c-bg2));
    width: var(--right-width);
    height: 100dvh;
    border-left: 1px var(--border) rgb(var(--c-border));
}
.right-icon {
    background: rgb(var(--c-bg2));
    padding: 0.5rem;
    border-radius: var(--round2);
}
.right-icon svg {
    width: calc( var(--font-size) + 6px);
    height: calc(var(--font-size) + 6px);
}
button.controls {
    background-color: rgb(var(--c-acc1));
    width: var(--right-width);
    height: var(--right-width);
    color: rgb(var(--c-bg1));
    flex: none;
}
button.controls svg{
    width: calc( var(--font-size) + 6px);
    height: calc(var(--font-size) + 6px);
}

iframe.tmblr-iframe, .tmblr-iframe {
    z-index: 99!important;
    transform: scale(0.8);
    transform-origin: 100% 0;
    transition: all 0.3s ease;
    opacity: 0;
    visibility: hidden;
    top: 8px;
    right: 80px!important;
}

.tmblr-iframe.active {
    opacity: 1;
    visibility: visible;
}
.spin {
    transition: rotate .4s ease;
}
.spin.active {
    rotate: 30deg;
}
button.controls:active svg {
    transform: scale(.9);
}

/* update tab */
button.update-toggle span.dot {
    width: 8px;
    height: 8px;
    background-color: rgb(var(--c-acc1));
    position: absolute;
    border-radius: 100%;
    margin-left: 10px;
}
button.update-toggle span.dot.hide{
    display:none;
}
.updates {
    top: var(--gap3);
    right: calc(var(--right-width) + var(--gap3));
    position: absolute;
    line-height: 1.6;
    transition: visibility 0.4s ease, opacity 0.4s ease;
    overflow: hidden;
    visibility: hidden;
    opacity: 0;
    border: 1px var(--border) rgb(var(--c-border));
    border-radius: var(--round2);
}
.updates.active {
    visibility: visible;
    opacity: 1;
}
.updates-inner {
    width: 240px;
    max-height: 200px;
    padding: var(--gap2);
    background-color: rgba(var(--c-bg2));
    border-radius: var(--round1);
    overflow-x: auto;
    scrollbar-color: rgb(var(--c-acc1)) rgb(var(--c-bg2));
}

.update-title {
    font-weight: 600;
    margin-bottom: 3px;
}
.activity {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin: 0.8rem 0;
    line-height:1.5;
}
.activity span {
    display:flex;
}
span.activity-icon {
    font-size: 1.3em;
}
.activity:first-child {
    margin-top:0;
}
.activity:last-child {
    margin-bottom: 0;
}
.update-text+.activity {
    padding-top: 0.5rem;
}

form.search {
{block:ifNotSearchBar}
    display: none!important;
{/block:ifNotSearchBar}
    width: 170px;
    overflow: hidden;
    position: fixed;
    right: calc(var(--right-width) + var(--gap3));
    opacity: 0;
    visibility: hidden;
}
form.search.active {
    opacity: 1;
    visibility: visible;
}
form.search input {
    color: rgb(var(--c-text));
    width: 100%;
    overflow: hidden;
    padding: 1rem;
    background: rgb(var(--c-bg2));
    border-radius: var(--round2);
    border: 1px var(--border) rgb(var(--c-border));
}
form.search:focus-within input {
    border-color: rgb(var(--c-acc1));
}
form.search input::placeholder { 
    padding:0px!important;
    color: rgb(var(--c-text));
    opacity: 1;
}
.searchy.hide {
    display: none;
}

.bottom-corner {
    margin-bottom: var(--gap3);
}
a.credit {
    color: rgb(var(--c-text));
}
button.scroll-to-top, button.scroll-to-top-mobile {
    color: rgb(var(--c-text),.4);
    cursor: default;
}
button.scroll-to-top.visible, button.scroll-to-top-mobile.visible {
    cursor: pointer;
    color: rgb(var(--c-text));
}

/* ------------------------------------------------- responsive */
.mobile, button.scroll-to-top-mobile {
    display:none;
}
/* sticky */
@media only screen and (max-height: 670px ) {
    .sb-inner {
        position: relative;
        top: auto;
    }
}
/* margins */
@media only screen and (max-width: 1200px ) {
    .left main {
        margin-right: 0;
    }
    .right main {
        margin-left: 0;
    }
    .head main {
        margin-left: 0;
    }
}
@media only screen and (max-width: calc({select:post width} + 370px)) {
    :root {
        --sb-width: var(--post-width);
    }
    :is(.left,.right) main {
        grid-template-areas: "sb" "post";
    }
    .mobile {
        display:inline-flex;
    }
     :is(.sb-inner) {
        border-bottom: 1px var(--border) rgb(var(--c-border));
        padding-bottom: var(--gap2);
    }
}

@media only screen and (max-width: calc({select:post width} + 100px)) {
    :root {
        --post-width: 85vw;
    }
    body {
        overflow-y: auto;
    }
    .page-container {
        min-height: 100dvh;
        height: auto;
        overflow: auto;
        margin-right: 0;
    }
    button.scroll-to-top {
        display: none!important;
    }
    button.scroll-to-top-mobile {
        display: inline-flex!important;
    }
    main {
        width: 100vw;
    }
    .right-bar {
        width: 100%;
        height: var(--right-width);
        border-left: 0; 
        border-bottom: 1px var(--border) rgb(var(--c-border));
        flex-direction: row;
        justify-content: end;
    }
    .top-corner {
        flex-direction: row-reverse;
        width: 100%;
    }
    .updates {
        top: calc(var(--right-width) + var(--gap3));
        right: var(--gap3);
    }
    .search-wrap {
        width: 100%;
        padding-left: var(--gap2);
    }
    form.search {
        opacity: 1;
        visibility: visible;
        position: relative;
        width: 100%;
        right: 0;
    }
    form.search input {
        background: rgb(var(--c-bg1));
    }
    button.search-toggle {
        display: none;
    }
    .bottom-corner {
        margin-bottom: auto;
        position: fixed;
        bottom: var(--gap3);
        right: var(--gap3);
    }
}
@media only screen and (max-width:  450px) {

    .head .sb-wrap {
        flex-direction: column;
        align-items: center;
        gap: 0;
    }
    .head nav.menu{
        justify-content: center;
    }
    .head .sb-title,
    .head .sb-description {
        text-align: center;
    }

}
{CustomCSS}
</style>
</head>
<body class="{select:Blog Layout}">

<div class="page-container">

<main>
    <aside class="sb">
        <div class="sb-inner">
        
            <div class="sb-wrap flex gap4 align-center">
        
                {block:IfSidebarImageImage}
                    <div class="sidebar-icon {select:Sidebar image shape} flex">
                        <img class="light-on" src="{image:Sidebar image}"/>
                        <img class="light-off" src="{image:Sidebar image dark mode}"/>
                        {block:ifAccentIcon} 
                        <div class="accent-icon">
                            <i class="ti ti-{text:Accent Icon}"></i>
                        </div>
                        {/block:ifAccentIcon} 
                    </div>
                {/block:IfSidebarImageImage}
            
                <div class="sb-bottom">
    
                    {block:ifCustomtitle}
                        <div class="sb-title">{text:Custom title}</div>
                    {/block:ifCustomtitle}

                    {block:ifCustomDescription}
                        <div class="sb-description">{text:Custom Description}</div>
                    {/block:ifCustomDescription}
                    
        
                    
                    <nav class="menu flex wrap gap1" aria-label="primary navigation">
                        <a href="{BlogURL}" title="{text:Home Link Label}">
                            <i class="ti ti-{text:Home Link Icon}"></i>
                        </a>
                        {block:AskEnabled}
                            <a title="{text:Ask Link Label}" href="/ask"><i class="ti ti-{text:Ask Link Icon}"></i></a>
                        {/block:AskEnabled}
                        
                        {block:ifNavigationToggleLabel}
                        <button class="toggle-nav" title="{text:Navigation Toggle Label}" href="/ask">
                            <i class="ti ti-{text:Navigation Toggle Icon} switch-nav"></i>
                            <i class="ti ti-x switch-nav hide"></i>
                        </button>
                        {/block:ifNavigationToggleLabel}
                        
                    </nav>
                </div>
            
            </div>
            <div class="nav-wrap">
                <nav class="menu2 flex gap1 wrap" aria-label="secondary navigation">
                    {block:HasPages}
                        {block:Pages}
                            <a href="{URL}">{Label}</a>
                        {/block:Pages}
                    {/block:HasPages}
                    
                    {block:ifArchiveLinkLabel}
                        <a href="/archive">{text:Archive Link Label}</a>
                    {/block:ifArchiveLinkLabel}
                    
                    {block:SubmissionsEnabled}
                        <a href="/submit">{SubmitLabel}</a>
                    {/block:SubmissionsEnabled}
                </nav>
            </div>
        </div>
    </aside>

    <section class="content">
    
        {block:posts inlineMediaWidth="1280" inlineNestedMediaWidth="1280"}
    
        <article id="post-{PostID}" class="{posttype}-post posts">

            <div class="post-content">

                <!-- legacy single photo -->
                {block:Photo}
                    <a class="legacy-photo photo-single"  onclick="Tumblr.Lightbox.init([{ width: {PhotoWidth-HighRes}, height: {PhotoHeight-HighRes}, low_res: '{PhotoURL-500}', high_res: '{PhotoURL-HighRes}' }]); $('body').toggleClass('tumblr_lightbox_active'); return false"><img src="{PhotoURL-HighRes}"></a>
                {/block:Photo}
                
                <!-- legacy photoset -->
                {block:Photoset}
                    <div class="photoset" data-layout="{PhotosetLayout}">
                        {block:Photos}
                            <div class="legacy-photoset-inner" 
                                data-width="{PhotoWidth-HighRes}" 
                                data-height="{PhotoHeight-HighRes}" 
                                data-lowres="{PhotoURL-500}" 
                                data-highres="{PhotoURL-HighRes}">
                                <img src="{PhotoURL-HighRes}" alt="{PhotoAlt}" class="image"/>
                            </div>
                        {/block:Photos}
                    </div>
                {/block:Photoset}
    
                <!-- panorama -->
                {block:Panorama}
                    <div class="legacy-photo"><img src="{photourl-panorama}" alt="{photoalt}"></div>
                {/block:Panorama}
                
                <!-- legacy quote (styled as npf) -->
                {block:Quote}
                    <div class="caption">
                        <p class="npf_quote">{Quote}</p>
                        
                        {block:Source}
                            <p class="source">-{Source}</p>
                        {/block:Source}
                    </div>
                {/block:Quote}
                
                <!-- legacy chat (styled as npf) -->
                {block:Chat}
                    <div class="caption">
            	        {block:Lines}
            	        <p class="npf_chat">
            		        {block:Label}
            		        <span class="label">{Label}</span>
            		        {/block:Label}
            		        {Line}
            	        </p>
            	        {/block:Lines}
                    </div>
                {/block:Chat}
                
                <!-- legacy link (styled as npf) -->
                {block:link}
                    <div class="npf-link-block {block:Thumbnail}has-poster{/block:Thumbnail}">
                        <a {Target} href="{URL}" class="link">
                            <div {block:Thumbnail}class="poster" style="background:url({Thumbnail-HighRes}); background-position: 50%; background-repeat: no-repeat; background-size: cover; background-clip: content-box;"{/block:Thumbnail}>
                                <div class="title">{Name}</div>
                            </div>
                            <div class="bottom">
                                {block:Excerpt}<div class="description">{Excerpt}</div>{/block:Excerpt}
                                {block:Host}<div class="site-name">{Host}</div>{/block:Host}
                            </div>
                        </a>
                    </div>
                {/block:link}
                
                <!-- legacy video -->
                {block:Video}
                    <div class="video">
                        {Video-700}
                    </div>
                {/block:Video}
                
                
                {block:Audio}
                    <!-- legacy audio -->
                    <figure class="tmblr-full">
                        <figcaption class="audio-caption legacy">
                            <div class="audio-info">
                                <span class="tmblr-audio-meta audio-details">
                                    {block:TrackName}<span class="tmblr-audio-meta title">{TrackName}</span>{/block:TrackName}
                                    {block:Artist}<span class="tmblr-audio-meta artist">{Artist}</span>{/block:Artist}
                                    {block:Album}<span class="tmblr-audio-meta album">{Album}</span>{/block:Album}
                                </span>
                                {block:AlbumArt}<img class="album-cover" src="{AlbumArtURL}" alt="image"/>{/block:AlbumArt}
                            </div>
                        </figcaption>
                        {block:AudioPlayer}{AudioPlayer}{/block:AudioPlayer}
                    </figure>
                {/block:Audio}
                
                <!-- ask -->
                {block:Answer}
                    <div class="ask-container">
                    
                        <div class="flex gap1 align-center">
                	        <div class="asking-icon">
                	            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail-question"><path stroke="none" d="M0 0h24v24H0z" fill="none" />  <path d="M15 19h-10a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v4.5" /><path d="M19 22v.01" />  <path d="M19 19a2.003 2.003 0 0 0 .914 -3.782a1.98 1.98 0 0 0 -2.414 .483" />  <path d="M3 7l9 6l9 -6" /></svg>
                	        </div>
                            <div class="ask-user-info flex column">
                                <span>{Asker}</span>
                                <span>sent a message</span>
                            </div>
            	        </div>
            	        

                        <div class="question">
                            {Question}
            	       </div>
                    </div>
            
                    {block:NotReblog}
                        <div class="replies">{Answer}</div>
                    {/block:NotReblog}
            
                    {block:Answerer}
                    <div class="ask-container rb-answer">
                    
                        <div class="flex gap1 align-center">
                	        <div class="asking-icon">
                	            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-users"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /><path d="M21 21v-2a4 4 0 0 0 -3 -3.85" /></svg>
                	        </div>
                            <div class="ask-user-info flex column">
                                <span>{Answerer}</span>
                                <span>answered</span>
                            </div>
            	        </div>

                            
                        <div class="question">
                            {Answer}
            	       </div>
                    </div>
                    {/block:Answerer}
                {/block:Answer}
                
                <!-- caption -->
                <div class="caption {block:notreblog}original-post{/block:notreblog}">
                    {block:Text}
                        {block:Title}<h1>{Title}</h1>{/block:Title}
                    {/block:Text}
                    
                    {block:Link}
                        {block:Description}
                        {block:NotReblog}{Description}{/block:NotReblog}
                        {/block:Description}
                    {/block:Link}
                    
                    {block:notreblog}
                    {block:caption}{Caption}{/block:caption}

                    {block:Text}<div class="reblog-content original">{Body}</div>{/block:Text}
                    
                    {/block:notreblog}
                    
                    {block:Rebloggedfrom}
                        {block:Reblogs}
                        <div class="reblogs" {block:Quote}style="display:none;"{/block:Quote}>
                            <div class="reblog-header {block:IsOriginalEntry}original{/block:IsOriginalEntry} flex align-center gap1">
                                <img src="{PortraitURL-64}" alt="{username}'s avatar">
                                {block:IsActive}
            			        <a class="user flex align-center" target="_blank" href="{Permalink}">{Username}</a>
            			        {/block:IsActive}
            			        {block:IsDeactivated}
            		            <span class="user flex align-center deactivated" aria-label="user deactivated">{Username}</span>
            			        {/block:IsDeactivated}
                            </div>
                            
                            <div class="reblog-content">
                                {Body}
                            </div>
                        </div>
                        {/block:Reblogs}
                    {/block:RebloggedFrom}
                </div>
        
            </div><!-- post-content end -->     
        
            {block:Date}

                <footer class="info">
                {block:IndexPage}
                    <div class="info-inner flex align-center gap3 between">

                        
                        <div class="numbers flex align-center gap1">
                            {block:PinnedPostLabel}
                                <div class="pinned-container">
                                    <span class="{select:Post info} info-icon" title="{PinnedPostLabel}">
                					    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon icon-tabler icons-tabler-filled icon-tabler-bookmark"><path d="M14 2a5 5 0 0 1 5 5v14a1 1 0 0 1 -1.555 .832l-5.445 -3.63l-5.444 3.63a1 1 0 0 1 -1.55 -.72l-.006 -.112v-14a5 5 0 0 1 5 -5h4z" /></svg>
                				    </span>
                				    <span aria-label="pinned post" class="{select:Post info} info-text">pinned</span> 
                                </div>
                            
                            {/block:PinnedPostLabel}

                            
                            <a class="date" href="{Permalink}" aria-label="published date" title="Posted {Timeago}">{DayOfMonthWithZero}.{MonthNumberWithZero}.{ShortYear}</a>
                            
                            <span class="notecount">{NoteCountWithLabel}</span>
                        </div>
                            
                        <div class="interact flex align-center">
                            {block:HasTags}
                                {block:IndexPage}
                    			    <div class="toggle-tags {select:Display tags}" aria-label="show tags">
                    				    <span class="{select:Post info} info-icon" title="show tags">
                    				        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-tag"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M7.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M3 6v5.172a2 2 0 0 0 .586 1.414l7.71 7.71a2.41 2.41 0 0 0 3.408 0l5.592 -5.592a2.41 2.41 0 0 0 0 -3.408l-7.71 -7.71a2 2 0 0 0 -1.414 -.586h-5.172a3 3 0 0 0 -3 3z" /></svg>
                    				    </span>
                    				    <span class="{select:Post info} info-text">tags</span>
                    			    </div>
                			    {/block:IndexPage}
            			    {/block:HasTags}
    
            				<a class="custom-like-container {select:Post info} like-tooltip" href="#" aria-label="like post">
            				    {LikeButton}
            					<span class="{select:Post info} info-icon custom-like-icon">
            					    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-heart"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" /></svg>
            					</span>
            					<span class="{select:Post info} info-text custom-like-text">like</span>
            				</a>
    
            				<a href="{ReblogURL}" target="_blank" aria-label="replog post">
            				    <span class="{select:Post info} info-icon" title="reblog">
            					    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-reload"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M19.933 13.041a8 8 0 1 1 -9.925 -8.788c3.899 -1 7.935 1.007 9.425 4.747" /><path d="M20 4v5h-5" /></svg>
            				    </span>
            				    <span class="{select:Post info} info-text">reblog</span>
                            </a>
                        </div>

                    </div>
                {/block:IndexPage}
                
                    {block:PermalinkPage}
                        <div class="permalink-container">
                        
                            <div class="permalink-ago">Posted {TimeAgo}</div>
                            <div class="permalink-date">on {DayOfMonth} {Month}, {Year} at {12Hour}:{Minutes} {CapitalAmPm}</div>
                            
                            {block:RebloggedFrom}
                                <div class="permalink-reblogged flex"> 
                    			    <div>Created by: <a href="{ReblogRootURL}">{ReblogRootName}</a></div>
                    			    <div>Reblogged from: <a href="{ReblogParentURL}">{ReblogParentName}</a></div>
                                </div>
                            {/block:RebloggedFrom}
                            
                            {block:ContentSource}
                                <div class="permalink-source">Source: <a href="{SourceURL}">{SourceTitle}</a></div>
                            {/block:ContentSource}
                        </div>
                    {/block:PermalinkPage}

                        {block:HasTags}
                            <div class="tags-container {block:IndexPage}{select:Display tags}{/block:IndexPage}">
                                <div class="tags flex gap1 wrap align-center">
                                    {block:Tags}
                                    <a href="{TagURL}">#{Tag}</a>
                                    {/block:Tags}
                                </div>
                            </div>
                        {/block:HasTags}
                        
                </footer>
            {/block:Date}
            
        </article>
        
        {block:PostNotes}
            <div id="note" class="notes-container">
                <span class="note-counter">{NoteCountWithLabel}</span>
                {PostNotes-64}
            </div>
        {/block:PostNotes}
        
        {/block:Posts}
            
        {block:Pagination}
        
            <nav class="pagi align-center gap4 between" role="pagigation" aria-label="Pagination">
                <a {block:PreviousPage} href="{PreviousPage}" title="prev page"{/block:PreviousPage} class="flex {block:PreviousPage}has_{/block:PreviousPage}page">
                    <svg class="pagi-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H120v64a8,8,0,0,1-13.66,5.66l-72-72a8,8,0,0,1,0-11.32l72-72A8,8,0,0,1,120,56v64h96A8,8,0,0,1,224,128Z"/></svg>
                </a>
                <a {block:NextPage} href="{NextPage}" title="next page"{/block:NextPage} class="flex {block:NextPage}has_{/block:NextPage}page">
                    <svg class="pagi-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"/></svg>
                </a>
                
                <span class="current_page">page {CurrentPage} out of {TotalPages}</span>
            </nav>
            
        {/block:Pagination}
    </section>
</main>

</div> <!-- end .page-container -->

<div class="right-bar flex between align-center gap3 column">
    <div class="top-corner flex gap2 align-center column">
        <button class="controls flex justify-center align-center" title="tumblr controls" type="button" aria-label="open tumblr controls">
            <svg class="spin" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" xmlns="http://www.w3.org/2000/svg"><path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" /><path d="M2 12.8799V11.1199C2 10.0799 2.85 9.21994 3.9 9.21994C5.71 9.21994 6.45 7.93994 5.54 6.36994C5.02 5.46994 5.33 4.29994 6.24 3.77994L7.97 2.78994C8.76 2.31994 9.78 2.59994 10.25 3.38994L10.36 3.57994C11.26 5.14994 12.74 5.14994 13.65 3.57994L13.76 3.38994C14.23 2.59994 15.25 2.31994 16.04 2.78994L17.77 3.77994C18.68 4.29994 18.99 5.46994 18.47 6.36994C17.56 7.93994 18.3 9.21994 20.11 9.21994C21.15 9.21994 22.01 10.0699 22.01 11.1199V12.8799C22.01 13.9199 21.16 14.7799 20.11 14.7799C18.3 14.7799 17.56 16.0599 18.47 17.6299C18.99 18.5399 18.68 19.6999 17.77 20.2199L16.04 21.2099C15.25 21.6799 14.23 21.3999 13.76 20.6099L13.65 20.4199C12.75 18.8499 11.27 18.8499 10.36 20.4199L10.25 20.6099C9.78 21.3999 8.76 21.6799 7.97 21.2099L6.24 20.2199C5.33 19.6999 5.02 18.5299 5.54 17.6299C6.45 16.0599 5.71 14.7799 3.9 14.7799C2.85 14.7799 2 13.9199 2 12.8799Z" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
        {block:ifDarkMode}
            <button class="theme-toggle right-icon" aria-label="toggle dark & light mode" type="button">
                <svg class="light-off" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="1.5"  stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
                <svg class="light-on" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
            </button>
        {/block:ifDarkMode}
        {block:ifUpdateTab}
            <div class="updates-container flex gap2">
                <div class="updates">
                    <div class="updates-inner">
                        {block:ifActivity1}
            	        <div class="activity">
            	            {block:ifActivity1Icon}<span class="activity-icon"><i class="ti ti-{text:Activity 1 Icon}"></i></span>{/block:ifActivity1Icon}
            	            <span>{text:Activity 1}</span>
                        </div>
                        {/block:ifActivity1}
                        
                        {block:ifActivity2}
            	        <div class="activity">
            	            {block:ifActivity2Icon}<span class="activity-icon"><i class="ti ti-{text:Activity 2 Icon}"></i></span>{/block:ifActivity2Icon}
            	            <span>{text:Activity 2}</span>
                        </div>
                        {/block:ifActivity2}
                        
                        {block:ifActivity3}
            	        <div class="activity">
            	            {block:ifActivity3Icon}<span class="activity-icon"><i class="ti ti-{text:Activity 3 Icon}"></i></span>{/block:ifActivity3Icon}
            	            <span>{text:Activity 3}</span>
                        </div>
                        {/block:ifActivity3}
                        
                        {block:ifActivity4}
            	        <div class="activity">
            	            {block:ifActivity4Icon}<span class="activity-icon"><i class="ti ti-{text:Activity 4 Icon}"></i></span>{/block:ifActivity4Icon}
            	            <span>{text:Activity 4}</span>
                        </div>
                        {/block:ifActivity4}
                        
                        {block:ifActivity5}
            	        <div class="activity">
            	            {block:ifActivity5Icon}<span class="activity-icon"><i class="ti ti-{text:Activity 5 Icon}"></i></span>{/block:ifActivity5Icon}
            	            <span>{text:Activity 5}</span>
                        </div>
                        {/block:ifActivity5}
                    </div>
                </div>
                <button class="update-toggle right-icon" title="update tab" type="button" aria-label="open/close update tab">
                    <span class="dot"></span>
    	            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 1.25a8.069 8.069 0 00-7.912 6.486l-1.254 6.27c-.403 2.013.666 4.037 2.534 4.867a16.1 16.1 0 002.093.761l.104.234a4.853 4.853 0 008.87 0l.104-.234a16.104 16.104 0 002.093-.761c1.868-.83 2.937-2.854 2.534-4.868l-1.254-6.269A8.069 8.069 0 0012 1.25zm3.89 17.008a.751.751 0 00-.158.042c-2.44.628-5.023.628-7.464 0a.75.75 0 00-.157-.042 14.61 14.61 0 01-2.134-.756A2.9 2.9 0 014.305 14.3l1.254-6.27a6.569 6.569 0 0112.882 0l1.254 6.27a2.9 2.9 0 01-1.672 3.202c-.693.308-1.407.56-2.134.756zm-6.441 1.815a16.53 16.53 0 005.102 0 3.354 3.354 0 01-5.102 0z"></path></svg>
    	            </span>
                </button>
            </div>
        {/block:ifUpdateTab}
        
        {block:ifSearchBar}
        <div class="search-wrap flex align-center">
            <form class="search flex gap1 align-center" action="/search" method="get">
                <input type="text" name="q" value="{SearchQuery}" placeholder="search + hit enter" autocomplete="off"/>
            </form>
            <button class="search-toggle right-icon" title="search" type="button">
    		    <svg class="searchy" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><line x1="80" y1="112" x2="144" y2="112" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><circle cx="112" cy="112" r="80" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="168.57" y1="168.57" x2="224" y2="224" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="112" y1="80" x2="112" y2="144" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>
    
    		    <svg class="searchy hide" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><line x1="80" y1="112" x2="144" y2="112" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><circle cx="112" cy="112" r="80" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="168.57" y1="168.57" x2="224" y2="224" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>
            </button>
        </div>
        {/block:ifSearchBar}
    </div>
    
    <div class="bottom-corner flex gap2 align-center column">
    
        <button class="scroll-to-top flex right-icon"  title="scroll to top" type="button" aria-label="click scroll to top">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-up"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M6 15l6 -6l6 6" /></svg>
        </button>
        
        <button class="scroll-to-top-mobile right-icon"  title="scroll to top" type="button" aria-label="click scroll to top">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-up"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M6 15l6 -6l6 6" /></svg>
        </button>
        
        <a class="credit right-icon" target="_blank" href="https://mournstera.tumblr.com"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-code"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M7 8l-4 4l4 4" /><path d="M17 8l4 4l-4 4" /><path d="M14 4l-4 16" /></svg></a>
    </div>
    
</div>

<svg height="0" width="0" style="position:absolute; width:0px; height:0px;"><defs><clipPath id="blob" clipPathUnits="objectBoundingBox"><path d="M0.5,0.053c0.266,-0.074 0.242,0.198 0.44,0.447c0.161,0.204 -0.209,0.435 -0.44,0.455c-0.275,0.023 -0.516,-0.183 -0.471,-0.455c0.037,-0.217 0.235,-0.382 0.471,-0.447Z"></path></clipPath></defs></svg>


<script src="https://static.tumblr.com/diajl5m/y39s6mwvr/legacy-photoset.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/tippy.js@6.3.7/dist/tippy.umd.min.js"></script>
<script src="https://static.tumblr.com/diajl5m/mobsquso5/unify_audio.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function () {

    // toggle tumblr controls
    const control = document.querySelector(".controls");
    
    control.addEventListener("click", function () {
        document.querySelector(".spin").classList.toggle("active");
        document.querySelector(".tmblr-iframe").classList.toggle("active");
    });
    
    // scroll to top button
    const contentSection = document.querySelector(".page-container");
    const scrollElement = document.querySelector(".scroll-to-top");
    
    contentSection.addEventListener("scroll", function () {
        if (contentSection.scrollTop > 70) {
            scrollElement.classList.add("visible");
        } else {
            scrollElement.classList.remove("visible");
        }
    });
    
    scrollElement.addEventListener("click", function () {
        contentSection.scrollTo({ top: 0, behavior: "smooth" });
    });
    
    // scroll to top button MOBILE 
    const html = document.documentElement;
    const scrollElementMobile = document.querySelector(".scroll-to-top-mobile");
    
    document.addEventListener("scroll", function () {
        if (html.scrollTop > 70) {
            scrollElementMobile.classList.add("visible");
        } else {
            scrollElementMobile.classList.remove("visible");
        }
    });
    
    scrollElementMobile.addEventListener("click", function() {
        window.scrollTo({
            top: 0,
            behavior: "smooth"
        });
    });

    // shorten note count
    const noteCounts = document.querySelectorAll(".notecount");

    noteCounts.forEach(function (noteCountElement) {
        let noteCount = parseInt(noteCountElement.textContent.replace(/,/g, "").split(" ")[0], 10);

        if (noteCount >= 1000000) {
            noteCountElement.textContent = `${(noteCount / 1000000).toFixed(2)}m notes`;
        } else if (noteCount >= 1000) {
            noteCountElement.textContent = `${(noteCount / 1000).toFixed(1)}k notes`; 
        }
    });

    {block:ifNavigationToggleLabel}
    //  toggle navigation 
    const toggleButton = document.querySelector(".toggle-nav");
    const navSwitch = document.querySelectorAll(".switch-nav");
    const navWrap = document.querySelector(".nav-wrap");
    
    toggleButton.addEventListener("click", function () {
        navSwitch.forEach(element => {
            element.classList.toggle("hide");
        });
    
        navWrap.classList.toggle("active");
    
        if (navWrap.classList.contains("active")) {
            navWrap.style.maxHeight = navWrap.scrollHeight + "px";
        } else {
            navWrap.style.maxHeight = 0;
        }
    });
    {/block:ifNavigationToggleLabel}
    
    {block:ifSearchBar}
    // search
    const searchTab = document.querySelector(".search-toggle");
    const searchSwitch = document.querySelectorAll(".searchy");
    
    searchTab.addEventListener("click", function () {
        document.querySelector("form.search").classList.toggle("active");
        searchSwitch.forEach(element => {
            element.classList.toggle("hide");
        });

    });
    {/block:ifSearchBar}

    {block:ifUpdateTab}
    // update tab
    const updTab = document.querySelector(".update-toggle");
    
    updTab.addEventListener("click", function () {
        document.querySelector(".updates").classList.toggle("active");
        document.querySelector(".dot").classList.toggle("hide");

    });
    {/block:ifUpdateTab}
    
    {block:IndexPage}
    // toggle tags
    const toggleTagsElements = document.querySelectorAll(".toggle-tags");
    
    toggleTagsElements.forEach(function (element) {
        element.addEventListener("click", function (event) {
            const article = this.closest("article");
            if (!article) return;
    
            const tagsContainer = article.querySelector(".tags-container");
            if (!tagsContainer) return;
    
            const maxHeight = tagsContainer.scrollHeight + "px";
            const isOpen = tagsContainer.style.maxHeight === maxHeight;
    
            tagsContainer.style.maxHeight = isOpen ? "0" : maxHeight;
            this.classList.toggle("active");
            event.preventDefault();
        });
    });
    {/block:IndexPage}

});

// ------------------- tooltip
const commonOptions = {
    theme: "custom",
    arrow: false,
    followCursor: true,
    placement: "top",
    touch: "hold",
    animation: 'smooth-fade',
};

tippy("post-icons.like-tooltip", {
    ...commonOptions,
    content: "like",
});

tippy(".credit", {
    theme: "credit",
    arrow: false,
    followCursor: false,
    placement: "top",
    touch: "hold",
    placement: 'left',
    allowHTML: true,
    content: "Autumn theme <br> by @mournstera",
    animation: 'smooth-fade',
});

tippy("[title]", {
    ...commonOptions,
    content(reference) {
        const title = reference.getAttribute("title");
        reference.removeAttribute("title");
        return title;
    },
});

{block:ifDarkMode}
// ------------------- toggle dark/light
const themeToggleButtons = document.querySelectorAll(".theme-toggle");

themeToggleButtons.forEach((btn) => {
    const storedTheme = localStorage.getItem("theme") || (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");
    const initialTooltipText = storedTheme === "dark" ? "Toggle light mode" : "Toggle dark mode";
    tippy(btn, {
        ...commonOptions,
        content: initialTooltipText, 
    });

    btn.addEventListener("click", function () { 
        const currentTheme = document.documentElement.getAttribute("data-theme");
        const targetTheme = currentTheme === "light" ? "dark" : "light";

        const tooltipText = targetTheme === "dark" ? "Toggle light mode" : "Toggle dark mode";
        btn._tippy.setContent(tooltipText);

        document.documentElement.classList.add("theme-transition");
        document.documentElement.setAttribute("data-theme", targetTheme);
        localStorage.setItem("theme", targetTheme);

        setTimeout(function () {
            document.documentElement.classList.remove("theme-transition");
        }, 50);
    });
});
{/block:ifDarkMode}

// ------------------- remove empty p tags
for (const p of document.querySelectorAll('p')) {
    if (p.innerHTML.trim() === '') {
       p.remove()
    }
}
// ------------------- NPF posts - reverse-compatible-template.html by @egg.design
// create posts array
let posts = []
{block:Posts} 
    posts.push({ npf: JSON.parse({JSNPF}), id: {JSPostId}}) 
{/block:Posts}

//function for updating post types 
function updateTypes(type, article) {
    article.classList.remove('text-post')
    article.classList.add(`${ type }-post`, 'npf-post')
}

// loop through array to get each post
for (const post of posts) {
   let npf = post.npf
   let article = document.getElementById(`post-${post.id}`)
   // select captions that have something in them
   let caption = article.querySelector('.caption:is(:not(:empty))')
   if (caption != null && article.classList.contains('text-post')) {
      // if content exists
      if (npf.trail.length || npf.content.length) {
          // assign various post types based on NPF data
            switch (npf.trail[0]?.content[0]?.type ?? npf.content[0].type) {
            case 'image':
               updateTypes('photos', article)
               if (article.querySelector('.npf_row') == null) {
                  caption.prepend(article.querySelector('figure'))
               }
               break
            case 'video':
               updateTypes('video', article)
               let video = article.querySelector('figure')
               caption.prepend(video)
               break
            case 'link':
              updateTypes('link', article)
            case 'audio':
               updateTypes('audio', article)
                break
            case 'quote':
                updateTypes('quote', article)
            }
          
         // if there are photos
         if (article.classList.contains('photos-post')) {
            let photoset = document.createElement('div')
            photoset.classList.add('npf-photos')
            caption.prepend(photoset)
            // find where a photoset would be split up by another content block
            let photoBreak = article.querySelector('.reblog-content p, .reblog-content h1, .reblog-content h2, .reblog-content blockquote')
            let elements = []
            if (photoBreak) {
               let prevElement = photoBreak.parentNode.firstElementChild
               while (prevElement !== photoBreak) {
                  elements.push(prevElement)
                  prevElement = prevElement.nextElementSibling
               }
            }
            // if there is nothing that breaks up the photoset, select all rows
            else {
               elements = article.querySelectorAll('.npf_row')
            }
            // move each row to the top
            for (const el of elements) {
               photoset.append(el)
            }
            if (article.querySelectorAll('.npf_row').length > 1) {
                updateTypes('photoset', article)
            }
            else {
                updateTypes('photo', article)
            }
         }
         
         // clean up any potential stray reblog headers
         let reblogHeader = article.querySelector('.reblog-header')
         let reblogContent = article.querySelector('.reblog-content')
         if (reblogHeader?.nextElementSibling === reblogContent && reblogContent?.childElementCount === 0) {
            reblogHeader.remove()
            reblogContent.remove()
         }
      }
   }
}

// wrap npf photoset in div that's not the first photoset
const content = document.querySelectorAll(".reblog-content");
let sections = []; // initialize empty array it'll be useful later !
let temp_array = []; // will also be useful

// We will re-create all the div "reblog-content".
function removeAndReplace(content_div) {
    content_div.replaceChildren();
    let idx = 0;

    for (const array_containing_the_arrays_of_child_nodes of sections) {
        const div = document.createElement("div");
        array_containing_the_arrays_of_child_nodes[0].classList.contains("npf_row") ? ++idx : null;
        for (const child_nodes_array of array_containing_the_arrays_of_child_nodes) {
            if (!child_nodes_array.classList.contains("npf_row")) {
                content_div.appendChild(child_nodes_array);
            } else {
                div.appendChild(child_nodes_array);
            }
        }
        div.classList.add(`more_photoset`);
        div.children.length <= 0 ? null : content_div.appendChild(div);
    }
    sections = [];
}

function y() {
    content.forEach((content) => {
        const content_children = content.children;
        for (let i = 0; i < content_children.length; ++i) {
            const children = content_children[i];
            if (!children.classList.contains("npf_row")) {
                temp_array.length >= 1 ? sections.push(temp_array, [children]) : sections.push([children]);
                temp_array = [];
            } else {
                temp_array.push(children);
                if (content_children[content_children.length - 1] === children) {
                    sections.push(temp_array);
                    temp_array = [];
                }
            }
        }
        removeAndReplace(content);
    });
}

y();
</script>
</body>
</html>
