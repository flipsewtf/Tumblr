<!----------------------------------------------------

    TUMBLR THEME: Mauve - Â© Flipse / @mournstera
    - Version 1.0.3
    
    RELEASED:   02 August 2023
    UPDATED:    12 August 2023
    
    CREDITS:            mournstera.tumblr.com/credit
    TERMS OF USE:       mournstera.tumblr.com/themes

-----------------------------------------------------> 
<!DOCTYPE html> 
<html lang="en" {block:ifDarkMode}data-theme="light"{/block:ifDarkMode}> 
<head>

<title>{title}{block:PermalinkPage}{block:PostSummary}: {PostSummary}{/block:PostSummary}{/block:PermalinkPage} {block:TagPage}/ #{Tag}{/block:TagPage} {block:SearchPage}| search: {SearchQuery}{/block:SearchPage}</title>
<link rel="shortcut icon" href="{Favicon}"/>
<link rel="alternate" type="application/rss+xml" href="{RSS}"/>
{block:Description}
<meta name="description" content="{MetaDescription}"/>
{/block:Description}
{NewPostStyles}
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">

{block:ifDarkMode}
<script> 
    const storedTheme = localStorage.getItem("theme") || (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");
    if (storedTheme) {
      document.documentElement.setAttribute("data-theme", storedTheme); 
    }
</script>
{/block:ifDarkMode}

{block:Options}
<meta name="image:Sidebar image" content=""/>
<meta name="image:Dark mode Sidebar image" content=""/> 

<meta name="color:Text" content="#585864"/> 
<meta name="color:Link" content="#a6a6a6"/>
<meta name="color:Background" content="#ffffff"/>
<meta name="color:Background 2" content="#f6f6f7"/>
<meta name="color:Borders" content="#eeeeee"/>
<meta name="color:Accent" content="#c3c1d8"/>

<meta name="color:Dark mode Text" content="#f0f0f4"/>
<meta name="color:Dark mode Link" content="#b1b1b1"/>
<meta name="color:Dark mode Background" content="#202024"/>
<meta name="color:Dark mode Background 2" content="#161618"/>
<meta name="color:Dark mode Borders" content="#3c3d45"/>
<meta name="color:Dark mode Accent" content="#9a96c2"/>

<meta name="select:Font size" content="11px"/> 
<meta name="select:Font size" content="12px"/>
<meta name="select:Font size" content="13px"/>
<meta name="select:Font size" content="14px"/>
<meta name="select:Font size" content="15px"/>
<meta name="select:Font size" content="17px"/>
<meta name="select:Font size" content="18px"/>

<meta name="select:Post width" content="350px" title="350px"/>
<meta name="select:Post width" content="400px" title="400px"/>
<meta name="select:Post width" content="450px" title="450px"/>
<meta name="select:Post width" content="500px" title="500px"/>
<meta name="select:Post width" content="540px" title="540px"/>

<meta name="select:Photoset gutter" content="1px" title="1px"/>
<meta name="select:Photoset gutter" content="2px" title="2px"/>
<meta name="select:Photoset gutter" content="3px" title="3px"/>
<meta name="select:Photoset gutter" content="4px" title="4px"/>

<meta name="select:Sidebar image size" content="40px" title="40px"/>
<meta name="select:Sidebar image size" content="55px" title="55px"/>
<meta name="select:Sidebar image size" content="70px" title="70px"/>

<meta name="select:Sidebar image shape" content="square" title="square">
<meta name="select:Sidebar image shape" content="rounded" title="rounded">
<meta name="select:Sidebar image shape" content="circle" title="circle">
<meta name="select:Sidebar image shape" content="blob" title="blob">

<meta name="select:Post info" content="post-icons" title="icons">
<meta name="select:Post info" content="post-text" title="text">

<meta name="select:Display tags" content="tags-always" title="always">
<meta name="select:Display tags" content="tags-upon" title="upon toggle">

<meta name="if:Dark mode" content=""/>
<meta name="if:Hide tumblr controls" content=""/>
<meta name="if:Round content corners" content=""/>
<meta name="if:Accented pinned post" content=""/>

<meta name="text:Body font"  content="Inter"/>
<meta name="text:Post margin" content="130px"/>

<meta name="text:Custom title" content="lorem ipsum"/>
<meta name="text:Custom description" content="This is where your description text goes. Links and html is allowed."/>

<meta name="text:Menu Title" content="menu"/>
<meta name="text:Home Link Title" content="home"/>
<meta name="text:Home Link Icon" content="home"/>
<meta name="text:Ask Link Title" content="ask"/>
<meta name="text:Ask Link Icon" content="mail"/>
<meta name="text:Navigate Link Title" content="more"/>
<meta name="text:Navigate Link Icon" content="layout-grid"/>
<meta name="text:Archive Link Title" content="Archive"/>

<meta name="text:Update tab Title" content="Updates"/>
<meta name="text:Update Tab" content="updates text. Links and html is allowed."/>
<meta name="text:Activity 1 icon" content="tv"/>
<meta name="text:Activity 1" content="watching"/>
<meta name="text:Activity 2 icon" content="music"/>
<meta name="text:Activity 2" content="listening"/>
<meta name="text:Activity 3 icon" content="library"/>
<meta name="text:Activity 3" content="reading"/>
<meta name="text:Activity 4 icon" content="gamepad-2"/>
<meta name="text:Activity 4" content="playing"/>
{/block:Options}

<!-- PHOTOSETS: pxu -->
<link href="https://static.tumblr.com/qudkd6d/OcDnl99gb/style.css" rel="stylesheet" type="text/css"/>
<!-- TOOLTIP: tippy.js scale -->
<link rel="stylesheet" href="https://unpkg.com/tippy.js@6/animations/scale-subtle.css">
<!-- Google font -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family={text:Body font}:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap">
<style>
/* Theme Options */
:root {
    --font1: '{text:Body font}', sans-serif;
    --font-size: {select:Font size};
    --post-width: {select:Post width};
    --sb-width: 246px; 
    --sb-icon: {select:Sidebar image size};
    --line-height: 1.8;
    --gap1: 12px;
    --gap2: 20px;
    --gap3: 25px;
    --gap4: 30px;
    --gap-vert: 50px;
    --gap-hori: 50px;
    --gap-post-margin: {text:Post margin};
    --gap-top-bottom: 100px;
    
    --text-margin-small: 15px;
    --text-margin-big: 20px;
    
{block:ifRoundContentCorners}
    --round1: 0.45em;
    --round2: 0.7em;
    --round3: 1em; 
    --round4: 1.8em;  
    --circle: 100%;
{/block:ifRoundContentCorners}
}
:root{block:ifDarkMode}, html[data-theme='light']{/block:ifDarkMode} {
    --mode-transform: translateX(0px);
    --light-on: flex;
    --light-off: none;
    --c-text: {RGBcolor:Text};
    --c-link: {RGBcolor:Link};
    --c-bg1: {RGBcolor:Background};
    --c-bg2: {RGBcolor:Background 2};
    --c-border: {RGBcolor:Borders};
    --c-acc1: {RGBcolor:Accent};
}
{block:ifDarkMode}
html[data-theme='dark'] {
    --mode-transform: translateX(20px);
    --light-on: none;
    --light-off: flex;
    --c-text: {RGBcolor:Dark mode Text};
    --c-link: {RGBcolor:Dark mode Link};
    --c-bg1: {RGBcolor:Dark mode Background};
    --c-bg2: {RGBcolor:Dark mode Background 2};
    --c-border: {RGBcolor:Dark mode Borders};
    --c-acc1: {RGBcolor:Dark mode Accent};
}
html.theme-transition,
html.theme-transition *,
html.theme-transition *:before,
html.theme-transition *:after {
  transition: 0.0s !important;
  transition-delay: 0 !important;
}
{/block:ifDarkMode}
/* -------------------------------------  css resets */
*,*::before,*::after {
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    -moz-osx-font-smoothing: grayscale;
    box-sizing: border-box;
}
* {
    margin: 0;
    scrollbar-width: thin;
    scrollbar-color: rgba(var(--c-acc1)) rgba(var(--c-bg1));
}
.tmblr-iframe-pushdown {
    padding-top: 0!important;
}
html {
    height: 100%;
}
body {
    height: 100%;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    overflow-x: hidden;
    line-height: 1;
    font-weight: 400;
}
ul, ol {
    list-style: none;
    padding: 0;
    margin: 0;
}
button,
textarea,
select {
    font: inherit;
}
button {
    outline: none;
    border: 0;
    background: transparent;
    padding: 0;
    display: inherit;
    cursor: pointer;
}
input{
    font: inherit;
    border: none;
    outline: 0;
    padding: 0;
    background-color: transparent;
}
p,h1,h2,h3,h4,h5,h6 {
    overflow-wrap: break-word;
}

/* ------------------------------------- selection */
::-moz-selection {
    background-color: rgba(var(--c-acc1));
    color:rgba(var(--c-text));
}
::selection {
    background-color: rgba(var(--c-acc1));
    color:rgba(var(--c-text)); 
}
/* ------------------------------------- tooltips */
.tippy-box[data-theme~='custom'] {
    font-size: var(--font-size);
    font-weight: 500;
    text-align:center;
    padding: 1px 0px;
    color: rgba(var(--c-bg1));
    border: 0px solid rgba(var(--c-border));
    border-radius: var(--round3);
    background-color: rgba(var(--c-text));
    text-transform: lowercase;
    margin: 18px;
    z-index: 99;
}
/* ------------------------------------- scrollbar */
::-webkit-scrollbar {
    width: 14px;
    background-color: rgba(var(--c-bg1));
}
::-webkit-scrollbar-thumb {
    border: 4px solid rgba(var(--c-bg1));
    border-radius: 10px;
    background-color: rgba(var(--c-acc1));
}
::-webkit-scrollbar-track {
    background-color: rgba(var(--c-border));
    border: 7px solid rgba(var(--c-bg1));
}
/* ------------------------------------- tumblr lightbox */
.vignette, #vignette {
    opacity:0;
}
.lightbox-image, #tumblr_lightbox img {
    box-shadow:none !important;
    border-radius:0 !important;
    max-width:none;
}
.tmblr-lightbox, #tumblr_lightbox {
    background-color: rgba(var(--c-bg1),.90)!important;
}
.tmblr-iframe--gdpr-banner,
.tmblr-iframe--app-cta-button,
.gdpr-banner {
    display: none !important;
}
/* ------------------------------------- general */
body{
    font-family:var(--font1);
    font-size: var(--font-size);
    color: rgba(var(--c-text));
    background-color: rgba(var(--c-bg1));
}
a {
    color:rgba(var(--c-link));
    text-decoration: none;
    transition: all 0.2s ease;
}
a:hover {
    color: rgba(var(--c-acc1)); 
    transition: all 0.2s ease;
}
.flex {
	display: flex;
	flex-wrap: wrap;
}
.centered {
	align-items: center;
	justify-content: center;
}
.align-center {
	align-items: center;
}
.justify-center {
	justify-content: center;
}
.gap1 {
    gap: var(--gap1);
}
.gap2 {
    gap: var(--gap2);
}
.gap3 {
    gap: var(--gap3);
}
.gap4 {
    gap: var(--gap4);
}
/* -------------------------------------  containers */
.page-container {
    display: flex;
    flex-direction: column;
    min-height: 100dvh;
    justify-content: space-between;
}
main {
    display: grid;
    gap: 0 var(--gap-hori);
    margin: 0;
    grid-template-areas: "post";
    justify-content: center;
}
footer.footer-bottom {
    text-align: center;
    margin: var(--gap-top-bottom) var(--gap4) var(--gap4);
    letter-spacing: 1px;
    font-size: calc(var(--font-size) - 1px);
}
/* -------------------------------------  sidebar */
aside {
    background-color: rgba(var(--c-bg2));
    position: fixed;
    padding-left: calc(50dvw - var(--gap-hori) - var(--sb-width) - (var(--post-width) / 2) );
}
.sb-inner {
    margin: 0 0 0 auto;
    width: var(--sb-width);
    padding: var(--gap3);
    height: 100dvh;
    position: sticky;
    top: 0;
}
.sidebar-icon {
    margin-bottom: var(--gap1);
    justify-content: flex-end;
}
.sidebar-icon img {
    width: var(--sb-icon);
    height: var(--sb-icon);
    overflow: hidden;
    image-rendering: -webkit-optimize-contrast;
    object-fit: cover;
}
.sidebar-icon.square img{
    border-radius: 0; 
}
.sidebar-icon.rounded img{
    border-radius: 0.6em;
}
.sidebar-icon.circle img {
    border-radius: 100%;
}
.sidebar-icon.blob img{
    -webkit-clip-path: url(#blob); 
    clip-path: url("#blob");
}
img.sb-image-light {
    display: var(--light-on);
}
img.sb-image-dark {
    display: var(--light-off);
}
svg.hide-it {
    position: absolute;
    width:0px;
    height:0px;
}
.sb-box {
    margin-right: 1px;
}
.sb-title {
    font-size: calc(var(--font-size) + 4px);
    font-weight: 600;
    margin-bottom: 6px;
}
.sb-description, .sb-title {
    line-height: 1.5;
    text-align: right;
}
nav.menu .title {
    justify-content: space-between;
    padding: calc(4px + var(--gap1)) calc(9px + var(--gap1));
    font-weight: 700;
    margin: calc(0px - var(--gap1));
    margin-bottom: var(--gap1);
    border-bottom: 1px solid rgba(var(--c-bg2));
}
.dots {
    gap: 2px;
    flex-direction: row;
    align-items: flex-end;
}
.dots span {
    content: '';
    height: 8px;
    width: 8px;
    background-color: rgba(var(--c-acc1));
    opacity: 0.7;
    display: flex;
    align-items: flex-end;
    border-radius: var(--circle);
}
.dots span:first-of-type {
    opacity: 0.4;
}
.dots span:last-of-type {
    opacity: 1;
}
nav.menu {
    margin-top: var(--gap2);
    padding: 10px;
    background-color: rgba(var(--c-bg1));
    border-radius: var(--round2);
}
nav.menu a, button.toggle-nav {
    display: flex;
    align-items: center;
    gap: var(--gap1);
    width: 100%;
    color: rgba(var(--c-text));
    padding: 8px 10px;
    border-radius: var(--round2);
    background-color: rgba(var(--c-bg1));
    transition: background-color 0.3s ease;
}
nav.menu a:hover, button.toggle-nav:hover {
    background-color: rgba(var(--c-bg2));
    transition: background-color 0.3s ease;
}
nav.menu a svg, button.toggle-nav svg {
    width: calc( var(--font-size) + 6px);
    height: calc( var(--font-size) + 6px);
    stroke: rgba(var(--c-text));
    stroke-width: 1.6;
    transition: stroke 0.3s ease;
}
span.link-text {
    font-weight: 500;
}
span.link-icon {
    display: inline-flex;
}
nav.menu a:hover svg , button.toggle-nav:hover svg{
    stroke: rgba(var(--c-acc1));
    transition: stroke 0.3s ease;
}
nav.toggle-menu {
    display: none;
    margin: var(--gap1)  var(--gap1) 0 var(--gap1);
}
nav.toggle-menu a {
    margin-bottom: 9px;
    color: rgba(var(--c-link));
    padding: 0;
    display:block;
}
nav.toggle-menu a:hover {
    color: rgba(var(--c-acc1));
    background-color: transparent;
}
button.toggle-nav span.link-text {
    align-items: center;
    display: flex;
    justify-content: space-between;
    width: 100%;
}
span.chevron {
    display: inline-flex;
    transition: rotate 0.5s ease;
}
span.chevron.active {
    rotate:-180deg;
    transition: rotate 0.5s ease;
}
form.search {
{block:HideFromSearchEnabled}
    display:none!important;
{/block:HideFromSearchEnabled}
    background-color: rgba(var(--c-bg1));
    border-radius: var(--round2);
    border: 1px solid rgba(var(--c-acc1),.0);
    justify-content: space-between;
    flex-wrap: nowrap;
    overflow: hidden;
    margin-top: var(--gap2);
}
form.search:focus-within {
    border: 1px solid rgba(var(--c-acc1));
}
form.search button.search {
    cursor: pointer;
    color: rgba(var(--c-text));
    padding: 10px;
}
form.search button.search svg {
    width: calc( var(--font-size) + 4px);
    height: calc( var(--font-size) + 4px);
    stroke-width: 2;
    stroke: rgba(var(--c-text));
}
form.search:focus-within button.search svg {
    stroke: rgba(var(--c-acc1));
}
form.search input {
    max-width: 100%;
    color: rgba(var(--c-text));
    width: 100%;
    padding: 10px;
}
form.search input::placeholder {
    padding:0px!important;
    color: rgba(var(--c-text));
    opacity: 1;
}
nav.sb-pagi {
    flex-wrap: wrap;
    margin-top: var(--gap2);
    justify-content: flex-end;
}
nav.sb-pagi a[class*="page"] {
    color: rgba(var(--c-text));
    padding: 6px;
    background-color: rgba(var(--c-bg1));
    border-radius: var(--round2);
    cursor: not-allowed;
}
nav.sb-pagi a.has_page {
    cursor: pointer;
}
nav.sb-pagi a span.icon svg {
    stroke-width: 1.6;
    width: calc( var(--font-size) + 6px);
    height: calc( var(--font-size) + 6px);
    stroke: currentColor;
    opacity: 0.3;
}
nav.sb-pagi a.has_page span.icon svg {
    opacity: 1;
}
nav.sb-pagi a.has_page:hover {
    color: rgba(var(--c-acc1));
}
/* -------------------------------------  pagination */
.pagi-wrap {
    margin: var(--gap-post-margin) 0;
}
nav.pagi {
    flex-wrap: wrap;
    justify-content: center;
}
nav.pagi a[class*="page"] {
    color: rgba(var(--c-bg1));
    padding: 6px;
    background-color: rgba(var(--c-text));
    border-radius: var(--round1);
    cursor: not-allowed;
}
nav.pagi a.has_page {
    cursor: pointer;
}
nav.pagi a span.icon svg {
    stroke-width: 1.6;
    width: calc( var(--font-size) + 6px);
    height: calc( var(--font-size) + 6px);
    stroke: currentColor;
    opacity: 0.3;
}
nav.pagi a.has_page span.icon svg {
    opacity: 1;
}
nav.pagi a.has_page:hover {
    color: rgba(var(--c-acc1));
}
/* theme-toggle */
button.theme-toggle {
    cursor: pointer;
    display: block;
    margin: var(--gap2) 0 0 auto;
}
button.theme-toggle .toggle {
    border-radius: var(--round3);
    display: inline-block;
    position: relative;
    width: 46px;
    height: 26px;
    background: rgba(var(--c-bg1));
    border: 1px solid rgba(var(--c-bg1));
    transition: border-color 0.4s ease;
}
button.theme-toggle .toggle:hover {
    border-color: rgba(var(--c-acc1));
    transition: border-color 0.4s ease;
}
button.theme-toggle span.toggle-ball {
    background: rgba(var(--c-acc1));
    border-radius: var(--circle);
    content: '';
    display: flex;
    position: absolute;
    left: 2px;
    top: 2px;
    transition: transform 700ms cubic-bezier(.26,2,.46,.71)!important;
    transform: var(--mode-transform);
    padding: 3px;
}
button.theme-toggle .toggle .light-on{
    display: var(--light-on);
}
button.theme-toggle .toggle .light-off{
    display: var(--light-off);
}
button.theme-toggle .toggle svg {
    stroke: rgba(var(--c-bg1));
    width: 14px;
    height: 14px;
    stroke-width: 2;
}
/* -------------------------------------  sectection content */
section {
    grid-area: post;
    padding-top: var(--gap-top-bottom);
    width: var(--post-width);
}
/* -------------------------------------  post */
article {
    width: 100%;
    {block:IndexPage}
    margin-bottom: var(--gap-post-margin);
    {/block:IndexPage}
}
/*  lineheight */
:is(.post-content p, .post-content ul, .post-content ol, .updates-container, article h1, article h2, .post-content blockquote, .post-content .question, ol.notes, footer.footer-bottom) {
    line-height: var(--line-height);
}
.acc-pin {
    margin-bottom: 4px;
}
.acc-pin svg {
    width: calc( var(--font-size) + 6px);
    height: auto;
    stroke-width: 1.6;
    stroke: rgba(var(--c-acc1));
    fill: rgba(var(--c-acc1));
    margin-top: 1px;
}

/* -------------------------------------  article, captions etc. */
article h1,
article h2,
article h3,
article .caption p,
.post-content ul,
.post-content ol,
.post-content pre,
.post-content .replies p,
.post-content .question p {
	margin: var(--text-margin-small) 0;
}
article h1 {
    font-size: calc(var(--font-size) + 6px);
    font-weight: 700;
}
article h2 {
    font-size: calc(var(--font-size) + 4px);
    font-weight: 700;
}
article h3 {
    font-size: calc(var(--font-size) + 2px);
    font-weight: 700;
}
.reblog-content p:last-of-type,
article .caption p:last-of-type {
	margin-bottom: var(--text-margin-big);
}
/*  user reblogs and original */
.reblog-header {
    margin: var(--text-margin-big) 0 var(--text-margin-small) 0;
}
.reblog-header:is(:not(.original)) {
}
.reblog-header img {
    max-width: calc(var(--font-size) + 11px);
    border-radius: var(--circle);
}
.reblog-header .user {
    color: rgba(var(--c-text));
    font-weight: 600;
}
.reblog-header a.user:hover {
    color: rgba(var(--c-acc1));
}
span.deactivated:after {
    content:'deactivated';
    font-weight: 400;
    opacity:0;
    transition: all 0.2s ease;
    margin-left: 10px;
}
.reblog-header:hover span.deactivated:after {
    opacity:0.7;
}
.reblog-content {
	padding-bottom: 0;
}
p:empty {
	display: none;
}
/* -------------------------------------  photoset stuff. */
.photo-single {
    cursor: pointer;
}
figure.tmblr-full:is(:not(:last-of-type)) {
    margin-bottom:4px;
}
figure:is(:not(:last-of-type)) {
    margin-bottom:4px;
}
article img {
	display: block;
}
img.post_media_photo.image,
.tmblr-embed iframe{
    width: 100%;
}
article img {
    max-width: 100%;
    height: auto;
}

.post-content div.npf_row {
    margin-bottom: calc({select:Photoset gutter} - 4px);
}
.post-content div.npf_row:last-child {
    margin-bottom: 0;
}

.post-content div.npf_row .npf_col {
    margin-right: calc({select:Photoset gutter} - 4px); 
}
.post-content div.npf_row .npf_col:last-child {
    margin-right: 0;
}

/* ------------  blockquotes */
.post-content blockquote {
    border-left: 1px solid rgba(var(--c-border));
    padding-left: var(--gap3);
    margin: var(--gap3);
}
.post-content blockquote p {
    margin: 0!important;
}
/* ------------ link style in posts*/
:where(.post-content p, .post-content ul, .post-content ol, .post-content blockquote, .updates-container, .sb-description ) a {
    border-bottom: 1px solid rgba(var(--c-acc1));
    padding-bottom: 2px;
}
/* ------------ ul + ol in posts */
.post-content ul li {
    padding-left: calc( var(--text-margin-small) + var(--text-margin-small) + 1px );
    position: relative;
} 
.post-content ul li::before {
    content: '\ea00';
    font-family: 'phosphor';
    font-size: calc( var(--font-size) + 0px);
    speak: never;
    position: absolute;
    left: calc( var(--text-margin-small) - 8px );
}
.post-content ul li:hover::before {
    color: rgba(var(--c-acc1)); 
}
.post-content ol {
    counter-reset: my-count; 
}
.post-content ol li {
    counter-increment: my-count;
    position: relative;
    padding-left: calc( var(--text-margin-small) - 5px );
    margin-left: calc( var(--text-margin-small) + var(--text-margin-small) - 12px );
}
.post-content ol li::marker {
    content: counter(my-count, decimal-leading-zero);
    display: flex;
}
.post-content ol li:hover::marker {
    color: rgba(var(--c-acc1));
}
/* ------------------------------------ alt. description */
.popover.tutorial {
    padding: var(--gap3)!important;
    background-color: rgba(var(--c-text))!important;
    color: rgba(var(--c-bg1))!important;
}
.popover {
    border-radius: var(--round1)!important;
    font: inherit!important;
    box-shadow: none!important;
}
.popover.tutorial .content, .popover.tutorial .title {
    color: rgba(var(--c-bg1))!important;
}
.popover.tutorial .title {
    font-weight: 700!important;
    font-size: 1.2em!important;
}
.popover.tutorial .content {
    font-size: inherit!important;
}
.popover.tutorial .ok_button {
    color: rgba(var(--c-bg1))!important;
    cursor: pointer!important;
}
/* ------------ styling different ps */
small, sup, sub, big, p.npf_quote {
    font-size: inherit;
    font-family: inherit;
    vertical-align: inherit;
}
p.npf_quirky {
    line-height: inherit;
    font-size: 1.6em;
}
pre {
    white-space: initial;
    margin: 0;
}
code {
    line-height: inherit !important;
    background: transparent;
    font-size: inherit !important;
    word-wrap: break-word;
}
/* -------------------------------------  post footer */
footer.info {
    margin-top: var(--gap4);
}
span.middle-line, span.acc-line {
    width: 100%;
    height: 1px;
    background-color: rgba(var(--c-border));
    content: '';
    display: block;
    flex: 1;
}
.info-inner {
    justify-content: space-between;
    flex-wrap: nowrap;
}
.info-inner a {
    color: rgba(var(--c-text));
}
.info-inner a:hover {
    color: rgba(var(--c-acc1));
}
.numbers svg {
    stroke: currentColor;
    width: calc(var(--font-size) + 3px);
    height: calc(var(--font-size) + 3px);
}
.pinned span {
    display: inline-flex;
    font-weight: 600;
}
.pinned span svg {
    width: calc( var(--font-size) + 6px);
    height: calc( var(--font-size) + 6px);
    stroke-width: 1.6;
}
a.date {
    gap: 8px;
    align-items: center;
    white-space: nowrap;
}
a.date span:first-of-type {
    text-transform: capitalize;
    font-weight: 600;
    font-size: calc(var(--font-size) + 1px);
}
span.between {
    height: 6px;
    width: 6px;
    content: '';
    border-radius: 100%;
    background-color: rgba(var(--c-acc1));
}
a.date span:nth-child(2) {
    text-transform: lowercase;
}
span.notecount {
    white-space: nowrap;
}

.interact svg {
    width: calc( var(--font-size) + 7px);
    height: calc( var(--font-size) + 7px);
    stroke-width: 1.6;
    stroke: currentColor;
}
/* like */
a.custom-like-container {
    position: relative;
    display: inline-flex !important;
    cursor: pointer;
    z-index: 0;
}
a.custom-like-container .like_button {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
}
a.custom-like-container .like_button iframe {
    width: 100%!important;
    height: 100%!important;
}
a.custom-like-container .liked + .custom-like-icon svg {
    color: rgba(var(--c-acc1))!important;
    fill: rgba(var(--c-acc1))!important;
}
a.custom-like-container .liked + .custom-like-icon+.custom-like-text {
   color: rgba(var(--c-acc1))!important;
}
a.custom-like-container .liked + .custom-like-icon+.custom-like-text:after {
   content:'d';
}
.post-icons.info-icon,
.post-text.info-text {
    display: flex;
}
.post-icons.info-text,
.post-text.info-icon {
    display: none!important;
}
/* tags */
.toggle-tags {
    cursor:pointer;
    transition: all 0.2s ease;
}
.toggle-tags.tags-always {
    display:none;
}
.toggle-tags:hover {
    color: rgba(var(--c-acc1));
}
.tags-container.tags-always {
    display:block;
}
.tags-container.tags-upon { 
    display:none;
}
.tags {
    margin-top: var(--gap2);
    font-weight: 300;
}
span.tag-icon svg {
    width: calc( var(--font-size) + 6px);
    height: calc( var(--font-size) + 6px);
    stroke-width: 1.6;
    stroke: rgba(var(--c-acc1));
}
/* on permalink */
.permalink-container {
    margin-top: var(--gap3);
}
.permalink-date {
    font-weight: 600;
    line-height: 1.6;
}
.permalink-reblogged {
    flex-direction: column;
    margin-top: var(--gap1);
}
span.permalink-source {
    margin-top: var(--gap1);
    display: block;
}
/* notes */
.notes-container {
    margin-top: 50px;
}
span.note-counter {
    display: block;
    font-weight: 600;
    margin-bottom: var(--gap2);
}
ol.notes {
    display: flex;
    gap: var(--gap2);
    flex-direction: column;
}
ol.notes li {
    display: inline-block;
    width: 100%;
}
a.avatar_frame {
    display: inline-flex;
    position: absolute;
}
ol.notes li span.action {
    padding-left: 33px;
}
ol.notes li img.avatar {
    width: 26px;
    border-radius: var(--circle);
    background-color: rgba(var(--c-acc1));
    padding: 4px;
    margin-top: -2px;
}
a.more_notes_link {
    color: rgba(var(--c-text));
    display: block;
    font-weight: 500;
    padding: 8px;
    border-radius: var(--round1);
    background-color: rgba(var(--c-bg2));
}
/* -------------------------------------  video */
.video {
    width: 100%;
    height: auto;
    aspect-ratio: 16/9;
}
.tumblr_video_container {
    width: 100%!important;
    height: auto!important;
}
article iframe {
    max-width: 100%;
    aspect-ratio: 16/9;
    height: auto;
}
/* -------------------------------------  poll */
.poll-post .poll-question {
    font-size: calc(var(--font-size) + 3px)!important;
    font-weight: 700!important;
}
.poll-post a.poll-row {
    color: rgba(var(--c-text)) !important;
    line-height: inherit !important;
    font-size: var(--font-size) !important;
    border-radius: var(--round1) !important;
    padding: 8px var(--gap1) !important;
    font-weight: 500 !important;
    margin: var(--gap1) var(--gap3)!important;
    border: 1px solid rgba(var(--c-border));
    background-color: rgba(var(--c-bg1)) !important;
    width: auto!important;
    text-align: center!important;
    min-height: auto!important;
}
.poll-post a.poll-row:hover {
    color: rgba(var(--c-acc1))!important;
}
a.poll-row p {
    margin: 0!important;
}
.poll-post .poll-see-results {
    margin-top: 0;
}
/* -------------------------------------  quote */
p.npf_quote {
    border-left: 1px solid rgba(var(--c-border));
    padding-left: var(--gap3);
}
/* -------------------------------------  ask*/
.ask-container .npf-link-block {
    background-color: rgba(var(--c-bg1));
}
.ask-user-wrap {
    margin-bottom: var(--gap2);
}
.ask-user-wrap img {
    height: calc( var(--font-size) + 24px);
    width: calc( var(--font-size) + 24px);
    border-radius: var(--circle);
    padding: 5px;
    background-color: rgba(var(--c-acc1));
}
.ask-user-text {
    gap: 5px;
    flex-direction: column;
    align-items: flex-start;
}
.ask-user-text span:first-child {
    font-weight: 700;
}
.ask-user-text a.asker,
.ask-user-text a.answerer {
    color: rgba(var(--c-text));
}
.ask-user-text a.asker:hover, 
.ask-user-text a.answerer:hover {
    color: rgba(var(--c-acc1));
}
.question {
    background-color: rgba(var(--c-bg2));
    padding: var(--gap2);
    border-radius: var(--round2);
}
.question .npf_inst {
    max-width: 100%;
    margin: 0;
}
:is(.question, .replies, .rb-answer) img {
    width: auto!important;
    max-width: 100%;
}
.question p:first-child {
    margin-top: 0;
}
.question p:last-child {
    margin-bottom: 0;
}
.replies {
    margin-top: var(--gap2);
}
.rb-answer {
    margin-top: var(--gap2);
}
/* -------------------------------------  chat */
p.npf_chat span.label {
    font-weight: 600;
}
p.npf_chat {
    font-family: inherit!important;
}
/* -------------------------------------  audio */
.audio-container {
    overflow: hidden;
    border-radius: var(--round3);
}
.audio-wrap {
    justify-content: space-between;
    flex-wrap: nowrap;
    overflow: hidden;
    background-color: rgba(var(--c-bg2));
    border-bottom: 1px solid rgba(var(--c-bg1));
}
.album-art img {
    display: block;
    width: 100px;
    height: 100px;
    min-width: 100px;
    object-fit: cover;
    object-position: center;
}
.audio_info {
    display: flex;
    flex-direction: column;
    width: 100%;
    line-height: 1.5;
    padding: var(--gap2);
}
.trackname {
    font-size: 1.25em;
    font-weight: 700;
    line-height: 1.5;
}
.audio-container .has-image .audio_player {
}
.custom_audio_buttons svg {
    display: flex;
    fill: rgba(var(--c-text));
    cursor: pointer;
    stroke-width: 1;
    width: 16px;
    height: 16px;
}
.custom_audio_error_icon svg {
    cursor: initial;
}
.audio-bar {
    display: flex;
    align-items: center;
    background-color: rgba(var(--c-bg2));
    padding: var(--gap2);
    gap: var(--gap2);
}
.custom_audio_seekbar {
    height: 10px;
    width: 100%;
    overflow: hidden;
    background: rgba(var(--c-bg1));
    cursor: pointer;
    border-radius: var(--round1);
    border: 1px solid rgba(var(--c-border));
}
.custom_audio_seekbar_progress {
    width: 0;
    height: 100%;
    background: rgba(var(--c-text));
}
.custom_audio_time_left {
    flex: none;
}
.custom_audio_time_left::before {
    content : "-";
}
.spotify_audio_player, article iframe[src*='soundcloud'] {
    max-height: 170px;
    border: 0;
    padding: var(--gap2);
    padding-bottom: 0;
    width: 100%;
}
iframe.tumblr_audio_player {
    max-height: 85px!important;
    margin-bottom: -2px;
}

.tmblr-full>.audio-caption {
    background-color: rgba(var(--c-bg2));
    margin: 0;
    overflow: hidden;
    border-radius: var(--round3);
}
.tmblr-full>.audio-caption .audio-details {
    padding: var(--gap2);
}
.tmblr-full>.audio-caption .album-cover {
    width: 120px;
    height: 120px;
    object-fit: cover;
}
.tmblr-full>.audio-caption .title {
    font-size: 1.25em;
}
.tmblr-full>.audio-caption .album, .tmblr-full>.audio-caption .artist {
    font-size: 1em;
}
.tmblr-full>audio {
    margin: var(--gap1) 0;
    width: 100%;
}
/* -------------------------------------  link */
div.npf-link-block {
    align-items: flex-start;
    border: 0;
    background-color: rgba(var(--c-bg2));
    border-radius: var(--round2);
    display: flex;
    justify-content: center;
    margin-bottom: var(--gap2);
    overflow: hidden;
    flex-direction: column;
}
div.npf-link-block .poster {
    -ms-flex-align: center;
    align-items: center;
    background-position: 50%;
    background-repeat: no-repeat;
    background-size: cover;
    background-clip: content-box;
    border-bottom: 1px solid rgba(var(--c-bg1));
    display: -ms-flexbox;
    display: flex;
    height: 250px;
    -ms-flex-pack: center;
    justify-content: center;
    position: relative;
}
div.npf-link-block .title {
    font-size: calc(var(--font-size) + 6px);
    line-height: var(--line-height);
    max-height: 136px;
    overflow: hidden;
    overflow-wrap: anywhere;
    text-overflow: ellipsis;
    font-weight: 500;
    padding: var(--gap2) var(--gap2) 0;
}
div.npf-link-block .poster .title {
    color: #fff;
    font-weight: 400;
    padding: var(--gap3);
    position: absolute;
    text-align: center;
}
div.npf-link-block .bottom {
    color: inherit;
    line-height: var(--line-height);
    padding: var(--gap2);
}
div.npf-link-block .bottom .description {
    color: inherit;
    font-size: inherit;
    line-height: inherit;
    margin: 0;
    max-height: 80px;
    overflow: hidden;
    overflow-wrap: anywhere;
    text-overflow: ellipsis;
}
div.npf-link-block .bottom .site-name {
    color: rgba(var(--c-link));
    font-size: inherit;
    font-weight: 400;
    line-height: var(--line-height);
    margin-top: 10px;
    opacity: 1;
    text-transform: uppercase;
}
/* -------------------------------------  corners */
.bottom-corner {
    position: fixed;
    bottom: var(--gap2);
    right: var(--gap2);
}
.corner-icon {
    cursor: pointer;
    padding: 4px;
    border-radius: var(--round2);
    background-color: rgba(var(--c-bg1));
}
.corner-icon svg {
    stroke: rgba(var(--c-text));
    stroke-width: 1.5;
    width: calc(var(--font-size) + 6px);
    height: calc(var(--font-size) + 6px);
}
.top-corner {
    position: fixed;
    top: var(--gap2);
{block:ifNotHideTumblrControls}
    top: 50px;
{/block:ifNotHideTumblrControls}
    right: var(--gap2);
    flex-direction: column;
    z-index: 90;
    align-items: flex-end;
}
button.controls {
{block:ifNotHideTumblrControls}
    display:none;
{/block:ifNotHideTumblrControls}
}
/* tumblr controls */
iframe.tmblr-iframe, .tmblr-iframe {
    z-index: 99!important;
{block:ifHideTumblrControls}
    opacity: 0;
    visibility: hidden;
    top: 13px;
    right: 40px!important;
{/block:ifHideTumblrControls}

    transform: scale(0.75);
    transform-origin: 100% 0;
    transition: all 0.3s ease;
}
.tmblr-iframe.active {
    opacity: 1;
    visibility: visible;
}
.line-container {
    display: inline-block;
    padding: 9px 2px 9px 7px;
}
.line-controls {
    background-color: rgba(var(--c-text));
    width: 12px;
    height: 1px;
    position: relative;
    transition: all .3s;
}
.line-controls:before, .line-controls:after {
    content: '';
    background-color: rgba(var(--c-text));
    height: 1px;
    position: absolute;
    right: 0;
    -webkit-transform-origin: center center;
    transition: all .3s;
}
.line-controls:before {
    width: 15px;
    top: -5px;
}
.line-controls:after {
    top: 5px;
    width: 19px;
}
.active.line-container .line-controls {
    background: none;
}
.active.line-container .line-controls:before {
    top: 0;
    transform: rotate3d(0,0,1,-45deg);
    width: 16px;
    height: 1px;
}
.active.line-container .line-controls:after {
    top: 0;
    transform: rotate3d(0,0,1,45deg);
    width: 16px;
    height: 1px;
}
/* update tab */
.updates-container {
    flex-direction: column;
    align-items: flex-end;
}
.updates-container svg {
    color: rgba(var(--c-text));
    width: calc( var(--font-size) + 6px);
    height: calc( var(--font-size) + 6px);
    min-width: calc( var(--font-size) + 6px);
    stroke-width: 1.6;
}
button.tab-toggle svg {
    stroke-width: 0;
    fill: rgba(var(--c-text));
}
button.tab-toggle span {
    display: flex;
}
button.tab-toggle span span.dot {
    width: 8px;
    height: 8px;
    background-color: rgba(var(--c-acc1));
    position: absolute;
    border-radius: 100%;
    margin-left: 10px;
    transition: transform 0.6s;
}
button.tab-toggle span span.dot.active {
    transform: scale(0);
    transition: transform 0.6s;
}
.updates {
    line-height: 1.6;
    transform: translateX( calc(120% + var(--gap2)));
    transition: transform 0.7s ease;
    overflow: hidden;
}
.updates.open {
    transform: translateX(0%);
    transition: transform 0.7s ease;
}
.updates-inner {
    width: 240px;
    max-height: 240px;
    padding: var(--gap2);
    background-color: rgba(var(--c-bg2));
    border-radius: var(--round2);
    overflow-x: auto;
}
.updates-inner::-webkit-scrollbar {
    width: 14px;
    background-color: rgba(var(--c-bg2));
}
.updates-inner::-webkit-scrollbar-thumb {
    border: 4px solid rgba(var(--c-bg2));
    border-radius: 10px;
    background-color: rgba(var(--c-acc1));
}
.updates-inner::-webkit-scrollbar-track {
    background-color: rgba(var(--c-bg2));
    border: 8px solid rgba(var(--c-bg2));
}
.update-title {
    font-weight: 600;
    margin-bottom: 3px;
}
.activity {
    display: flex;
    align-items: center;
    gap: 9px;
    margin: 8px 0;
}
.activity span {
    display:flex;
}
.activity:first-child {
    margin-top:0;
}
.activity:last-child {
    margin-bottom: 0;
}
.update-text+.activity {
    padding-top: 9px;
}
.scroll-to-top svg {
    stroke-width: 2.5;
}

/* ------------------------------------------------- responsive */
.mobile, .mobile-large, button.sb-toggle,button.sb-close {
    display:none;
}
button.sb-toggle {
    position: fixed;
    z-index: 990;
    background-color: rgba(var(--c-acc1));
    border-radius: var(--circle);
    padding: 7px;
    color: rgba(var(--c-bg1));
    top: var(--gap2);
    left: var(--gap2);
}

button.sb-toggle svg, button.sb-close svg {
    width: calc(var(--font-size) + 8px);
    height: calc(var(--font-size) + 8px);
}
button.sb-close {
    position: absolute;
    padding: 4px;
    background-color: rgba(var(--c-text));
    border-radius: var(--circle);
    color: rgba(var(--c-bg1));
}
@media only screen and (max-width: calc({select:Post width} + 600px ) ) {
    .mobile-large {
        display:block;
    }
    .desktop-large {
        display: none!important; 
    }
    aside {
        background-color: rgba(var(--c-bg2));
        position: fixed;
        padding-left: 0;
        left: 0;
        top: 0;
        height: 100dvh;
        z-index:999;
        transform: translateX(-100%);
        transition: transform 0.4s ease;
    }
    aside.on {
        transform: translateX(0%);
        transition: transform 0.4s ease;
    }
    button.sb-toggle, button.sb-close {
        display:flex;
    }
    .sb-inner {
        margin: 0;
        height: auto;
        position: relative;
        top: 0;
    }
}
@media only screen and (max-width: calc({select:Post width} + 60px ) ) {
:root {
    --post-width: 85vw;
}
    main {
        width: 100vw;
    }
    .mobile {
        display:block;
    }
    .desktop {
        display: none!important; 
    }
}
/* mobile */
@media only screen and (max-width: 500px ) {
    button.controls,
    .iframe-controls--phone-mobile,
    span.middle-line {
        display: none !important; 
    }
}
{CustomCSS}
</style>    

</head>
<body class="{block:homepage}home{/block:homepage}{block:tagpage}tag{/block:tagpage}{block:searchpage}search{/block:searchpage}{block:submitpage}submit-{/block:submitpage}{block:AskPage}ask{/block:AskPage}-page">

<svg height="0" width="0" class="hide-it">
    <defs>
        <clipPath id="blob" clipPathUnits="objectBoundingBox">
            <path d="M0.5,0.053c0.266,-0.074 0.242,0.198 0.44,0.447c0.161,0.204 -0.209,0.435 -0.44,0.455c-0.275,0.023 -0.516,-0.183 -0.471,-0.455c0.037,-0.217 0.235,-0.382 0.471,-0.447Z">
            </path>
        </clipPath>
    </defs>
</svg>

<div class="page-container">

<button class="sb-toggle" title="open sidebar"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-more-horizontal"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg></button>

<main>

<aside>
    <div class="sb-inner">
    
        <button class="sb-close"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg></button>

        <div class="sb-box">
            {block:IfSidebarImageImage}
                <div class="sidebar-icon flex {select:Sidebar image shape}">
                    <img class="sb-image-light" src="{image:Sidebar image}"/>
                    <img class="sb-image-dark" src="{image:Dark mode Sidebar image}"/>
                </div>
            {/block:IfSidebarImageImage}
            {block:ifCustomTitle}
                <div class="sb-title">{text:Custom title}</div>
            {/block:ifCustomTitle}
            {block:ifCustomDescription}
                <div class="sb-description">{text:Custom Description}</div>
            {/block:ifCustomDescription}
        </div>

        <nav class="menu" aria-label="primary navigation">
            <div class="title flex gap1 align-center">
                <span>{text:Menu title}</span>
                <div class="dots flex">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <a href="{BlogURL}">
                <span class="link-icon"><i data-lucide="{text:Home Link Icon}"></i></span>
                <span class="link-text">{text:Home Link Title}</span>
            </a>
            {block:AskEnabled}
                {block:ifAskLinkTitle}
                    <a href="/ask">
                        <span class="link-icon"><i data-lucide="{text:Ask Link Icon}"></i></span>
                        <span class="link-text">{text:Ask Link Title}</span>
                    </a>
                {/block:ifAskLinkTitle}
            {/block:AskEnabled}
            <div class="toggle-container">
                <button class="toggle-nav">
                    <span class="link-icon"><i data-lucide="{text:Navigate Link Icon}"></i></span>
                    <span class="link-text">{text:Navigate Link Title}<span class="chevron"><i data-lucide="chevron-down"></i></span></span>
                </button>
                <nav class="toggle-menu">
                    {block:HasPages}
                        {block:Pages}
                            <a href="{URL}">{Label}</a>
                        {/block:Pages}
                    {/block:HasPages}
                    {block:ifArchiveLinkTitle}
                        <a href="/archive">{text:Archive Link Title}</a>
                    {/block:ifArchiveLinkTitle}
                    {block:SubmissionsEnabled}
                        <a href="/submit">{SubmitLabel}</a>
                    {/block:SubmissionsEnabled}
                </nav>
            </div>
        </nav>
        
        <form class="search flex gap1" action="/search" method="get">
            <input type="text" name="q" value="{SearchQuery}" placeholder="Search" autocomplete="off"/>
            <button class="search" aria-label="click to search" type="submit">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" x2="16.65" y1="21" y2="16.65"></line></svg>
            </button>
        </form>

        {block:Pagination}
            <nav class="sb-pagi flex gap2 align-center desktop-large" role="pagigation" aria-label="Pagination">
                <a {block:PreviousPage} href="{PreviousPage}" title="prev page"{/block:PreviousPage} class="flex {block:PreviousPage}has_{/block:PreviousPage}page">
                            <span class="icon flex">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left"><path d="m15 18-6-6 6-6"/></svg>
                            </span>
                </a>
                <a {block:NextPage} href="{NextPage}" title="next page"{/block:NextPage} class="flex {block:NextPage}has_{/block:NextPage}page">
                    <span class="icon flex">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right"><path d="m9 18 6-6-6-6"/></svg>
                    </span>
                </a>
            </nav>
        {/block:Pagination}

    	{block:ifDarkMode}
            <button class="theme-toggle" aria-label="toggle dark & light mode" title="dark & light mode" type="button">
                    <div class="toggle">
                        <span class="toggle-ball">
                            <div class="theme-icon light-on"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg></div>
                            <div class="theme-icon light-off"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6.364 6.364 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg></div>
                        </span>
                    </div>
                </button>
    	{/block:ifDarkMode}
    </div>
</aside>

<section>

{block:posts inlineMediaWidth="1280" inlineNestedMediaWidth="1280"}

    <article id="post-{PostID}" class="{posttype}-post posts">
    {block:PinnedPostLabel}
        {block:ifAccentedPinnedPost}
            <div class="acc-pin flex gap2 align-center">
                <span class="acc-line"></span>
                <span aria-label="pinned post" title="pinned post">
                	<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bookmark"><path d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"/></svg>
                </span>
                <span class="acc-line"></span>
            </div>
        {/block:ifAccentedPinnedPost}
    {/block:PinnedPostLabel}
        <div class="post-content"> 

            {block:Photo}
                <a class="legacy-photo photo-single"  onclick="Tumblr.Lightbox.init([{ width: {PhotoWidth-HighRes}, height: {PhotoHeight-HighRes}, low_res: '{PhotoURL-500}', high_res: '{PhotoURL-HighRes}' }]); $('body').toggleClass('tumblr_lightbox_active'); return false"><img src="{PhotoURL-HighRes}"></a>
            {/block:Photo}

            {block:Photoset}
                <div class="legacy-photoset photo-slideshow" id="photoset_{PostID}" data-layout="{PhotosetLayout}">
                    {block:Photos}<div class="photo-data"><div class="pxu-photo"><img src="{PhotoURL-500}" width="{PhotoWidth-500}" height="{PhotoHeight-500}" data-highres="{PhotoURL-HighRes}" data-width="{PhotoWidth-HighRes}" data-height="{PhotoHeight-HighRes}"></div><a class="tumblr-box" rel="post-{PostID}" href="{PhotoURL-HighRes}"></a></div>{/block:Photos}</div>
            {/block:Photoset}

            {block:Panorama}
                <div class="legacy-photo"><img src="{photourl-panorama}" alt="{photoalt}"></div>
            {/block:Panorama}

            {block:Quote}
                <div class="caption">
                    <p class="npf_quote">{Quote}</p>
                    <p class="source">-{Source}</p>
                </div>
            {/block:Quote}

            {block:Chat}
                <div class="caption">
        	        {block:Lines}
        	        <p class="npf_chat">
        		        {block:Label}
        		        <span class="label">{Label}</span>
        		        {/block:Label}
        		        {Line}
        	        </p>
        	        {/block:Lines}
                </div>
            {/block:Chat}

            {block:link}
                <div class="npf-link-block {block:Thumbnail}has-poster"{/block:Thumbnail}>
                    <a {Target} href="{URL}" class="link">
                        <div {block:Thumbnail}class="poster" style="background:url({Thumbnail-HighRes}); background-position: 50%; background-repeat: no-repeat; background-size: cover; background-clip: content-box;"{/block:Thumbnail}>
                            <div class="title">{Name}</div>
                        </div>
                        <div class="bottom">
                            {block:Excerpt}<div class="description">{Excerpt}</div>{/block:Excerpt}
                            {block:Host}<div class="site-name">{Host}</div>{/block:Host}
                        </div>
                    </a>
                </div>
            {/block:link}
    
            {block:Video}
                <div class="video">
                    {Video-700}
                </div>
            {/block:Video}
    
            {block:Audio}
                {block:AudioPlayer}
                {AudioPlayer}
                <div class="audio-container">
        	        <div class="audio-wrap flex gap2 align-center">
        		        <div class="audio_info">
        			        {block:TrackName}
        			        <div class="trackname">{TrackName}</div>
        			        {/block:TrackName}
        			        {block:Artist}
        			        <div class="artist">{Artist}</div>
        			        {/block:Artist}
        		        </div>

        		        {block:AlbumArt}
        		        <div class="album-art">
        			        <img src="{AlbumArtURL}"/>
        		        </div>
        		        {/block:AlbumArt}
        	        </div>
        	        
        	        <div class="audio-bar">
        	            <div class="audio_player">
            			    <span class="custom_audio_buttons"></span>
            		    </div>
        	            <span class="custom_audio_time_left"></span>
        	            <div class="custom_audio_seekbar rounded"></div>
                    </div>
                </div>
                {/block:AudioPlayer}
            {/block:Audio}

            {block:Answer}
                <div class="ask-container">
                    <div class="ask-user-wrap gap1 flex align-center">
                        <img src="{AskerPortraitURL-48}">
                        <div class="ask-user-text flex">
                            <span>{Asker}</span>
                            <span>sent a message</span>
                        </div>
                    </div>
        	        <div class="question">
                        {Question}
        	       </div>
                </div>
        
                {block:NotReblog}
                    <div class="replies">{Answer}</div>
                {/block:NotReblog}
        
                {block:Answerer}
                    <div class="ask-container rb-answer">
                        <div class="ask-user-wrap flex gap1 align-center">
                            <img src="{AnswererPortraitURL-48}">
                            <div class="ask-user-text flex">
                                <span>{Answerer}</span>
                                <span>answered</span>
                            </div>
                        </div>
            	        <div class="question">
                            {Answer}
            	       </div>
                    </div>
                {/block:Answerer}
            {/block:Answer}
    
    
            <div class="caption {block:notreblog} original-post {/block:notreblog}">
                {block:Text}
                    {block:Title}<h2>{Title}</h2>{/block:Title}
                {/block:Text}
                
                {block:Link}
                    {block:Description}
                    {block:NotReblog}{Description}{/block:NotReblog}
                    {/block:Description}
                {/block:Link}
                
                {block:notreblog}
                {block:caption}{Caption}{/block:caption}
                {block:Text}{body}{/block:Text}
                
                {/block:notreblog}
                
                {block:Rebloggedfrom}
                    {block:Reblogs}
                    <div class="reblogs">
                        <div class="reblog-header {block:IsOriginalEntry}original{/block:IsOriginalEntry} flex align-center gap1">
                            <img src="{PortraitURL-64}" alt="{username}'s avatar">
                            {block:IsActive}
        			        <a class="user flex align-center" target="_blank" href="{Permalink}">{Username}</a>
        			        {/block:IsActive}
        			        {block:IsDeactivated}
        		            <span class="user flex align-center deactivated" aria-label="user deactivated">{Username}</span>
        			        {/block:IsDeactivated}
                        </div>
                        
                        <div class="reblog-content">
                            {Body}
                        </div>
                    </div>
                    {/block:Reblogs}
                {/block:RebloggedFrom}
            </div>
    
        </div><!-- post-content end -->     
    
        {block:Date}
            <footer class="info">
                <div class="info-inner gap2 flex align-center">
                    <div class="numbers flex gap1 align-center">
                        {block:PinnedPostLabel}
                            {block:ifNotAccentedPinnedPost}
                		        <div class="pinned">
                				    <span aria-label="pinned post" title="pinned post" class="{select:Post info} info-icon">
                				        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bookmark"><path d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"/></svg>
                				    </span>
                				    <span class="{select:Post info} info-text">pinned</span>
                			    </div>
        			        {/block:ifNotAccentedPinnedPost}
        	           {/block:PinnedPostLabel}
                        <a class="date flex align-center" aria-label="published date" title="{TimeAgo}" href="{Permalink}">
                            <span>{DayOfWeek}</span>
                            <span>{ShortMonth} {DayOfMonth}{DayOfMonthSuffix}</span>
                            <span class="between"></span>
                        </a>
                        <span class="notecount">{NoteCountWithLabel}</span>
                    </div>
                    
                    <span class="middle-line"></span>
                    
                    <div class="interact flex gap1 align-center">
                        {block:HasTags}
                            {block:IndexPage}
                			    <div class="toggle-tags {select:Display tags}">
                				    <span aria-label="show tags" title="show tags" class="{select:Post info} info-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag"><path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"/></span>
                				    <span class="{select:Post info} info-text">tags</span>
                			    </div>
            			    {/block:IndexPage}
        			    {/block:HasTags}

        				<a aria-label="like post" class="custom-like-container {select:Post info} lide" href="#">{LikeButton}
        					<span class="{select:Post info} info-icon custom-like-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg></span>
        					<span class="{select:Post info} info-text custom-like-text">like</span>
        				</a>

        				<a class="rb" href="{ReblogURL}" target="_blank">
        				    <span class="{select:Post info} info-icon" aria-label="reblog post" title="reblog">
        					    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-repeat"><path d="m17 2 4 4-4 4"/><path d="M3 11v-1a4 4 0 0 1 4-4h14"/><path d="m7 22-4-4 4-4"/><path d="M21 13v1a4 4 0 0 1-4 4H3"/></svg>
        				    </span>
        				    <span class="{select:Post info} info-text">reblog</span>
                        </a>
                    </div>
                </div>

                {block:HasTags}
                    <div class="tags-container {block:IndexPage}{select:Display tags}{/block:IndexPage}">
                        <div class="tags flex gap1 align-center">
                            <span class="tag-icon flex"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="hash" icon-name="hash" class="lucide lucide-hash"><line x1="4" x2="20" y1="9" y2="9"></line><line x1="4" x2="20" y1="15" y2="15"></line><line x1="10" x2="8" y1="3" y2="21"></line><line x1="16" x2="14" y1="3" y2="21"></line></svg></span>
                            {block:Tags}
                            <a href="{TagURL}">{Tag}</a>
                            {/block:Tags}
                        </div>
                    </div>
                {/block:HasTags}

                {block:PermalinkPage}
                    <div class="permalink-container">
                        <div class="permalink-date">
            			    This was published at {12Hour}:{Minutes} {CapitalAmPm} on {DayOfWeek}, {Month} {DayOfMonth}, {Year}. 
                        </div>
                        {block:RebloggedFrom}
                            <div class="permalink-reblogged flex gap1"> 
                			    <span>Created by <a href="{ReblogRootURL}">{ReblogRootName}</a></span>
                			    <span>Reblogged from <a href="{ReblogParentURL}">{ReblogParentName}</a></span>
                            </div>
                        {/block:RebloggedFrom}
                        {block:ContentSource}
                            <span class="permalink-source">Source: <a href="{SourceURL}">{SourceTitle}</a></span>
                        {/block:ContentSource}
                    </div>
                {/block:PermalinkPage}
            </footer>
        {/block:Date}
    </article>
    
    {block:PostNotes}
        <div class="notes-container">
            <span class="note-counter">{NoteCountWithLabel}</span>
            {PostNotes-64}
        </div>
    {/block:PostNotes}
    
    {/block:Posts}
        
    {block:Pagination}
        <div class="pagi-wrap mobile-large">
            <nav class="pagi flex gap2 align-center" role="pagigation" aria-label="Pagination">
                <a {block:PreviousPage} href="{PreviousPage}" title="prev page"{/block:PreviousPage} class="flex {block:PreviousPage}has_{/block:PreviousPage}page">
                            <span class="icon flex">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left"><path d="m15 18-6-6 6-6"/></svg>
                            </span>
                </a>
    
                <a {block:NextPage} href="{NextPage}" title="next page"{/block:NextPage} class="flex {block:NextPage}has_{/block:NextPage}page">
                    <span class="icon flex">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right"><path d="m9 18 6-6-6-6"/></svg>
                    </span>
                </a>
            </nav>
        </div>
    {/block:Pagination}
</section>

</main>

<footer class="footer-bottom">
    <div class="footer-bottom-inner">
         Mauve Theme by Â© <a target="_blank" href="https://mournstera.tumblr.com">mournstera</a>.
    </div>
</footer>

</div> <!-- end .paige -->

<div class="top-corner flex gap1">
    <button class="controls" title="tumblr controls" aria-label="open tumblr controls" type="button">
        <div class="line-container">
            <div class="line-controls"></div>
        </div>
    </button>
    
    {block:ifUpdateTabTitle}
        <div class="updates-container flex gap2">
            <button class="tab-toggle flex" title="update tab" aria-label="open or close update tab">
                <span class="tab-icon corner-icon">
                    <span class="dot"></span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 1.25a8.069 8.069 0 00-7.912 6.486l-1.254 6.27c-.403 2.013.666 4.037 2.534 4.867a16.1 16.1 0 002.093.761l.104.234a4.853 4.853 0 008.87 0l.104-.234a16.104 16.104 0 002.093-.761c1.868-.83 2.937-2.854 2.534-4.868l-1.254-6.269A8.069 8.069 0 0012 1.25zm3.89 17.008a.751.751 0 00-.158.042c-2.44.628-5.023.628-7.464 0a.75.75 0 00-.157-.042 14.61 14.61 0 01-2.134-.756A2.9 2.9 0 014.305 14.3l1.254-6.27a6.569 6.569 0 0112.882 0l1.254 6.27a2.9 2.9 0 01-1.672 3.202c-.693.308-1.407.56-2.134.756zm-6.441 1.815a16.53 16.53 0 005.102 0 3.354 3.354 0 01-5.102 0z"></path></svg>
                </span>
            </button>
            <div class="updates">
                <div class="updates-inner">
                    
                    <div class="update-text">
                        <div class="update-title">{text:Update tab Title}</div>
                        {text:Update Tab}
                    </div>
                    
                    {block:ifActivity1}
        	        <div class="activity">
        	            {block:ifActivity1Icon}<span><i data-lucide="{text:Activity 1 Icon}"></i></span>{/block:ifActivity1Icon}
        	            <span>{text:Activity 1}</span>
                    </div>
                    {/block:ifActivity1}
                    
                    {block:ifActivity2}
        	        <div class="activity">
        	            {block:ifActivity2Icon}<span><i data-lucide="{text:Activity 2 Icon}"></i></span>{/block:ifActivity2Icon}
        	            <span>{text:Activity 2}</span>
                    </div>
                    {/block:ifActivity2}
                    
                    {block:ifActivity3}
        	        <div class="activity">
        	            {block:ifActivity3Icon}<span><i data-lucide="{text:Activity 3 Icon}"></i></span>{/block:ifActivity3Icon}
        	            <span>{text:Activity 3}</span>
                    </div>
                    {/block:ifActivity3}
                    
                    {block:ifActivity4}
        	        <div class="activity">
        	            {block:ifActivity4Icon}<span><i data-lucide="{text:Activity 4 Icon}"></i></span>{/block:ifActivity4Icon}
        	            <span>{text:Activity 4}</span>
                    </div>
                    {/block:ifActivity4}
                </div>
            </div>
        </div>
    {/block:ifUpdateTabTitle}
</div>
<div class="bottom-corner">
    <div class="scroll-to-top"  title="scroll to top">
            <span class="corner-icon flex">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-up"><path d="m5 12 7-7 7 7"></path><path d="M12 19V5"></path></svg>
            </span>
    </div>
</div>

<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
<!-- PHOTOSETS: pxu -->
<script src="https://static.tumblr.com/yxfeliq/hHwojmt8m/bctphotoset.min.js"></script>
<!-- TOOLTIP: tippy.js -->
<script src="https://unpkg.com/@popperjs/core@2"></script>
<!-- TOOLTIP: tippy.js-->
<script src="https://unpkg.com/tippy.js@6"></script>
<!-- AUDIO: legacy -->
<script src="https://cdn.jsdelivr.net/gh/annasthms/customaudio@latest/customaudio.min.js"></script>
<!-- ICONS: phosphor -->
<script src="https://unpkg.com/@phosphor-icons/web"></script>
<!-- ICONS: Lucide -->
<script src="https://unpkg.com/lucide@latest"></script>

<script>

$(document).ready(function () {
    $(".photo-slideshow").pxuPhotoset({
        lightbox: true,
        rounded: false,
        gutter: "{select:Photoset gutter}",
        borderRadius: "0px",
        photoset: ".photo-slideshow",
        photoWrap: ".photo-data",
        photo: ".pxu-photo",
    });
    
    {block:ifHideTumblrControls}
    // tumblr controls
    $(".controls").click(function () {
        $(".tmblr-iframe, .line-container").toggleClass("active");
    });
    {/block:ifHideTumblrControls}
    
    // nav menu
    $("button.toggle-nav").click(function () {
        $("nav.toggle-menu").slideToggle(600);
        $("span.chevron").toggleClass("active");
    });
    
    // responsive sidebar
    $("button.sb-toggle, button.sb-close").click(function () {
        $("aside").toggleClass("on");
    });
    
    {block:ifUpdateTabTitle}
    $(".tab-toggle").click(function () {
        $(".updates").toggleClass("open");
        $("span.dot").toggleClass("active");
    });
    {/block:ifUpdateTabTitle}
    
    {block:IndexPage}
    // toggle tags
    $(".toggle-tags").click(function (event) {
        const $article = $(this).closest("article");
        $article.find(".tags-container").slideToggle(500);
        $(this).toggleClass("active");
        event.preventDefault();
    });
    {/block:IndexPage}
    
    // scroll to top
    const scrollToTopButton = $('.scroll-to-top');
    $(window).scroll(function() {
        const scrollPosition = $(this).scrollTop();
        const offsetToShowButton = 100;
        scrollToTopButton.toggle(scrollPosition > offsetToShowButton);
    });
    scrollToTopButton.click(function() {
        $('html, body').animate({scrollTop: 0}, 800);
        return false;
    });
    
    // note count
    $(".notecount").each(function () {
        let noteCount = +$(this).text().replace(/,/g, '').split(' ')[0];
        if (noteCount >= 1000000) $(this).text((noteCount / 1000000).toFixed(2) + 'm notes');
        else if (noteCount >= 1000) $(this).text((noteCount / 1000).toFixed(1) + 'k notes');
    });
});

////////////////////////////////////// vanilla js

lucide.createIcons();

// audioplayer
customAudio({
    post: "article",
    wrappers: {
        audio: ".custom_audio_wrapper",
        buttons: ".custom_audio_buttons",
        duration: ".custom_audio_duration",
        timeCurrent: ".custom_audio_current_time",
        timeLeft: ".custom_audio_time_left",
        seekbar: ".custom_audio_seekbar",
    },
    default: false,
    pauseAll: true,
    playButton: "<svg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' width='512' height='512' x='0' y='0' viewBox='0 0 512 512' xml:space='preserve'><g><path fill-rule='evenodd' d='M468.8 235.007 67.441 3.277A24.2 24.2 0 0 0 55.354-.008h-.07A24.247 24.247 0 0 0 43.19 3.279a24 24 0 0 0-12.11 20.992v463.456a24.186 24.186 0 0 0 36.36 20.994L468.8 276.99a24.238 24.238 0 0 0 0-41.983z'></path></g></svg>",
    pauseButton: "<svg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' width='512' height='512' x='0' y='0' viewBox='0 0 47.607 47.607' xml:space='preserve' class=''><g><path d='M17.991 40.976a6.631 6.631 0 0 1-13.262 0V6.631a6.631 6.631 0 0 1 13.262 0v34.345zM42.877 40.976a6.631 6.631 0 0 1-13.262 0V6.631a6.631 6.631 0 0 1 13.262 0v34.345z'></path></g></svg>",
    hideInfoIfError: true,
});

// tooltip
const commonOptions = {
    theme: "custom",
    arrow: false,
    animation: "scale-subtle",
    followCursor: true,
    placement: "top",
    touch: "hold",
};

tippy(".post-icons.lide", {
    ...commonOptions,
    content: "like",
});

tippy("[title]", {
    ...commonOptions,
    content(reference) {
        const title = reference.getAttribute("title");
        reference.removeAttribute("title");
        return title;
    },
});

{block:ifDarkMode}
// toggle dark/light
const btns = document.querySelectorAll(".theme-toggle");

btns.forEach((btn) => {
    btn.addEventListener("click", function () {
        const currentTheme =
            document.documentElement.getAttribute("data-theme");
        const targetTheme = currentTheme === "light" ? "dark" : "light";

        document.documentElement.classList.add("theme-transition");
        document.documentElement.setAttribute("data-theme", targetTheme);
        localStorage.setItem("theme", targetTheme);

        setTimeout(function () {
            document.documentElement.classList.remove("theme-transition");
        }, 50);
    });
});
{/block:ifDarkMode}
</script>

</body>

<script>
// remove empty p tags
for (const p of document.querySelectorAll('p')) {
    if (p.innerHTML.trim() === '') {
       p.remove()
    }
}
// create posts array
let posts = []
{block:Posts} 
    posts.push({ npf: JSON.parse({JSNPF}), id: {JSPostId}}) 
{/block:Posts}

//function for updating post types 
function updateTypes(type, article) {
    article.classList.remove('text-post')
    article.classList.add(`${ type }-post`, 'npf-post')
}

// loop through array to get each post
for (const post of posts) {
   let npf = post.npf
   let article = document.getElementById(`post-${post.id}`)
   // select captions that have something in them
   let caption = article.querySelector('.caption:is(:not(:empty))')
   if (caption != null && article.classList.contains('text-post')) {
      // if content exists
      if (npf.trail.length || npf.content.length) {
          // assign various post types based on NPF data
            switch (npf.trail[0]?.content[0]?.type ?? npf.content[0].type) {
            case 'image':
               updateTypes('photos', article)
               if (article.querySelector('.npf_row') == null) {
                  caption.prepend(article.querySelector('figure'))
               }
               break
            case 'video':
               updateTypes('video', article)
               let video = article.querySelector('figure')
               caption.prepend(video)
               break
            case 'link':
              updateTypes('link', article)
            case 'audio':
               updateTypes('audio', article)
                break
            case 'quote':
                updateTypes('quote', article)
            }
          
         // if there are photos
         if (article.classList.contains('photos-post')) {
            let photoset = document.createElement('div')
            photoset.classList.add('npf-photos')
            caption.prepend(photoset)
            // find where a photoset would be split up by another content block
            let photoBreak = article.querySelector('.reblog-content p, .reblog-content h1, .reblog-content h2, .reblog-content blockquote')
            let elements = []
            if (photoBreak) {
               let prevElement = photoBreak.parentNode.firstElementChild
               while (prevElement !== photoBreak) {
                  elements.push(prevElement)
                  prevElement = prevElement.nextElementSibling
               }
            }
            // if there is nothing that breaks up the photoset, select all rows
            else {
               elements = article.querySelectorAll('.npf_row')
            }
            // move each row to the top
            for (const el of elements) {
               photoset.append(el)
            }
            if (article.querySelectorAll('.npf_row').length > 1) {
                updateTypes('photoset', article)
            }
            else {
                updateTypes('photo', article)
            }
         }
         
         // clean up any potential stray reblog headers
         let reblogHeader = article.querySelector('.reblog-header')
         let reblogContent = article.querySelector('.reblog-content')
         if (reblogHeader?.nextElementSibling === reblogContent && reblogContent?.childElementCount === 0) {
            reblogHeader.remove()
            reblogContent.remove()
         }
      }
   }
}
</script>
</html>
