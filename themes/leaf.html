 <!----------------------------------------------------

    TUMBLR THEME: Leaf  - Â© Flipse / @mournstera
    - Version 2.0.0
    
    RELEASED:   - 12 October 2022
    UPDATED:    - 28 February 2025
    
    CREDITS:        mournstera.tumblr.com/credit
    TERMS OF USE:   mournstera.tumblr.com/themes
  
----------------------------------------------------->
<!DOCTYPE html>
<html lang="en" {block:ifDarkMode}data-theme="light"{/block:ifDarkMode}>
<head> 

<title>@{name} | {title}{block:PermalinkPage}{block:PostSummary}: {PostSummary}{/block:PostSummary}{/block:PermalinkPage} {block:TagPage}/ #{Tag}{/block:TagPage} {block:SearchPage}| search: {SearchQuery}{/block:SearchPage}</title>

<link rel="shortcut icon" href="{Favicon}"/>
<link rel="alternate" type="application/rss+xml" href="{RSS}"/>

{block:Description} 
<meta name="description" content="{MetaDescription}"/>
{/block:Description} 

{NewPostStyles}

<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">

{block:ifDarkMode} 
    <script> 
        const storedTheme = localStorage.getItem("theme") || (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");
        if (storedTheme) {
            document.documentElement.setAttribute("data-theme", storedTheme); 
        }
    </script>
{/block:ifDarkMode}
 
{block:Options}
<meta name="image:Sidebar" content=""/>
<meta name="image:Dark mode Sidebar" content=""/>

<meta name="color:Text" content="#000000"/>
<meta name="color:Link" content="#a5a5a5"/>
<meta name="color:Background" content="#ffffff"/>
<meta name="color:Background 2" content="#fbfbfb"/>
<meta name="color:Borders" content="#ededed"/>
<meta name="color:Accent 1" content="#c68d76"/>
<meta name="color:Accent 2" content="#f0eeea"/>

<meta name="color:Dark mode Text" content="#fcfcfc"/>
<meta name="color:Dark mode Link" content="#b1b1b1"/>
<meta name="color:Dark mode Background" content="#181818"/>
<meta name="color:Dark mode Background 2" content="#212121"/>
<meta name="color:Dark mode Borders" content="#3b3b3b"/>
<meta name="color:Dark mode Accent 1" content="#c68d76"/>
<meta name="color:Dark mode Accent 2" content="#3a362e"/>

<meta name="select:Font Size" content="1.1rem"/>
<meta name="select:Font Size" content="1.2rem"/> 
<meta name="select:Font Size" content="1.3rem"/> 
<meta name="select:Font Size" content="1.4rem"/>
<meta name="select:Font Size" content="1.5rem"/>
<meta name="select:Font Size" content="1.6rem"/>
<meta name="select:Font Size" content="1.7rem"/>
<meta name="select:Font Size" content="1.8rem"/>

<meta name="select:Blog Layout" content="head" title="Header"/>
<meta name="select:Blog Layout" content="left" title="Left Sidebar"/>
<meta name="select:Blog Layout" content="right" title="Right Sidebar"/>

<meta name="select:Layout Gap" content="40px"/>
<meta name="select:Layout Gap" content="60px"/>
<meta name="select:Layout Gap" content="80px"/>
<meta name="select:Layout Gap" content="90px">
<meta name="select:Layout Gap" content="100px">

<meta name="select:Post Width" content="350px"/>
<meta name="select:Post Width" content="400px"/>
<meta name="select:Post Width" content="450px"/>
<meta name="select:Post Width" content="500px"/>
<meta name="select:Post Width" content="540px"/>

<meta name="select:Photoset Gutter" content="1px" title="1px"/>
<meta name="select:Photoset Gutter" content="2px" title="2px"/>
<meta name="select:Photoset Gutter" content="3px" title="3px"/>
<meta name="select:Photoset Gutter" content="4px" title="4px"/>

<meta name="select:Post Info" content="only-icons" title="Icons"/>
<meta name="select:Post Info" content="only-text" title="Text"/>
<meta name="select:Post Info" content="both" title="Both"/>

<meta name="select:Tags" content="tags-always" title="Display">
<meta name="select:Tags" content="tags-trunc" title="Truncated">
<meta name="select:Tags" content="tags-upon-toggle" title="Behind toggle">

<meta name="select:Sidebar Width" content="190px"/>
<meta name="select:Sidebar Width" content="200px"/>
<meta name="select:Sidebar Width" content="220px"/>
<meta name="select:Sidebar Width" content="240px"/>
<meta name="select:Sidebar Width" content="260px"/>
<meta name="select:Sidebar Width" content="280px"/>

<meta name="select:Sidebar Image Size" content="60px">
<meta name="select:Sidebar Image Size" content="80px">
<meta name="select:Sidebar Image Size" content="100px">
<meta name="select:Sidebar Image Size" content="120px">
<meta name="select:Sidebar Image Size" content="140px">
<meta name="select:Sidebar Image Size" content="160px">
<meta name="select:Sidebar Image Size" content="170px">

<meta name="select:Sidebar Image Shape" content="square" title="Square">
<meta name="select:Sidebar Image Shape" content="rounded" title="Rounded">
<meta name="select:Sidebar Image Shape" content="circle" title="Circle">
<meta name="select:Sidebar Image Shape" content="elong" title="Elongated">
<meta name="select:Sidebar Image Shape" content="blob1" title="Blob 1">
<meta name="select:Sidebar Image Shape" content="blob2" title="Blob 2">

<meta name="select:Update Tab" content="upd-none" title="None">
<meta name="select:Update Tab" content="upd-left" title="Left Corner">
<meta name="select:Update Tab" content="upd-right" title="Right Corner">

<meta name="select:Tumblr Controls" content="t-display" title="Display">
<meta name="select:Tumblr Controls" content="t-hide" title="Behind Toggle">

<meta name="if:Dark mode" content=""/>
<meta name="if:Rounded Content Corners" content=""/>
<meta name="if:Rounded Photoset Corners" content=""/>
<meta name="if:Search Bar" content=""/>
<meta name="if:Featured Tags" content=""/>
<meta name="if:Sidebar Accent Shadows" content=""/>
<meta name="if:Dates Only On New Days" content=""/>

<meta name="text:Post margin" content="13rem"/>
<meta name="text:Body Font" content="Inter"/>
<meta name="text:Accent Font" content="Playfair Display"/>

<meta name="text:Sidebar Title"  content="Lorem Ipsum"/>
<meta name="text:Sidebar Description" content="This is where your description text goes. Links and html is allowed."/>

<meta name="text:Home Link Label" content="Home"/>
<meta name="text:Ask Link Label" content="Ask"/>
<meta name="text:Archive Link Label" content="Archive"/>
<meta name="text:Submit Link Label" content="Submit"/>

<meta name="text:Update Title" content="Updates"/>
<meta name="text:Update Text" content="Here is where your update text goes. Links/html is allowed. Delete the text in update or activity-fields to hide a section."/>
<meta name="text:Activity 1 Icon" content="tv"/>
<meta name="text:Activity 1" content="watching"/>
<meta name="text:Activity 2 Icon" content="headphones"/>
<meta name="text:Activity 2" content="listening"/>
<meta name="text:Activity 3 Icon" content="library-big"/>
<meta name="text:Activity 3" content="reading"/>
<meta name="text:Activity 4 Icon" content="gamepad-2"/>
<meta name="text:Activity 4" content="playing"/>
{/block:Options}

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family={text:Body Font}:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family={text:Accent Font}:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
<style>
:root { 
    --font1: '{text:Body Font}', sans-serif;
    --font2: '{text:Accent Font}', '{text:Body Font}', sans-serif;
    --font-size: {select:Font size};
    --gutter: {select:Photoset gutter};
    --layout-gap: {select:Layout Gap};
    --post-width: {select:Post width};
    --sb-width: {select:Sidebar Width};
    --sb-img: {select:Sidebar Image Size};
    --mobile-burger: 3rem;
    --line-height: 1.8;
    --gap1: 1.2rem;
    --gap2: 1.6rem;
    --gap3: 2rem;
    --gap4: 2.5rem;
    --gap5: 3rem;
    --gap6: 4.5rem;
    --gap-top-bottom: 14rem; 
    --gap-post-margin: {text:Post margin};
    --text-margin: 2.2rem;
{block:ifRoundedPhotosetCorners}
    --photo-corners: 0.8rem;
{/block:ifRoundedPhotosetCorners}
{block:ifRoundedContentCorners}
    --round1: 0.5rem;
    --round2: 0.8rem;
    --round3: 1.3rem;
    --round4: 1.8rem;
    --round5: 9999px;
    --circle: 100%;
{/block:ifRoundedContentCorners}
}
:root{block:ifDarkMode}, html[data-theme='light']{/block:ifDarkMode} {
    --light-on: block;
    --light-off: none;
    --c-text: {RGBcolor:Text};
    --c-link: {RGBcolor:Link};
    --c-bg1: {RGBcolor:Background};
    --c-bg2: {RGBcolor:Background 2};
    --c-border: {RGBcolor:Borders};
    --c-acc1: {RGBcolor:Accent 1};
    --c-acc2: {RGBcolor:Accent 2};
}
{block:ifDarkMode}
html[data-theme='dark'] {
    --light-on: none;
    --light-off: block;
    --c-text: {RGBcolor:Dark mode Text};
    --c-link: {RGBcolor:Dark mode Link};
    --c-bg1: {RGBcolor:Dark mode Background};
    --c-bg2: {RGBcolor:Dark mode Background 2};
    --c-border: {RGBcolor:Dark mode Borders};
    --c-acc1: {RGBcolor:Dark mode Accent 1};
    --c-acc2: {RGBcolor:Dark mode Accent 2};
}
html.theme-transition,
html.theme-transition *,
html.theme-transition *:before,
html.theme-transition *:after {
    transition: 0.0s !important;
    transition-delay: 0 !important;
}
{/block:ifDarkMode}
/* ------------------------------------------------------------- CSS RESET */
*,*::before,*::after {
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    -moz-osx-font-smoothing: grayscale;
    box-sizing: border-box;
}
* {
    margin: 0;

}
svg * {
  vector-effect: non-scaling-stroke;
}
html {
    height: 100%;
    font-size: 62.5%; 
    scroll-behavior: smooth;
}
button,
textarea,
select { 
    font: inherit;
}
button {
    outline: none;
    border: 0;
    background: transparent;
    padding: 0;
    display: inherit;
    cursor: pointer;
    color: inherit;
}
input{
    font: inherit;
    border: none;
    outline: 0;
    padding: 0;
    background-color: transparent;
}
p,h1,h2,h3,h4,h5,h6 {
    overflow-wrap: break-word;
}
ul,ol {
    padding: 0;
    margin: 0;
    list-style: none;
}
/* ------------------------------------------------------------- SELECTION */
::-moz-selection {
    background-color: rgb(var(--c-acc1));
    color:rgb(var(--c-text));
}
::selection {
    background-color: rgb(var(--c-acc1));
    color:rgb(var(--c-text)); 
}
/* -------------------------------------------------------------- TOOLTIPS */
.tippy-box[data-theme~='custom'] {
    font-size: var(--font-size);
    font-weight: 400;
    text-align: center;
    padding: 5px 4px 3px 4px;
    color: rgb(var(--c-bg1));
    border: 0;
    border-radius: var(--round1);
    background-color: rgb(var(--c-text));
    margin: 1.8rem;
    z-index: 9999999;
    text-transform: lowercase;
}
.tippy-box[data-theme~='credit'] {
    font-size: var(--font-size);
    font-weight: 400;
    text-align: center;
    padding: 0.7rem;
    color: rgb(var(--c-bg2));
    border: 0px solid rgb(var(--c-border));
    border-radius: var(--round4);
    background: rgb(var(--c-text));
    margin: 1rem;
    line-height: 1.6;
    z-index: 9999999;
}

/* ----------------------------------------- LIGHTBOXES, TUMBLR STUFF, ETC.*/
.vignette, #vignette {
    opacity:0;
}
.lightbox-image, #tumblr_lightbox img {
    box-shadow:none !important;
    border-radius:0 !important;
    max-width:none;
}
.tmblr-lightbox, #tumblr_lightbox {
    background-color: rgb(var(--c-bg1),.90)!important;
}
.iframe-controls--phone-mobile,
.tmblr-iframe--gdpr-banner,
.tmblr-iframe--app-cta-button,
.gdpr-banner {
    display: none !important;
}
.tmblr-iframe-pushdown {
    padding-top: 0!important; 
}
/* --------------------------------------------------------- SCROLLBARS   */
@supports selector(::-webkit-scrollbar) {
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }
    ::-webkit-scrollbar-track {
        background-clip: padding-box;
        background-color: rgb(var(--c-bg2));
        border-left: 1px solid rgb(var(--c-border));
    }
    ::-webkit-scrollbar-thumb {
        background-color: rgb(var(--c-acc1));
    }
    ::-webkit-scrollbar-button {
        display: none;
    }
    ::-webkit-scrollbar-corner {
        background-color: rgb(var(--c-bg1));
    }
}

@-moz-document url-prefix() {
  * {
    scrollbar-width: thin;
    scrollbar-color: rgb(var(--c-acc1)) rgb(var(--c-bg1));
  }
}
/* --------------------------------------------------------------- GENERAL */
body {
    font-family: var(--font1);
    font-size: var(--font-size);
    color: rgb(var(--c-text));
    background-color: rgb(var(--c-bg1));
    height: 100%;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    line-height: 1;
    font-weight: 400;
    overflow-x: hidden;
    overflow-y: auto;
}

a {
    color:rgb(var(--c-link));
    text-decoration: none;
    transition: all 0.2s ease;
    
    &:hover {
        color: rgb(var(--c-acc1)); 
    }
}
.center {
    display: block;
    align-content: center;
    justify-items: center;
}
.flex {
	display: flex;
} 
.centered {
	align-items: center;
	justify-content: center;
}
.align-center {
	align-items: center;
}
.justify-center {
	justify-content: center;
}
.between {
	justify-content: space-between;
}
.column {
    flex-direction: column;
}
.wrap {
    flex-wrap: wrap;
}
.gap1 {
    gap: var(--gap1);
}
.gap2 {
    gap: var(--gap2);
}
.gap3 {
    gap: var(--gap3);
}
.gap4 {
    gap: var(--gap4);
}
.gap5 {
    gap: var(--gap5);
}
.gap6 {
    gap: var(--gap6);
}
.light-on {
    display: var(--light-on);
}
.light-off{
    display: var(--light-off);
}
/* ------------------------------------------------------------ CONTAINERS */
.site-container {
    display: flex; 
    flex-direction: column;
}
main {
    display: grid;
    gap: var(--layout-gap);
    justify-content: center;
    transition: margin-inline 0.5s ease-out;
    justify-items: center;
    margin: var(--gap-top-bottom) 0;
}
.head main {
    grid-template-areas: "sb" "post";
}
.left main {
    grid-template-areas: "sb post";
}
.right main {
    grid-template-areas: "post sb";
}

/* ----------------------------------------------------------------- SB*/

aside.sb {
    grid-area: sb;
    width: var(--sb-width);
}

.sb-inner {
    width: var(--sb-width);
     container-type: inline-size;
     container-name: header;
     position: sticky;
     top: var(--gap-top-bottom);
}
.sb-top {
    align-items: flex-end;
}
@container header (width <350px) {
    .sb-top {
        flex-direction: column;
        gap: var(--gap4);
        align-items: flex-start;
    }
}
.left .sb-top, .right .sb-top {
    align-items: center;
}
.head {
    aside.sb, .sb-inner {
        width: var(--post-width);
    }
}
 
/* SB IMAGE */
.sidebar-image {
    flex-shrink: 0;

    img {
        width: var(--sb-img);
        height: var(--sb-img);
        object-fit: cover;
        overflow-clip-margin: unset;
    }
    
    &.rounded img {
        border-radius: 0.7em;
    }

    &.circle img {
        border-radius: 100%;
    }
    &.elong {
        position: relative;
        width: var(--sb-img);
        aspect-ratio: 2 / 3;
    }
    &.elong img {
        width: var(--sb-img);
        height: auto;
        border-radius: 9999px;
        aspect-ratio: 2 / 3;
    }
    
    &.blob1 img {
        -webkit-clip-path: url(#blob1); 
        clip-path: url("#blob1"); 
    }
    &.blob2 img {
        -webkit-clip-path: url(#blob2); 
        clip-path: url("#blob2"); 
    }
    {block:ifSidebarAccentShadows}
    &::before {
        width: var(--sb-img);
        height: var(--sb-img);
        content: '';
        background-color: rgb(var(--c-acc2));
        display: block;
        z-index: -1;
        position: absolute;
        margin-top: calc(-1* var(--sb-img) / 5);
        margin-left: calc(-1* var(--sb-img) / 4);
        transition: margin 0.2s ease;
    }
    &.rounded::before  {
        border-radius: 0.7em;
    }
    &.circle::before  {
        border-radius: 100%;
    }
    &.elong::before  {
        width: var(--sb-img);
        height: auto;
        border-radius: 9999px;
        aspect-ratio: 2 / 3; 
    }
    &.blob1::before  {
        -webkit-clip-path: url(#blob1); 
        clip-path: url("#blob1"); 
    }
    &.blob2::before  {
        -webkit-clip-path: url(#blob2); 
        clip-path: url("#blob2"); 
    }
    
    &:hover::before {
        margin-top: -10px;
        margin-left: -10px;
    }
    {/block:ifSidebarAccentShadows}
}


/* SB TITLE+DESC */
h6.sb-title {
    font-size: 3.1rem;
    font-family: var(--font2);
    font-weight: 400;
    margin-bottom: var(--gap5);
    {block:ifNotSidebarAccentShadows}
    margin-bottom: var(--gap1);
    {block:ifNotSidebarAccentShadows}
    
    {block:ifSidebarAccentShadows}
    &::after {
        content: '';
        height: 30px;
        width: calc(100% - 6px);
        display: block;
        background-color: rgb(var(--c-acc2));
        margin-top: -38px;
        margin-left: 6px;
    }
    {/block:ifSidebarAccentShadows}
}

.sb-description {
    line-height: 1.6;
    font-weight: 300;
}

/* SEARCH */
form.search {
    margin-top: var(--gap3);
    width: 100%;
    background: rgb(var(--c-bg1));
    border: 1px solid rgb(var(--c-border));
    border-radius: var(--round4);
    overflow: hidden;
    
    input {
        width: 100%;
        color: rgb(var(--c-text));
        margin: 0 var(--gap1);

        &::placeholder {
            padding: 0 !important;
            color: rgb(var(--c-text));
            opacity: 1;
            text-transform: inherit;
        }
    }
    button.search {
        display: inline-flex;
        color: rgb(var(--c-text));
        padding: 0.9rem;
        flex-shrink: 0;
        border-right: 1px solid rgb(var(--c-border));
        
        svg {
            width: calc(var(--font-size) + 4px);
            height: calc(var(--font-size) + 4px);
            stroke-width: 1.2;
            color: rgb(var(--c-acc1));
        }
    }
}
form.search:focus-within {
    border-color: rgb(var(--c-acc1));
    
    button.search {
        border-color: rgb(var(--c-acc1));
        svg {
            color: rgb(var(--c-text));
        }
    }
}
nav.sb-menu {
    margin-top: var(--gap5);
}
nav.sb-menu, nav.featured-tags {
    justify-content: center;
    font-weight: 300;
}
/* NAV */
{block:ifFeaturedTags}
nav.sb-menu a {
    display: none;
}
nav.sb-menu a:not([href*="/tagged"]) {
    display: inline-flex;
}
{/block:ifFeaturedTags}

nav.featured-tags {
    margin-top: var(--gap3);

    a {
        display: flex;
        gap: 0.3rem;
        
        &:hover {
            color: rgb(var(--c-text));
        }

    }
    a:not([href*="/tagged"]) {
        display:none;
    }

    span.tagname {
        color: rgb(var(--c-acc1));
        transition: all 0.2s ease;
        
        &:hover {
            color: rgb(var(--c-text));
        }
    }
    span.total {
        color: rgb(var(--c-link));
        display: flex;
        align-items: center;
        
        &::before {
            content:'(';
        }
        &::after {
            content:')';
        }
    }
}

/* ------------------------------------------------------------ PAGINATION */
nav.pagi {

    
    a[class*="page"] {
        color: rgb(var(--c-text));
        cursor: default;
        background: rgb(var(--c-bg2));
        border: 1px solid rgb(var(--c-border));
        padding: 0.5rem;
        border-radius: var(--round1);
        
        span.pagi-icon {
            display: inline-flex;
        }

        & svg {
            width: calc(var(--font-size) + 6px);
            height: calc(var(--font-size) + 6px);
            opacity: 0.3;
            color: rgb(var(--c-text));
            stroke-width: 1.2;
        }
    }

    a.has_page {
        cursor: pointer;

        svg {
            opacity: 1;
        }

        &:hover {
            color: rgb(var(--c-acc1));
        }
    }

    span.current_page {
        display: flex;
        font-weight: 500;
        font-family: var(--font2);
        font-size: 1.7em;
    }
}


/* -----------------------------------------------------  SECTION POSTS */
section.content {
    grid-area: post;
    width: var(--post-width);
}
article {
    overflow: hidden;
    margin: 0 auto;
    width: 100%;
{block:IndexPage}
    margin-bottom: var(--gap-post-margin);
{/block:IndexPage}
    
}

:is(article h1, article h2, article h3, article p, article ul, article ol, article blockquote, article .question, ol.notes) {
    line-height: var(--line-height);
}

/* -------------------------------------------- CAPTIONS, UL, OL HEADLINES */
article :is(
    figure:has(iframe:not(iframe.tumblr_audio_player)),
    .video:has(iframe),
    .poll-post a.poll-row,
    div.npf-link-block,
    figcaption.audio-caption,
    h1,
    h2,
    h3,
    ul,
    ol,
    pre,
    blockquote,
    .caption p,
    .replies p,
    .question p) {
    margin: var(--text-margin) 0; 
}

article ul, article ol {
    padding-left: var(--text-margin);
}
article ul {
    list-style: outside;
}
article ol {
    list-style: decimal;
}
article ul li:hover::marker,
article ol li:hover::marker {
    color: rgb(var(--c-acc1));
}
article ol li, article ul li {
    padding-left: var(--gap1);
}
article h1, .poll-post .poll-question {
    font-size: 1.5em;
    font-weight: 700;
    font-family: var(--font2);
}
article h2 {
    font-size: 1.3em;
    font-weight: 700;
    font-family: var(--font2);
}
article h3 {
    font-size: 1.1em;
    font-weight: 700;
    font-family: var(--font2);
}
/* ----------------------------------------------- BLOCKQUOTES/QUOTE POSTS */ 
article blockquote {
    border-left: 1px solid rgb(var(--c-acc1));
    padding-left: var(--text-margin);
    margin-left: var(--text-margin)!important;
}
article blockquote p {
    margin: 0!important;
}
article .caption p.npf_quote {
    border-left: 2px solid rgb(var(--c-acc1));
    padding-left: var(--text-margin);
    margin-left: var(--text-margin);
}

p:empty {
	display: none;
}
/*  attributions  */
.post-content div.npf_row .npf_col figure p.tmblr-attribution,
.post div.npf_row .npf_col figure p.tmblr-attribution,
body div.npf_row .npf_col figure p.tmblr-attribution {
    width: auto;
}

/* ----------------------------------------------- USER POSTS */ 

/*  user original  */
.reblog-header {
    margin: var(--text-margin) 0;
}
.reblog-header:is(:not(.original)) {

}
.reblog-header img {
    width: calc(var(--font-size) + 16px);
    height: calc(var(--font-size) + 16px);
    border-radius: var(--circle);
    padding: 3px;
    border: 1px solid rgb(var(--c-border));
}
.reblog-header .user {
    color: rgb(var(--c-text));
    font-weight: 600;
}
.reblog-header a.user:hover {
    color: rgb(var(--c-acc1)); 
}

/* ---------------------------------------------------------- NPF PHOTOSET */


article img {
	display: block;
}
article iframe,
article img {
    max-width: 100%;
    height: auto;
}
.post-content div.npf_row {
    margin-bottom: calc(var(--gutter) - 4px);
}
.post-content div.npf_row:last-child {
    margin-bottom: 0;
}
.post-content div.npf_row .npf_col {
    margin-right: calc(var(--gutter) - 4px); 
}
.post-content div.npf_row .npf_col:last-child {
    margin-right: 0;
}
.npf_row:only-of-type,
.npf-photos,
.more_photoset,
.legacy-photo img,
.photoset {
    border-radius: var(--photo-corners);
    overflow:hidden;
    margin: auto;
}

figure.tmblr-full:is(:not(:last-of-type)) {
    margin-bottom: var(--gutter);
}
figure:is(:not(:last-of-type)) {
    margin-bottom: var(--gutter);
}

.npf-photos:has(+figure) {
    border-radius: var(--photo-corners) var(--photo-corners) 0 0;
    max-width: fit-content;
}
.npf-photos + figure {
    overflow: hidden;
    border-radius: 0 0 var(--photo-corners) var(--photo-corners);
    margin: var(--gutter) auto auto;
    max-width: fit-content;
}
figure:has(a.post_media_photo_anchor) {
    width: fit-content;
}
/* ----------------------------------------------------- LEGACY PHOTOSET */
.photo-row {
    padding: calc(var(--gutter) / 2) 0; 
    display:flex;
}
.photo-row:first-child {
	padding-top:0;
}
.photo-row:last-child {
	padding-bottom:0;
}
.legacy-photoset-inner {
    cursor:pointer;
    padding: 0 calc(var(--gutter) / 2); 
    flex-grow:1;
    
        & .image {
        width:100%;
        height:100%;
    	display:block;
    	object-fit:cover;
    }
}
.legacy-photoset-inner:first-child {
    padding-left:0;
}
.legacy-photoset-inner:last-child {
    padding-right:0;
}
.photo-row-1 .legacy-photoset-inner {
    width:100%;
}
.photo-row-2 .legacy-photoset-inner {
    width:50%;
}
.photo-row-3 .legacy-photoset-inner {
    width:33.3333333%;
}
.photo-single {
    cursor: pointer;
}

/* ---------------------------------------------------  LINK STYLE IN POSTS*/
:where(
    .post-content p,
    .post-content ul,
    .post-content ol,
    .post-content blockquote,
    .sb-description,
    .update-container
) a {
    border-bottom: 1px solid rgb(var(--c-acc1));
    padding-bottom: 1px;
}
:where(
    .post-content p,
    .post-content ul,
    .post-content ol,
    .post-content blockquote,
    .sb-description,
    .update-container
) a:hover {
    color: rgb(var(--c-text));
}
.post-content span a {
    color: inherit;
}
.read_more {
    border: 1px solid rgb(var(--c-border));
    padding: 0.6rem;
    border-radius: var(--round1);
    background: rgb(var(--c-bg2));
}
/* ----------------------------------------------------- alt. DESCRIPTION */
.popover.tutorial {
    padding: var(--gap3)!important;
    background-color: rgb(var(--c-text))!important;
    color: rgb(var(--c-bg1))!important;
}
.popover {
    border-radius: var(--round1)!important;
    font: inherit!important;
    box-shadow: none!important;
}
.popover.tutorial .content, .popover.tutorial .title {
    color: rgb(var(--c-bg1))!important;
}
.popover.tutorial .title {
    font-weight: 700!important;
    font-size: 1.2em!important;
}
.popover.tutorial .content {
    font-size: inherit!important;
}
.popover.tutorial .ok_button {
    color: rgb(var(--c-bg1))!important;
    cursor: pointer!important;
}
/* ------------ styling different stuff */
p.npf_quote {
    font-size: inherit;
    font-family: inherit;
    vertical-align: inherit;
}
p.npf_quirky {
    line-height: inherit;
    font-size: 1.6em;
}
pre {
    white-space: initial;
    margin: 0;
}
code {
    line-height: inherit !important;
    background: transparent;
    font-size: inherit !important;
    word-wrap: break-word;
}
/* ----------------------------------------------------- POST HEADER */
header.info {
    margin: 0 auto var(--gap6) auto;
    
    &::after{
        width: 15%;
        height: 1px;
        background: rgb(var(--c-border));
        content: '';
    }
    
    svg {
        stroke-width: 1.2;
        color: rgb(var(--c-acc1));
        width: calc(var(--font-size) + 8px);
        height: calc(var(--font-size) + 8px);
    }
    a.date {
        color: rgb(var(--c-text));
        gap: 0.6rem;
        
        &:hover {
            color: rgb(var(--c-acc1));
        }
        
        span {
            
            &:first-child {
                font-weight: 400;
                font-family: var(--font2);
                font-size: 1.9em;
            }
            &:last-child {
                text-transform: uppercase;
                color: rgb(var(--c-text));
                font-weight: 300;
                letter-spacing: 1px;
                margin-top: 2px;
            }
        }
    }
}
/* ----------------------------------------------------- POST FOOTER */

footer.info {
    margin-top: var(--text-margin);
    padding-top: var(--text-margin);
    border-top: 1px solid rgb(var(--c-border));
}

.info-inner {
    
    a {
        display: inline-flex;
        color: rgb(var(--c-text));
    }
}

.numbers {
    gap: var(--gap1);
    
    .date-footer {
        display: flex;
        align-items: center;
        font-size: calc(var(--font-size) + 2px);
        font-weight: 500;
        
        &::after {
            content: '/';
            display: flex;
            margin-left: var(--gap1);
            color: rgb(var(--c-border));
        }
    }
    {block:ifNotDatesOnlyOnNewDays}
    span.notecount {
        font-weight: 600;
        text-transform: uppercase;
    }
    {/block:ifNotDatesOnlyOnNewDays}
}



.interact {
    gap: 1rem;
}
.only-text .info-text,
.only-icons .info-icon {
    display: flex;
}
.only-text .info-icon,
.only-icons .info-text {
    display: none!important;
}
.info-icon svg {
    width: calc(var(--font-size) + 8px);
    height: calc(var(--font-size) + 8px);
    display: flex;
    stroke-width: 1.1;
}
.rb svg {
    transform: rotateX(180deg);
}

/*  LIKE BUTTON */
a.custom-like-container {
    position: relative;
}
a.custom-like-container .like_button {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
}
a.custom-like-container .like_button iframe {
    width: 100%!important;
    height: 100%!important;
}
a.custom-like-container .liked + .custom-like-icon+.custom-like-text,
a.custom-like-container .liked + .custom-like-icon {
    color: rgb(var(--c-acc1))!important;
}
a.custom-like-container .liked + .custom-like-icon+.custom-like-text:after {
   content:'d';
}

.both {
    .interact {
        gap: var(--gap1);
    }
    .both-info {
        display: flex;
        align-items: center;
        gap: 0.4rem;
    }
    .info-icon svg {
        width: calc(var(--font-size) + 6px);
        height: calc(var(--font-size) + 6px);
        color: rgb(var(--c-link));
    }
    a.custom-like-container .liked + .custom-like-icon svg {
        stroke: rgb(var(--c-acc1))!important;
    }
    a.custom-like-container .liked + .custom-like-icon+.custom-like-text {
        color: rgb(var(--c-text))!important;
    }
    a.custom-like-container .liked + .custom-like-icon+.custom-like-text:after {
       content:'d';
    }
}
/*  -------------------------------- TAGS */

.tags-container {
    width: 100%;
}

.tags {
    margin-top: var(--gap1);
    font-weight: 300;
    
    a {
        margin-right: 0.7rem;
        line-height: 1.7;
        word-break: break-word;
        color: rgb(var(--c-link));
        vertical-align: text-top;
        
        &:hover {
            color: rgb(var(--c-acc1));
        }
    }
}

.tags-always {
    .toggle-tags.both-info {
        display: none;
    }
}

/* TRUNCATED */
.tags-trunc {
    
    .toggle-tags.both-info {
        display: none;
    }
    
    .tags-container {
        
        .tags {
            
            a {
                display: inline;
                margin-right: 0.7rem;
                line-height: 1.7;
                word-break: break-word;
                color: rgb(var(--c-link));
                vertical-align: text-top;
                
                &:hover {
                    color: rgb(var(--c-acc1));
                }
            }
            
            a.expand {
                font-weight: 600;
                margin-left: calc(4px - var(--gap1));
                margin-right: 0;
            }
            a.visible {
                display: inline-block;
            }
            a.hidden {
                display: none;
            }
            .ellipsis {
                display: inline-block;
                text-overflow: ellipsis;
                white-space: nowrap;
                overflow: hidden;
                
                &:after {
                    content: '...';
                }
            }
        }
    }
}

/* TOGGLE TAGS */
.toggle-tags {
    display:none;
}
.tags-upon-toggle {
    
    .tags-container {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.8s ease;
        margin-top: 0.3rem;
    }
    
    .toggle-tags {
        cursor: pointer;
        transition: all 0.2s ease;
        display: inline-flex;
    }
}





/* PERMALINK PAGES */
.perma-date {
    font-weight: 600;
    margin-top: var(--gap2);
}
#dot {
    display: inline-block;
    content: '';
    width: 6px;
    height: 6px;
    background-color: rgb(var(--c-acc1));
    border-radius: 100%;
}
.perma-spacer {
    display: flex;
    align-items: center;
    gap: var(--gap1);
    
    svg {
        width: calc(var(--font-size) + 5px);
        height: calc(var(--font-size) + 5px);
        color: rgb(var(--c-text));
        stroke-width: 1;
        padding: 0px;
    }
    img {
        width: calc(var(--font-size) + 5px);
        height: calc(var(--font-size) + 5px);
        border-radius: var(--circle);
        margin-top: -1px;
    }
    a {
        color: rgb(var(--c-text));
        border-bottom: 1px solid rgb(var(--c-acc1));
        padding-bottom: 2px;
        
        display: inline-flex;
        word-wrap: break-word;
        word-break: break-word;
        
        &:hover {
            color: rgb(var(--c-link));
        }
    }
    a.perma-tag {
        color: rgb(var(--c-link));
        border-bottom: 0;
        padding-bottom: 0;
        
    }
    a.perma-tag:hover {
        color: rgb(var(--c-text)); 
    }
}

/* NOTES */
.perma-post-notes {
    margin-top: var(--gap6);
    
    .perma-notes {
        display: block;
        font-weight: 400;
        font-family: var(--font2);
        font-size: 1.6em;
        margin-bottom: var(--gap4);
    }
}


ol.notes li.note {
    padding: 0.8rem 0;
    position: relative;
}
ol.notes li.note:first-of-type {
    padding-top: 0;
}
ol.notes li.note:last-of-type {
    padding-bottom: 0;
}
ol.notes li.note img.avatar {
    margin-right: var(--gap1);
    vertical-align: middle;
    max-width: calc(var(--font-size) + 10px);
    height: calc(var(--font-size) + 10px);
    border-radius: var(--round1);
}

a.more_notes_link {
    color: rgb(var(--c-text));
    display: block;
    font-weight: 500; 
}
/* ----------------------------------------------------- TAG/SEARCH PAGES */
.found {
    text-align: center;
    margin-bottom: var(--layout-gap);
} 
/* ------------------------------------------------------- POST-TYPE: poll */
.poll-post a.poll-row {
    color: rgb(var(--c-text));
    line-height: inherit !important;
    font-size: var(--font-size);
    border-radius: var(--round1);
    padding: 8px var(--gap1);
    font-weight: 600;
    border: 1px solid rgb(var(--c-border));
    background-color: rgb(var(--c-bg2));
    width: auto!important;
    text-align: center;
    min-height: auto;
}

.poll-post a.poll-row:hover {
    color: rgb(var(--c-acc1))!important;
}
a.poll-row p {
    margin: 0!important;
}
.poll-post .poll-see-results {
    margin-top: 0;
    margin-bottom: var(--text-margin);
}
/* -------------------------------------------------------- POST-TYPE: ask */
.ask-container {
    border-bottom: 1px solid rgb(var(--c-border));
    padding-bottom: var(--text-margin);
}
.asker-wrap {
    display: flex;
    align-items: center;
    gap: var(--gap2);
    margin-bottom: var(--gap2);
}
img.asking-icon {
    width: calc(var(--font-size) + 30px);
    height: calc(var(--font-size) + 30px);
    border-radius: var(--circle);
    padding: 3px;
    border: 1px solid rgb(var(--c-border));
}
.ask-user-info {
    gap: 0.6rem;
    
    a {
        color: rgb(var(--c-text));
        
        &:hover {
            color: rgb(var(--c-acc1));
        }
    }
    
    span:first-child {
        font-weight: 700;
        text-transform: lowercase;
    }
}
.question p,
.question h1,
.question h2 {
    margin-right: 0!important;
    margin-left: 0!important;
}
.question p:first-of-type,
.question h1:first-of-type,
.question h2:first-of-type {
    margin-top: 0!important
}
.question p:last-of-type,
.question h1:last-of-type,
.question h2:last-of-type {
    margin-bottom: 0!important
}
.question .npf_inst {
    max-width: 100%;
    margin: 0;
}
:where(.question, .replies, .rb-answer) img {
    width: auto !important;
    max-width: 100%;
    border-radius: var(--photo-corners);
}
.replies {
    margin-top: var(--text-margin);
}
.rb-answer {
    margin-top: var(--text-margin);
    border-bottom: 0;
    padding-bottom: 0;
}
.question {
    div.npf-link-block {
        margin-left: 0!important;
        margin-right: 0!important;
    }
}


/* ------------------------------------------------------- POST-TYPE: chat */
p.npf_chat span.label {
    font-weight: 600;
}
p.npf_chat {
    font-family: inherit!important;
}
/* --------------------------------- POST-TYPE: video/audio responsiveness */

article iframe:not(iframe.bandcamp_audio_player, .spotify_audio_player, iframe.soundcloud_audio_player, iframe.tumblr_audio_player) {
    max-width: 100%;
    aspect-ratio: 16/9;
    height: auto;
    margin-bottom: -3px;
}

iframe.soundcloud_audio_player,
.tumblr_video_container {
    width: 100%!important;
    height: auto!important;
}

figure iframe.spotify_audio_player,
iframe.spotify_audio_player {
    max-height: 80px;
    width: 100%;
}

article iframe[src*='soundcloud'] {
    max-height: 130px;
}

figure iframe.bandcamp_audio_player {
    max-height: 120px;
}

figure.tmblr-full video {
    margin-bottom: -3px;
}

/* -----------------------------------------------------  POST TYPE: audio */
.tmblr-full>.audio-caption {
    display: block!important;
}
figcaption.audio-caption {
    background: rgb(var(--c-bg2));
    border: 1px solid rgb(var(--c-border));
    border-radius: var(--round1);
}
.audio-info {
    display: flex;
    align-items: center;
    gap: var(--gap2);
    padding: var(--gap2);
}
.tmblr-full>.audio-caption .audio-details {
    max-width: 100%;
    padding: 0;
    flex: auto;
}
.tmblr-full>.audio-caption .album-cover {
    width: 80px;
    height: 80px;
    border-radius: var(--round1);
    object-fit: cover;
}
.custom-audio-player-container .play-pause {
    display: flex;
}
.custom-audio-player-container .play-pause svg {
    width: 26px;
    height: 26px;
    color: rgb(var(--c-acc1));
}
.tmblr-full>.audio-caption .album, .tmblr-full>.audio-caption .artist {
    font-size: 1em;
    line-height: 1.5;
}
.progress-bar-container {
    display: flex;
    align-items: center;
    gap: var(--gap2);
    border-top: 1px solid rgb(var(--c-border));
    padding: var(--gap2);
}
 
/* Style the track (actually range input itself but it's only for chrome) */
.progress-bar {
    width: 100%;
    height: 10px;
    -webkit-appearance: none;  /* Removes the default styling in most browsers */
    background: rgb(var(--c-bg1));
    border-radius: var(--round2);
    border: 1px solid rgb(var(--c-border));
}

/* Style the track for both WebKit and Mozilla browsers */
.progress-bar::-webkit-slider-runnable-track,
.progress-bar::-moz-range-track {
    width: 100%;
    height: 10px;
    background: rgb(var(--c-bg1));
    border-radius: var(--round2);
    border: 1px solid rgb(var(--c-border));
}

/* Style the thumb for WebKit (Chrome, Safari, etc.) */
.progress-bar::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 16px;
    height: 16px;
    background: rgb(var(--c-acc1));
    border-radius: 50%;
    cursor: pointer;
}

/* Style the thumb for Mozilla (Firefox) */
.progress-bar::-moz-range-thumb {
    width: 16px;
    height: 16px;
    background: rgb(var(--c-acc1));
    border:0; /* remove weird border in firefox */
    border-radius: 50%;
    cursor: pointer;
}
.time-display {
    flex-shrink: 0;
    
}

/* ------------------------------------------------------  POST TYPE: link */
div.npf-link-block {
    align-items: flex-start;
    border: 1px solid rgb(var(--c-border));
    background-color: rgb(var(--c-bg2));
    border-radius: var(--round2);
    flex-direction: column;
}
div.npf-link-block .poster {
    border-bottom: 0;
    height: 200px;
}
div.npf-link-block .title {
    font-size: 1.5em;
    line-height: var(--line-height);
    max-height: initial;
    overflow: hidden;
    overflow-wrap: anywhere;
    text-overflow: ellipsis;
    font-weight: 500;
    padding: var(--gap3)!important;
}
div.npf-link-block .poster .title {
    color: #fff;
    padding: var(--gap3);
}
div.npf-link-block .bottom {
    line-height: var(--line-height);
    padding: var(--gap2);
    border-top: 1px solid rgb(var(--c-border));
}
div.npf-link-block .bottom .description {
    color: inherit;
    font-size: inherit;
    line-height: inherit;
    margin: 0;
    max-height: none;
    overflow: hidden;
    overflow-wrap: anywhere;
    text-overflow: ellipsis;
}
div.npf-link-block .bottom .site-name {
    color: rgb(var(--c-link));
    font-size: inherit;
    line-height: var(--line-height);
    margin-top: 10px;
    opacity: 1;
}
 
/* ----------------------------------------------------- CORNER + MOBILE STUFF sb*/

.top-corner {
    position: fixed;
    top: var(--gap3);
    right: var(--gap3);
    z-index: 80;
}
.right-icon {
    display: inline-flex;
    padding: 6px;
    color: rgb(var(--c-text));
    background: rgb(var(--c-bg2));
    border: 1px solid rgb(var(--c-border));
    border-radius: var(--round1);

    & svg {
        width: calc(var(--font-size) + 5px);
        height: calc(var(--font-size) + 5px);
        stroke-width: 1.1;
    }
}
iframe.tmblr-iframe,  
.tmblr-iframe {
    z-index: 99 !important;
    transform: scale(0.85);
    transform-origin: 100% 0;
    transition: all 0.3s ease;
    top: 5px;
    right: 5px;
}
.t-display {
    
    .top-corner {
        top: 6rem;
    }
    button.controls {
        display: none;
    }
}

.t-hide {

    iframe.tmblr-iframe, 
    .tmblr-iframe {
        opacity: 0;
        visibility: hidden;
        top: 12px;
        right: 60px;
    }
    .tmblr-iframe.active {
        opacity: 1;
        visibility: visible;
    }
}

.spin {
    transition: rotate 0.4s ease;
}
.spin.active {
    rotate: 30deg;
}
.bottom-corner {
    position: fixed;
    bottom: var(--gap3);
    right: var(--gap3);
    z-index: 80;
}
button.controls:active svg {
    transform: scale(0.9);
}
button.scroll-to-top {
    color: rgb(var(--c-text), 0.3);
    cursor: default;

    &.visible {
        cursor: pointer;
        color: rgb(var(--c-text));
    }
}


/* UPDATE TAB */
.upd-none {
    
    .update-wrap,.update-container-mobile {
        display: none!important;
    }
}
.upd-right {
    
    .update-wrap {
        display: flex;
        flex-direction: column;
        align-items: flex-end; 
    }
    
}

.upd-left {
    
    .update-wrap {
        position: fixed;
        top: var(--gap3);
        left: var(--gap3);
        align-items: flex-start;
    }
    
    button.upd-toggle {
        position: fixed;
        top: var(--gap3);
        left: var(--gap3);
    }
    
}

.update-container {
    width: 250px;
    max-height: 600px;
    overflow-x: hidden;
    overflow-y: auto;
    background: rgb(var(--c-bg2));
    border: 1px solid rgb(var(--c-border));
    border-radius: var(--round2);
    line-height: 1.6;
    padding: var(--gap3);
    position: absolute;
    margin-top: calc(calc(var(--font-size) + 5px) + 14px + var(--gap1));
    visibility: hidden;
    opacity: 0;
    transition: visibility 0.4s ease, opacity 0.4s ease;
    
    .upd-title {
        font-weight: 500;
        font-size: 1.2em;
        letter-spacing: 0.05rem;
        margin-bottom: var(--gap2);
        font-family: var(--font2);
        display: flex;
        flex-direction: column;
        align-items: center;
        
        &::after {
            content: '';
            width: 40px;
            height: 1px;
            background-color: rgb(var(--c-border));
            margin-top: var(--gap1);
        }
    }

    .activity {
        display: flex;
        align-items: center;
        gap: var(--gap2);
        margin-bottom: 0.8rem;
        
        svg {
            height: calc(var(--font-size) + 4px);
            width: calc(var(--font-size) + 4px);
            color: rgb(var(--c-acc1));
            stroke-width: 1.2;
        }
    }
}
.updates + .activity {
    margin-top: var(--gap3);
    border-top: 1px solid rgb(var(--c-border));
    padding-top: var(--gap3);
}
.activity:last-of-type {
    margin-bottom: 0;
}
.upd-toggle-icon.hidden {
    display:none;
}
.update-container.active {
    opacity: 1;
    visibility: visible;
}

.update-container-mobile {
    margin-top: var(--gap5);
    border-top: 1px solid rgb(var(--c-border));
    padding-top: var(--gap5);
    line-height: 1.6;
    
    .upd-title {
        align-items: flex-start;
        font-weight: 500;
        font-size: 1.2em;
        letter-spacing: 0.05rem;
        margin-bottom: var(--gap2);
        font-family: var(--font2);
        display: flex;
        flex-direction: column;
        
        &::after {
            display:none;
        }
    }
    .activity {
        display: flex;
        align-items: center;
        gap: var(--gap2);
        margin-bottom: 0.8rem;
        
        svg {
            height: calc(var(--font-size) + 4px);
            width: calc(var(--font-size) + 4px);
            color: rgb(var(--c-acc1));
            stroke-width: 1.2;
        }
    }
    .updates + .activity {
        margin-top: var(--gap3);
        border-top: 0;
        padding-top: 0;
    }
}

/* ----------------------------------------------------------------- SB MOBILE*/

aside.sb-mobile {
    z-index: 99;
    position: fixed;
    width: 100dvw;
    height: 100dvh;
    bottom: 0;
    right: 0;
    overflow-y: auto;
    overflow-x: hidden;
    padding: var(--gap5);
    background: rgb(var(--c-bg2));
    transition: transform 0.4s;
    transform: translateX(-100%);
    border-left: calc(var(--mobile-burger) + var(--gap3) * 2) solid  rgb(var(--c-acc1));
}
.mobile-toggle {
    position: fixed;
    top: var(--gap3);
    left: var(--gap3);
    z-index: 99999999999999;
    width: var(--mobile-burger);
    height: var(--mobile-burger);
    display: flex;
    align-items: center;
    justify-content: center;
}
.burger {
    cursor: pointer;
    display: flex;
    flex-direction: column;
    height: 22px;
    justify-content: space-between;
    transition: transform .33s ease-out;
    width: 22px;
}
.b-lines {
    background-color: rgb(var(--c-text));
    border-radius: var(--round0);
    height: 2px;
    width: 100%;
}
.lines-ends {
    width: 50%;
}
.b-lines.lines-top {
    align-self: flex-end;
    transform-origin: left;
    transition: transform .33s cubic-bezier(.54,-.81,.57,.57);
}
.b-lines.lines-bottom {
    transform-origin: right;
    transition: transform .33s cubic-bezier(.54,-.81,.57,.57);
}
.active-burger .b-lines {
    background-color: rgb(var(--c-bg1));
}
.burger.active-burger {
    transform: rotate(-45deg);
}
.active-burger .b-lines.lines-top {
    transform: rotate(-90deg) translateX(-10px);
}
.active-burger .b-lines.lines-bottom {
    transform: rotate(-90deg) translateX(10px);
}

nav.mobile-menu {
    font-size: 1.1em;
    margin-bottom: var(--gap5);
    
    a {
        color: rgb(var(--c-text));
        &:hover {
            color: rgb(var(--c-acc1));
        }
    }
}
{block:ifFeaturedTags}
nav.mobile-menu a {
    display: none;
}
nav.mobile-menu a:not([href*="/tagged"]) {
    display: inline-flex;
}
{/block:ifFeaturedTags}
/* -------------------------------------------RESPONSIVENESS */
.mobile {
    display: none;
}
iframe#ask_form,
iframe#submit_form {
    margin-bottom: 0!important;
}
@media only screen and (max-width: calc({select:post width} + {select:Layout Gap} + {select:Sidebar Width} + 40px)) {
    :root {
        --sb-width: var(--post-width);
    }
    .left main,.right main{
        grid-template-areas: "sb" "post";
    }
    .sb-inner {
        position: relative;
        top: unset;
    }
}

@media only screen and (max-width: calc({select:post width} + 80px)) {
    :root {
        --post-width: 88vw;
    }
    main {
        width: 100vw;
    }
    aside.sb-mobile.active {
        opacity: 1;
        visibility: visible;
        transform: translateX(0%);
    }
    body.hide {
        overflow-y: hidden;
    }
    .desktop {
        display:none !important;
    }
    .mobile {
        display: flex;
    }
    nav.pagi {
        margin-bottom: var(--gap5);
    }
}
/* DEFINITE MOBILE */
@media only screen and (max-width: 550px) {
    button.controls,
    iframe.tmblr-iframe,only screen and
    .tmblr-iframe { 
        display:none;
    }

    .top-corner {
        top: var(--gap3)!important;
    }
}

{CustomCSS}

</style>
</head>


<body class="{select:Blog Layout} {select:Tumblr Controls} {select:Post Info} {select:Tags} {select:Update Tab}">


<div class="site-container">

<div class="mobile-toggle mobile">
    <button class="burger"  title="Navigation" aria-label="open sidebar" type="button" role="button">
        <div class="b-lines lines-ends lines-top"></div>
        <div class="b-lines lines-middle"></div>
        <div class="b-lines lines-ends lines-bottom"></div> 
    </button>
</div>


<aside class="sb-mobile">
    <nav class="mobile-menu flex gap1 column" aria-label="Main navigation">
    
        <a href="{BlogURL}">{text:Home Link Label}</a>
        {block:AskEnabled}
            {block:ifAskLinkLabel} 
                <a href="/ask">{text:Ask Link Label}</a>
            {/block:ifAskLinkLabel}
        {/block:AskEnabled}
                
        {block:HasPages}
            {block:Pages}
              <a href="{URL}">{Label}</a>
            {/block:Pages}
        {/block:HasPages}
        
        {block:ifArchiveLinkLabel}
            <a href="/archive"><span>{text:Archive Link Label}</span></a>
        {/block:ifArchiveLinkLabel}
        
        {block:SubmissionsEnabled}
            {block:ifSubmitLinkLabel}
                <a href="/submit">{text:Submit Link Label}</a>
            {/block:ifSubmitLinkLabel}
        {/block:SubmissionsEnabled}
    </nav>
    {block:ifFeaturedTags}
        <nav class="featured-tags flex gap1 column">
          {block:HasPages}
            {block:Pages}
              <a href="{URL}"><span class="tagname">{Label}</span><span class="total"></span></a>
            {/block:Pages}
          {/block:HasPages}
        </nav>
    {/block:ifFeaturedTags}
    
    <div class="update-container-mobile">
        
        {block:ifUpdateTitle}
            <div class="upd-title">{text:Update Title}</div>
        {/block:ifUpdateTitle}
        
        {block:ifUpdateText}
            <div class="updates">{text:Update Text}</div>
        {/block:ifUpdateText}
        
        {block:ifActivity1}
        <div class="activity">
            {block:ifActivity1Icon}<i data-lucide="{text:Activity 1 Icon}"></i>{/block:ifActivity1Icon}
            <span>{text:Activity 1}</span>
        </div>
        {/block:ifActivity1}
        
        {block:ifActivity2}
        <div class="activity">
            {block:ifActivity2Icon}<i data-lucide="{text:Activity 2 Icon}"></i>{/block:ifActivity2Icon}
            <span>{text:Activity 2}</span>
        </div>
        {/block:ifActivity2}
        
        {block:ifActivity3}
        <div class="activity">
            {block:ifActivity3Icon}<i data-lucide="{text:Activity 3 Icon}"></i>{/block:ifActivity3Icon}
            <span>{text:Activity 3}</span>
        </div>
        {/block:ifActivity3}
        
        {block:ifActivity4}
        <div class="activity">
            {block:ifActivity4Icon}<i data-lucide="{text:Activity 4 Icon}"></i>{/block:ifActivity4Icon}
            <span>{text:Activity 4}</span> 
        </div>
        {/block:ifActivity4}
    </div>
</aside>



<main>


<aside class="sb">
        <div class="sb-inner">
        
            <div class="sb-top flex gap5">
                {block:IfSidebarImage}
                    <div class="sidebar-image {select:Sidebar Image Shape} flex" aria-hidden="true"> 
                        <img {block:IfDarkModeSidebarImage}class="light-on"{/block:IfDarkModeSidebarImage} src="{image:Sidebar}" alt="Sidebar image"/>
                        {block:IfDarkModeSidebarImage}
                            <img class="light-off" src="{image:Dark mode Sidebar}" alt="Sidebar dark mode image"/>
                        {/block:IfDarkModeSidebarImage}
                    </div>
                {/block:IfSidebarImage}
            
                <div>
                    {block:ifSidebarTitle}
                        <h6 class="sb-title">{text:Sidebar Title}</h6>
                    {/block:ifSidebarTitle}
                    {block:ifSidebarDescription}
                        <div class="sb-description">{text:Sidebar Description}</div>
                    {/block:ifSidebarDescription}
                    
                    {block:ifSearchBar}
                        <form class="search flex align-center between" action="/search" method="get" aria-label="Search the blog">
                            <button class="search" aria-label="click to search" type="submit"><i data-lucide="search"></i></button>
                            <input type="text" name="q" value="{SearchQuery}" placeholder="Search" autocomplete="off" aria-label="Search input"/>
                        </form>
                    {/block:ifSearchBar}
                </div>
                
            </div>
            
            <nav class="sb-menu flex gap1 align-center wrap desktop" aria-label="Main navigation">
            
                <a href="{BlogURL}">{text:Home Link Label}</a>
                
                {block:AskEnabled}
                    {block:ifAskLinkLabel} 
                        <a href="/ask">{text:Ask Link Label}</a>
                    {/block:ifAskLinkLabel}
                {/block:AskEnabled}
                        
                {block:HasPages}
                    {block:Pages}
                      <a href="{URL}">{Label}</a>
                    {/block:Pages}
                {/block:HasPages}
                
                {block:ifArchiveLinkLabel}
                    <a href="/archive"><span>{text:Archive Link Label}</span></a>
                {/block:ifArchiveLinkLabel}
                
                {block:SubmissionsEnabled}
                    {block:ifSubmitLinkLabel}
                        <a href="/submit">{text:Submit Link Label}</a>
                    {/block:ifSubmitLinkLabel}
                {/block:SubmissionsEnabled}
            </nav>
                
            {block:ifFeaturedTags}
                <nav class="featured-tags flex gap1 align-center wrap desktop">
                  {block:HasPages}
                    {block:Pages}
                      <a href="{URL}"><span class="tagname">{Label}</span><span class="total"></span></a>
                    {/block:Pages}
                  {/block:HasPages}
                </nav>
            {/block:ifFeaturedTags}
            
        </div>
    </aside>
    
    <section class="content">
    
        {block:TagPage}
            <div class="found">
                {lang:Showing TagResultCount posts tagged Tag 3}
                {block:NoTagPage}No results.{/block:NoTagPage}
            </div>
        {/block:TagPage}
        
        
        {block:SearchPage}
            <div class="found">
                {lang:Showing SearchResultCount results for SearchQuery 2}
                {lang:Sorry no results for SearchQuery}
            </div>
        {/block:SearchPage}
        {block:DayPage}
            <div class="found">
                {lang:Viewing everything posted on Month DayOfMonth Year}
            </div>
        {/block:DayPage}
        

        {block:posts inlineMediaWidth="1280" inlineNestedMediaWidth="1280"}

        
        <article id="post-{PostID}" class="{posttype}-post posts">

            {block:IndexPage}
                {block:Date}
                
                {block:ifDatesOnlyOnNewDays}
                    {block:NewDayDate}
                        <header class="info flex gap2 column align-center"> 
                            <a class="date flex column align-center" aria-label="published date" title="{TimeAgo}" href="{Permalink}">
                                <span>{DayOfMonthWithZero}</span> 
                                <span>{ShortMonth}</span>
                            </a>
                            {block:PinnedPostLabel}
                            <div class="pinned">
                    		    <span title="pinned post">
                    			    <svg width="24" fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.16989 15.3L8.69989 19.83C10.5599 21.69 13.5799 21.69 15.4499 19.83L19.8399 15.44C21.6999 13.58 21.6999 10.56 19.8399 8.69005L15.2999 4.17005C14.3499 3.22005 13.0399 2.71005 11.6999 2.78005L6.69989 3.02005C4.69989 3.11005 3.10989 4.70005 3.00989 6.69005L2.76989 11.69C2.70989 13.04 3.21989 14.35 4.16989 15.3Z" stroke-linecap="round" stroke-linejoin="round"/><path d="M9.5 12C10.8807 12 12 10.8807 12 9.5C12 8.11929 10.8807 7 9.5 7C8.11929 7 7 8.11929 7 9.5C7 10.8807 8.11929 12 9.5 12Z" stroke-linecap="round"/></svg>
                                </span>
                    		</div>
                    	    {/block:PinnedPostLabel}
                        </header>
                    {/block:NewDayDate}
                {/block:ifDatesOnlyOnNewDays}
                
                {block:ifNotDatesOnlyOnNewDays}
                    <header class="info flex gap2 column align-center"> 
                        <a class="date flex column align-center" aria-label="published date" title="{TimeAgo}" href="{Permalink}">
                            <span>{DayOfMonthWithZero}</span> 
                            <span>{ShortMonth}</span>
                        </a>
                        {block:PinnedPostLabel}
                        <div class="pinned">
                		    <span title="pinned post">
                			    <svg width="24" fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.16989 15.3L8.69989 19.83C10.5599 21.69 13.5799 21.69 15.4499 19.83L19.8399 15.44C21.6999 13.58 21.6999 10.56 19.8399 8.69005L15.2999 4.17005C14.3499 3.22005 13.0399 2.71005 11.6999 2.78005L6.69989 3.02005C4.69989 3.11005 3.10989 4.70005 3.00989 6.69005L2.76989 11.69C2.70989 13.04 3.21989 14.35 4.16989 15.3Z" stroke-linecap="round" stroke-linejoin="round"/><path d="M9.5 12C10.8807 12 12 10.8807 12 9.5C12 8.11929 10.8807 7 9.5 7C8.11929 7 7 8.11929 7 9.5C7 10.8807 8.11929 12 9.5 12Z" stroke-linecap="round"/></svg>
                            </span>
                		</div>
                	    {/block:PinnedPostLabel}
                    </header>
                {/block:ifNotDatesOnlyOnNewDays}
                
                {/block:Date}
            {/block:IndexPage}
            
            
            <div class="post-content">

                {block:Photo}
                <!-- legacy single photo -->
                    <a class="legacy-photo photo-single"  onclick="Tumblr.Lightbox.init([{ width: {PhotoWidth-HighRes}, height: {PhotoHeight-HighRes}, low_res: '{PhotoURL-500}', high_res: '{PhotoURL-HighRes}' }]); $('body').toggleClass('tumblr_lightbox_active'); return false"><img src="{PhotoURL-HighRes}"></a>
                {/block:Photo}

                {block:Photoset}
                <!-- legacy photoset -->
                    <div class="photoset" data-layout="{PhotosetLayout}">
                        {block:Photos}
                            <div class="legacy-photoset-inner" 
                                data-width="{PhotoWidth-HighRes}" 
                                data-height="{PhotoHeight-HighRes}" 
                                data-lowres="{PhotoURL-500}" 
                                data-highres="{PhotoURL-HighRes}">
                                <img src="{PhotoURL-HighRes}" alt="{PhotoAlt}" class="image"/>
                            </div>
                        {/block:Photos}
                    </div>
                {/block:Photoset}
    
                {block:Panorama}
                <!-- panorama -->
                    <div class="legacy-photo"><img src="{photourl-panorama}" alt="{photoalt}"></div>
                {/block:Panorama}

                {block:Quote}
                <!-- legacy quote (styled as npf) -->
                    <div class="caption">
                        <p class="npf_quote">{Quote}</p>
                        
                        {block:Source}
                            <p class="source">-{Source}</p>
                        {/block:Source}
                    </div>
                {/block:Quote}

                {block:Chat}
                <!-- legacy chat (styled as npf) -->
                    <div class="caption">
            	        {block:Lines}
            	        <p class="npf_chat">
            		        {block:Label}
            		        <span class="label">{Label}</span>
            		        {/block:Label}
            		        {Line}
            	        </p>
            	        {/block:Lines}
                    </div>
                {/block:Chat}

                {block:link}
                <!-- legacy link (styled as npf) -->
                    <div class="npf-link-block {block:Thumbnail}has-poster{/block:Thumbnail}">
                        <a {Target} href="{URL}" class="link">
                            <div {block:Thumbnail}class="poster" style="background:url({Thumbnail-HighRes}); background-position: 50%; background-repeat: no-repeat; background-size: cover; background-clip: content-box;"{/block:Thumbnail}>
                                <div class="title">{Name}</div>
                            </div>
                            <div class="bottom">
                                {block:Excerpt}<div class="description">{Excerpt}</div>{/block:Excerpt}
                                {block:Host}<div class="site-name">{Host}</div>{/block:Host}
                            </div>
                        </a>
                    </div>
                {/block:link}

                {block:Video}
                <!-- legacy video -->
                    <div class="video">
                        {Video-700}
                    </div>
                {/block:Video}

                {block:Audio}
                    <!-- legacy audio -->
                    <figure class="tmblr-full">
                        <figcaption class="audio-caption legacy">
                            <div class="audio-info">
                                <span class="tmblr-audio-meta audio-details">
                                    {block:TrackName}<span class="tmblr-audio-meta title">{TrackName}</span>{/block:TrackName}
                                    {block:Artist}<span class="tmblr-audio-meta artist">{Artist}</span>{/block:Artist}
                                    {block:Album}<span class="tmblr-audio-meta album">{Album}</span>{/block:Album}
                                </span>
                                {block:AlbumArt}<img class="album-cover" src="{AlbumArtURL}" alt="image"/>{/block:AlbumArt}
                            </div>
                        </figcaption>
                        {block:AudioPlayer}{AudioPlayer}{/block:AudioPlayer}
                    </figure>
                {/block:Audio}

                {block:Answer}
                <!-- ask -->
                    <div class="ask-container">
                        <div class="asker-wrap">
                            <img class="asking-icon" src="{AskerPortraitURL-64}" alt="Asker avatar">
                            <div class="ask-user-info flex column">
                                <span>{Asker}</span>
                                <span>wrote</span>
                            </div>
            	       </div>
            	       <div class="question">
                            {Question}
                	   </div>
                    </div>
            
                    {block:NotReblog}
                        <div class="replies">{Answer}</div>
                    {/block:NotReblog}
            
                    {block:Answerer}
                    <div class="ask-container rb-answer">
                        
                        <div class="asker-wrap">
                            <img class="asking-icon" src="{AnswererPortraitURL-64}" alt="Answerer avatar">
                            <div class="ask-user-info flex column">
                                <span>{Answerer}</span>
                                <span>answered</span>
                            </div>
                        </div>
                        <div class="question">
                            {Answer}
            	       </div>
                    </div>
                    {/block:Answerer}
                {/block:Answer} 

                <div class="caption {block:notreblog}original-post{/block:notreblog}">
                <!-- caption -->
                    {block:Text}
                        {block:Title}<h1>{Title}</h1>{/block:Title}
                    {/block:Text}
                    
                    {block:Link}
                        {block:Description}
                        {block:NotReblog}{Description}{/block:NotReblog}
                        {/block:Description}
                    {/block:Link}
                    
                    {block:notreblog}
                    {block:caption}{Caption}{/block:caption}

                    {block:Text}
                        <div class="reblog-content original">{Body}</div>
                    {/block:Text}
                    
                    {/block:notreblog}
                    
                    {block:Rebloggedfrom}
                        {block:Reblogs}
                        <div class="reblogs" {block:Quote}style="display:none;"{/block:Quote}>
                            <div class="reblog-header {block:IsOriginalEntry}original{/block:IsOriginalEntry} flex gap1 align-center">
                                <img src="{PortraitURL-64}" alt="{username}'s avatar">
                                {block:IsActive}
            			        <a class="user flex align-center" target="_blank" href="{Permalink}">{Username}</a>
            			        {/block:IsActive}
            			        {block:IsDeactivated}
            		            <span class="user deactivated" title="deactivated" aria-label="user deactivated">{Username}</span>
            			        {/block:IsDeactivated}
                            </div>
                            
                            <div class="reblog-content">
                                {Body}
                            </div>
                        </div>
                        {/block:Reblogs}
                    {/block:RebloggedFrom}
                </div>
        
            </div><!-- post-content end -->
        
            {block:Date}
                <footer class="info">
                {block:IndexPage}
                    <div class="info-inner flex align-center between gap3">
                    
                        <div class="numbers flex align-center">
                            {block:ifDatesOnlyOnNewDays}
                                <a class="date-footer" href="{Permalink}" aria-label="published date" title="Posted {DayOfMonth} {ShortMonth} {Year}">{DayOfWeek}</a>
                            {/block:ifDatesOnlyOnNewDays}
                            <a href="{Permalink}#note"><span class="notecount" aria-label="{NoteCountWithLabel} on this post">{NoteCountWithLabel}</span></a>
                        </div>
                        
                        <div class="interact flex align-center">
                            {block:HasTags}
                                <div class="toggle-tags both-info tags-tooltip" aria-label="Show or hide tags">
                                    <span class="info-icon" role="img" >
                                        <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-tag"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M3 6v5.172a2 2 0 0 0 .586 1.414l7.71 7.71a2.41 2.41 0 0 0 3.408 0l5.592 -5.592a2.41 2.41 0 0 0 0 -3.408l-7.71 -7.71a2 2 0 0 0 -1.414 -.586h-5.172a3 3 0 0 0 -3 3z" /></svg>
                                    </span>
                                    <span class="info-text">tags</span>
                                </div>
                            {/block:HasTags}
                            
                            <a class="both-info custom-like-container like-tooltip" href="#" aria-label="Like this post">
                                {LikeButton}
                                <span class="info-icon custom-like-icon" role="img" aria-label="Like post">
                                    <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-heart"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" /></svg>
                                </span>
                                <span class="custom-like-text info-text">like</span>
                            </a>

                            <a class="both-info rb rb-tooltip" href="{ReblogURL}" target="_blank" aria-label="Reblog this post">
                                <span class="info-icon" role="img" aria-label="Reblog post">
                                    <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-refresh"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4" /><path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4" /></svg>
                                </span>
                                <span class="info-text">reblog</span>
                            </a>
                        </div>
                    </div>
                    
                    {block:HasTags}
                        <div class="tags-container">
                            <div class="tags">
                                {block:Tags}
                                <a href="{TagURL}">#{Tag}</a>
                                {/block:Tags}
                            </div>
                        </div>
                    {/block:HasTags}

                {/block:IndexPage}
                
                    {block:PermalinkPage}
                        <div class="permalink-container flex column gap3">
                        
                            {block:HasTags}
                                <div class="flex wrap align-center gap2">
                                    {block:Tags}
                                    <a href="{TagURL}">#{Tag}</a>
                                    {/block:Tags}
                                </div>
                            {/block:HasTags}
                        
                            <div class="perma-date flex align-center gap1">
                                <span>Posted at {12Hour}:{Minutes} {CapitalAmPm}</span> <span id="dot"></span> <span> {DayOfMonth} {Month}, {Year}</span>
                            </div>

                            {block:RebloggedFrom}
                                <div class="perma-spacer">
                                    <i data-lucide="user"></i>
                                    <span>Created by <a href="{ReblogRootURL}">{ReblogRootName}</a>
                                </div>
                                <div class="perma-spacer">
                                    <i data-lucide="repeat-2"></i>
                                    <span>Reblogged from <a href="{ReblogParentURL}">{ReblogParentName}</a>
                                </div>
                            {/block:RebloggedFrom}
                            
                            {block:ContentSource}
                                <div class="perma-spacer">
                                    <i data-lucide="link-2"></i>
                                    <span><b>Source:</b> <a href="{SourceURL}">{SourceTitle}</a>
                                </div>
                            {/block:ContentSource}
                        </div>
                    {/block:PermalinkPage}

                </footer>
            {/block:Date}
            
        </article>

        {block:PostNotes}
            <div id="note" class="perma-post-notes">
                <div class="perma-notes">{NoteCountWithLabel}</div>
                {PostNotes-64}
            </div>
        {/block:PostNotes}
        
        {/block:Posts}
        
        

                
        {block:DayPagination}
            <nav class="pagi flex gap2 align-center between" role="navigation" aria-label="Pagination">
                <a {block:NextDayPage} href="{NextDayPage}" aria-label="Next day {DayOfMonth} {Month}, {Year}" {/block:NextDayPage} class="flex align-center gap2 {block:NextDayPage}has_{/block:NextDayPage}page">
                    <span class="pagi-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left"><path d="m15 18-6-6 6-6"/></svg></span>            {block:NextDayPage}<span>{DayOfMonth} {Month} '{ShortYear}</span>{/block:NextDayPage}
                </a>

                <a {block:PreviousDayPage} href="{PreviousDayPage}" aria-label="Previous page {DayOfMonth} {Month}, {Year}" {/block:PreviousDayPage} class="flex align-center gap2 {block:PreviousDayPage}has_{/block:PreviousDayPage}page">
                    {block:PreviousDayPage}<span>{DayOfMonth} {Month} '{ShortYear}</span>{/block:PreviousDayPage}
                    <span class="pagi-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right"><path d="m9 18 6-6-6-6"/></svg></span>
                </a>
            </nav>
        {/block:DayPagination}
        

            
        {block:Pagination}
            <nav class="pagi flex gap5 align-center between" role="navigation" aria-label="Pagination">
                <a {block:PreviousPage} href="{PreviousPage}" aria-label="Previous page" title="Previous page"{/block:PreviousPage} class="flex align-center gap2 {block:PreviousPage}has_{/block:PreviousPage}page">
                    <span class="pagi-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left"><path d="m15 18-6-6 6-6"/></svg></span>
                </a>
                
                <span class="current_page">{CurrentPage}/{TotalPages}</span>
                
                <a {block:NextPage} href="{NextPage}" title="next page" aria-label="Next page" {/block:NextPage} class="flex align-center gap2 {block:NextPage}has_{/block:NextPage}page">
                    <span class="pagi-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right"><path d="m9 18 6-6-6-6"/></svg></span>
                </a>
            </nav>
        {/block:Pagination}
    </section>
</main>

</div><!-- .site-container end -->  

<div class="top-corner flex column gap1">
    <button class="controls right-icon" title="tumblr controls" type="button" aria-label="open tumblr controls">
        <svg class="spin" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" xmlns="http://www.w3.org/2000/svg"><path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" /><path d="M2 12.8799V11.1199C2 10.0799 2.85 9.21994 3.9 9.21994C5.71 9.21994 6.45 7.93994 5.54 6.36994C5.02 5.46994 5.33 4.29994 6.24 3.77994L7.97 2.78994C8.76 2.31994 9.78 2.59994 10.25 3.38994L10.36 3.57994C11.26 5.14994 12.74 5.14994 13.65 3.57994L13.76 3.38994C14.23 2.59994 15.25 2.31994 16.04 2.78994L17.77 3.77994C18.68 4.29994 18.99 5.46994 18.47 6.36994C17.56 7.93994 18.3 9.21994 20.11 9.21994C21.15 9.21994 22.01 10.0699 22.01 11.1199V12.8799C22.01 13.9199 21.16 14.7799 20.11 14.7799C18.3 14.7799 17.56 16.0599 18.47 17.6299C18.99 18.5399 18.68 19.6999 17.77 20.2199L16.04 21.2099C15.25 21.6799 14.23 21.3999 13.76 20.6099L13.65 20.4199C12.75 18.8499 11.27 18.8499 10.36 20.4199L10.25 20.6099C9.78 21.3999 8.76 21.6799 7.97 21.2099L6.24 20.2199C5.33 19.6999 5.02 18.5299 5.54 17.6299C6.45 16.0599 5.71 14.7799 3.9 14.7799C2.85 14.7799 2 13.9199 2 12.8799Z" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </button>
    {block:ifDarkMode}
        <button class="theme-toggle right-icon" aria-label="toggle dark & light mode" type="button" role="button">
            <svg  xmlns="http://www.w3.org/2000/svg" class="light-off" width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="1.25"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14.828 14.828a4 4 0 1 0 -5.656 -5.656a4 4 0 0 0 5.656 5.656z" /><path d="M6.343 17.657l-1.414 1.414" /><path d="M6.343 6.343l-1.414 -1.414" /><path d="M17.657 6.343l1.414 -1.414" /><path d="M17.657 17.657l1.414 1.414" /><path d="M4 12h-2" /><path d="M12 4v-2" /><path d="M20 12h2" /><path d="M12 20v2" /></svg>
                    
            <svg xmlns="http://www.w3.org/2000/svg" class="light-on" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9"/><path d="M20 3v4"/><path d="M22 5h-4"/></svg>

        </button>
    {/block:ifDarkMode}
    

    <div class="update-wrap desktop">
    
        <button class="upd-toggle right-icon" title="Update Tab" aria-label="Update Tab" type="button" role="button">
            <i data-lucide="bell" class="upd-toggle-icon"></i>
            <i data-lucide="bell-off" class="upd-toggle-icon hidden"></i>
        </button>

        <div class="update-container">
            
            {block:ifUpdateTitle}
                <div class="upd-title">{text:Update Title}</div>
            {/block:ifUpdateTitle}
            
            {block:ifUpdateText}
                <div class="updates">{text:Update Text}</div>
            {/block:ifUpdateText}
            
            {block:ifActivity1}
	        <div class="activity">
	            {block:ifActivity1Icon}<i data-lucide="{text:Activity 1 Icon}"></i>{/block:ifActivity1Icon}
	            <span>{text:Activity 1}</span>
            </div>
            {/block:ifActivity1}
            
            {block:ifActivity2}
	        <div class="activity">
	            {block:ifActivity2Icon}<i data-lucide="{text:Activity 2 Icon}"></i>{/block:ifActivity2Icon}
	            <span>{text:Activity 2}</span>
            </div>
            {/block:ifActivity2}
            
            {block:ifActivity3}
	        <div class="activity">
	            {block:ifActivity3Icon}<i data-lucide="{text:Activity 3 Icon}"></i>{/block:ifActivity3Icon}
	            <span>{text:Activity 3}</span>
            </div>
            {/block:ifActivity3}
            
            {block:ifActivity4}
	        <div class="activity">
	            {block:ifActivity4Icon}<i data-lucide="{text:Activity 4 Icon}"></i>{/block:ifActivity4Icon}
	            <span>{text:Activity 4}</span> 
            </div>
            {/block:ifActivity4}
        </div>
    </div>


</div>


<div class="bottom-corner flex column gap1">
    <button class="scroll-to-top flex right-icon" type="button" aria-label="Scroll to top" title="scroll to top">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-up">
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path d="M6 15l6 -6l6 6" />
        </svg>
    </button>
    <a class="credit right-icon flex" target="_blank" href="https://mournstera.tumblr.com/" aria-label="Visit mournstera Tumblr for more information" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-code"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 8l-4 4l4 4" /><path d="M17 8l4 4l-4 4" /><path d="M14 4l-4 16" /></svg>
    </a>
</div>

<svg height="0" width="0" style="position:absolute; width:0px; height:0px;"><clipPath id="blob1" clipPathUnits="objectBoundingBox"><path d="M0.5,0.053c0.266,-0.074 0.242,0.198 0.44,0.447c0.161,0.204 -0.209,0.435 -0.44,0.455c-0.275,0.023 -0.516,-0.183 -0.471,-0.455c0.037,-0.217 0.235,-0.382 0.471,-0.447Z"></path></clipPath></svg>
<svg viewBox="0 0 390.3 414.4" height="0" width="0" style="position:absolute; width:0px; height:0px;"><clipPath id="blob2" clipPathUnits="objectBoundingBox" transform="scale(0.002562, 0.002413)"><path class="st0" d="M276.8,56.9c23.5,25.9,33.9,61.3,53.7,95.3c19.8,33.9,49,66.4,57.3,104.6c8.2,38.2-4.5,82.3-35.2,102.2 c-30.6,20-79.2,15.8-121.3,23.7c-42.1,7.8-77.8,27.6-118.6,31.1c-40.9,3.5-86.9-9.3-99.3-41.4c-12.3-32.1,8.9-83.4,8.9-127.5 c0-44.2-21.1-81.2-22.3-121.6C-1.1,82.9,17.9,39,51.2,17.6C84.6-3.9,132.3-2.9,174.5,5.8S253.3,30.9,276.8,56.9z"/></clipPath></svg>


<script src="https://static.tumblr.com/diajl5m/y39s6mwvr/legacy-photoset.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2"></script>
<script src="https://cdn.jsdelivr.net/npm/tippy.js@6"></script>
<script src="https://cdn.jsdelivr.net/npm/lucide@latest"></script>
<script src="https://static.tumblr.com/diajl5m/mobsquso5/unify_audio.js"></script>

<script>
lucide.createIcons();

document.addEventListener("DOMContentLoaded", function () {

    // ------------------------------------------------ TOGGLE TUMBLR CONTROL
    const controls = document.querySelector(".controls");
    
    controls.addEventListener("click", function () {
        document.querySelector(".spin").classList.toggle("active");
        document.querySelector(".tmblr-iframe").classList.toggle("active");
    });
    
    // ------------------------------------------------- SCROLL TO TOP BUTTON
    const html = document.documentElement;
    const scrollElementMobile = document.querySelector(".scroll-to-top");
    
    document.addEventListener("scroll", function () {
        if (html.scrollTop > 70) {
            scrollElementMobile.classList.add("visible");
        } else {
            scrollElementMobile.classList.remove("visible");
        }
    });
    
    scrollElementMobile.addEventListener("click", function() {
        window.scrollTo({
            top: 0,
            behavior: "smooth"
        });
    });

    
    // --------------------------------------------------- NOTE COUNT SHORTEN
    document.querySelectorAll(".notecount").forEach(noteCountElement => {
        const noteCount = parseInt(noteCountElement.textContent.replace(/,/g, "").split(" ")[0], 10);
    
        if (noteCount >= 1000) {
            const formattedCount = (noteCount >= 1000000)
                ? `${(noteCount / 1000000).toFixed(2)}m notes`
                : `${(noteCount / 1000).toFixed(1)}k notes`;
            noteCountElement.textContent = `${ formattedCount }`;
        }
    });
    
    // ------------------------------------------------- UPDATE TAB
    
    const updContainer = document.querySelector('.update-container');
    const updToggle = document.querySelector('button.upd-toggle');
    const toggleUpdIcons = updToggle.querySelectorAll('.upd-toggle-icon');
    
    updToggle.addEventListener('click', function () {
        if (updContainer.classList.contains('active')) {
            closeMenu();
        } else {
            openMenu();
        }
    });
    
    function openMenu() {
        updContainer.classList.add('active');
        updateToggleState(true);
    }
    
    function closeMenu() {
        updContainer.classList.remove('active');
        updateToggleState(false);
    }
    
    updContainer.addEventListener('click', function (event) {
        event.stopPropagation();
    });
    
    function updateToggleState(isOpen) {
        toggleUpdIcons.forEach(icon => icon.classList.toggle('hidden'));
    }
    
    {block:IndexPage}
    // ---------------------------------------------------------- TOGGLE TAGS
    const toggleTagsElements = document.querySelectorAll(".toggle-tags");
    
    toggleTagsElements.forEach(function (element) {
        element.addEventListener("click", function (event) {
            const article = this.closest("article");
            if (!article) return;
    
            const tagsContainer = article.querySelector(".tags-container");
            if (!tagsContainer) return;
    
            const computedMaxHeight = window.getComputedStyle(tagsContainer).maxHeight;
            const isOpen = computedMaxHeight !== "0px" && computedMaxHeight !== "none";
    
            if (isOpen) {
                tagsContainer.style.maxHeight = `${tagsContainer.scrollHeight}px`; // Set to current height
                requestAnimationFrame(() => {
                    tagsContainer.style.maxHeight = "0px"; // Collapse after frame
                });
            } else {
                tagsContainer.style.maxHeight = `${tagsContainer.scrollHeight}px`; // Expand smoothly
            }
    
            this.classList.toggle("active");
            event.preventDefault();
        });
    });

    // ---------------------------------------------------- TRUNCATED TAGS
    const maxVisibleTags = 3;

    document.querySelectorAll(".tags-trunc .tags-container .tags").forEach(tagsContainer => {
        const tags = tagsContainer.querySelectorAll("a");

        if (tags.length > maxVisibleTags) {

            tags.forEach((tag, index) => {
                if (index < maxVisibleTags) {
                    tag.classList.add("visible");
                } else {
                    tag.style.display = "none";
                }
            });

            const thirdTag = tags[maxVisibleTags - 1];
            if (thirdTag) {
                thirdTag.classList.add("ellipsis");
            }

            const expandLink = document.createElement("a");
            expandLink.href = "#expand";
            expandLink.className = "expand";
            expandLink.textContent = "see all";
            tagsContainer.appendChild(expandLink);

            expandLink.addEventListener("click", function (event) {
                event.preventDefault();
                tags.forEach(tag => {
                    tag.style.display = "inline";
                });
                thirdTag.classList.remove("ellipsis");
                expandLink.remove();
            });
        } else {
            tags.forEach(tag => {
                tag.classList.add("visible");
            });
        }
    });
    {/block:IndexPage}
    
    // ------------------------------------------------- MOBILE SIDEBAR

    const menuToggleBtn = document.querySelector('.burger');
    const menuSide = document.querySelector('.sb-mobile');
    
    menuToggleBtn.addEventListener('click', function () {
        menuSide.classList.toggle('active');
        menuToggleBtn.classList.toggle('active-burger');
        document.body.classList.toggle('hide');
    });

});

{block:ifFeaturedTags}
// ------------------------------------------------------------ FEATURED TAGS
// featured tags by egg.design, modified by me

function getScript(scriptUrl, callback, errors) {
    const script = document.createElement('script');
    script.src = scriptUrl;
    script.onload = callback;
    script.onerror = errors
    document.body.appendChild(script);
}

const featuredTags = document.querySelectorAll('.featured-tags a[href*="/tagged"]');
const totals = document.querySelectorAll('.featured-tags a[href*="/tagged"] .total');

featuredTags.forEach((tag, index) => {
    const tagged = tag.href.split('/tagged/')[1];
    let tagData;
    const tagUrl = `https://{name}.tumblr.com/api/read/json?tagged=${ tagged }`;
    function onErrors() {
        tag.innerHTML = `${ tagged } not found`;
    }

    function onLoad() {
        tagData = tumblr_api_read;
        const total = tagData['posts-total'];
        totals[index].innerHTML = total === '1' ? `${ total }` : `${ total }`;
    }

    getScript(tagUrl, onLoad, onErrors);
});
{/block:ifFeaturedTags}

// ------------------------------------------------------------- TOOLTIP
const commonOptions = {
    theme: "custom",
    arrow: false,
    followCursor: true,
    placement: "top",
    touch: "hold",
};

tippy(".only-icons .like-tooltip", {
    ...commonOptions,
    content: "Like post",
});

tippy(".only-icons .rb-tooltip", {
    ...commonOptions,
    content: "Reblog post",
});

tippy(".only-icons .tags-tooltip", {
    ...commonOptions,
    content: "Show tags",
});

tippy(".credit", {
    theme: "credit",
    arrow: false,
    followCursor: false,
    placement: "left",
    touch: "hold",
    allowHTML: true,
    content: "Leaf theme <br> by <strong>mournstera</strong>",
});

tippy("[title]", {
    ...commonOptions,
    content(reference) {
        const title = reference.getAttribute("title");
        reference.removeAttribute("title");
        return title;
    },
});


{block:ifDarkMode}
// ---------------------------------------------------------------- DARK MODE
const themeToggleButtons = document.querySelectorAll(".theme-toggle");

themeToggleButtons.forEach((btn) => {
    const storedTheme = localStorage.getItem("theme") || (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");
    const initialTooltipText = storedTheme === "dark" ? "Toggle light mode" : "Toggle dark mode";
    tippy(btn, {
        ...commonOptions,
        content: initialTooltipText, 
    });

    btn.addEventListener("click", function () { 
        const currentTheme = document.documentElement.getAttribute("data-theme");
        const targetTheme = currentTheme === "light" ? "dark" : "light";

        const tooltipText = targetTheme === "dark" ? "Toggle light mode" : "Toggle dark mode";
        btn._tippy.setContent(tooltipText);

        document.documentElement.classList.add("theme-transition");
        document.documentElement.setAttribute("data-theme", targetTheme);
        localStorage.setItem("theme", targetTheme);

        setTimeout(function () {
            document.documentElement.classList.remove("theme-transition");
        }, 50);
    });
});
{/block:ifDarkMode}

// ----------------------------------------------------------- REMOVE EMPTY p
for (const p of document.querySelectorAll('p')) {
    if (p.innerHTML.trim() === '') {
       p.remove()
    }
}
// --------------------------------------------------------- DISPLAY NPF POST
// reverse-compatible-template.html by @egg.design
// create posts array
let posts = []
{block:Posts} 
    posts.push({ npf: JSON.parse({JSNPF}), id: {JSPostId}}) 
{/block:Posts}

//function for updating post types 
function updateTypes(type, article) {
    article.classList.remove('text-post')
    article.classList.add(`${ type }-post`, 'npf-post')
}

// loop through array to get each post
for (const post of posts) {
   let npf = post.npf
   let article = document.getElementById(`post-${post.id}`)
   // select captions that have something in them
   let caption = article.querySelector('.caption:is(:not(:empty))')
   if (caption != null && article.classList.contains('text-post')) {
      // if content exists
      if (npf.trail.length || npf.content.length) {
          // assign various post types based on NPF data
            switch (npf.trail[0]?.content[0]?.type ?? npf.content[0].type) {
            case 'image':
               updateTypes('photos', article)
               if (article.querySelector('.npf_row') == null) {
                   caption.prepend(article.querySelector('figure'))
               }
               break
            case 'video':
               updateTypes('video', article)
               let video = article.querySelector('figure')
               caption.prepend(video)
               break
            case 'link':
              updateTypes('link', article)
            case 'audio':
               updateTypes('audio', article)
                break
            case 'quote':
                updateTypes('quote', article)
            }
          
         // if there are photos
         if (article.classList.contains('photos-post')) {
            let photoset = document.createElement('div')
            photoset.classList.add('npf-photos')
            caption.prepend(photoset)
            // find where a photoset would be split up by another content block
            let photoBreak = article.querySelector('.reblog-content p, .reblog-content h1, .reblog-content h2, .reblog-content blockquote')
            let elements = []
            if (photoBreak) {
               let prevElement = photoBreak.parentNode.firstElementChild
               while (prevElement !== photoBreak) {
                  elements.push(prevElement)
                  prevElement = prevElement.nextElementSibling
               }
            }
            // if there is nothing that breaks up the photoset, select all rows
            else {
               elements = article.querySelectorAll('.npf_row')
            }
            // move each row to the top
            for (const el of elements) {
               photoset.append(el)
            }
            if (article.querySelectorAll('.npf_row').length > 1) {
                updateTypes('photoset', article)
            }
            else {
                updateTypes('photo', article)
            }
         }
         
         // clean up any potential stray reblog headers
         let reblogHeader = article.querySelector('.reblog-header')
         let reblogContent = article.querySelector('.reblog-content') 
         if (reblogHeader?.nextElementSibling === reblogContent && reblogContent?.childElementCount === 0) {
            reblogHeader.remove()
            reblogContent.remove()
         }
      }
   }
}

// wrap npf photoset in div that's not the first photoset
const content = document.querySelectorAll(".reblog-content");
let sections = []; // initialize empty array it'll be useful later !
let temp_array = []; // will also be useful

// We will re-create all the div "reblog-content".
function removeAndReplace(content_div) {
    content_div.replaceChildren();
    let idx = 0;

    for (const array_containing_the_arrays_of_child_nodes of sections) {
        const div = document.createElement("div");
        array_containing_the_arrays_of_child_nodes[0].classList.contains("npf_row") ? ++idx : null;
        for (const child_nodes_array of array_containing_the_arrays_of_child_nodes) {
            if (!child_nodes_array.classList.contains("npf_row")) {
                content_div.appendChild(child_nodes_array);
            } else {
                div.appendChild(child_nodes_array);
            }
        }
        div.classList.add(`more_photoset`);
        div.children.length <= 0 ? null : content_div.appendChild(div);
    }
    sections = [];
}

function y() {
    content.forEach((content) => {
        const content_children = content.children;
        for (let i = 0; i < content_children.length; ++i) {
            const children = content_children[i];
            if (!children.classList.contains("npf_row")) {
                temp_array.length >= 1 ? sections.push(temp_array, [children]) : sections.push([children]);
                temp_array = [];
            } else {
                temp_array.push(children);
                if (content_children[content_children.length - 1] === children) {
                    sections.push(temp_array);
                    temp_array = [];
                }
            }
        }
        removeAndReplace(content);
    });
}

y();
</script>
</body>
</html>
